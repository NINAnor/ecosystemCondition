<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 6 Functional Plant Indicators - Wetlands | Indicators for Ecosystem Condition in Norway</title>
<meta name="author" content="Anders L. Kolstad">
<meta name="description" content="Norwegian name: Vegetasjon og fuktighet/lys/pH/nitrogen Author and date: Joachim Töpper May 2023   pre {  max-height: 300px;  overflow-y: auto; } pre[class] {  max-height: 200px; }...">
<meta name="generator" content="bookdown 0.33 with bs4_book()">
<meta property="og:title" content="Chapter 6 Functional Plant Indicators - Wetlands | Indicators for Ecosystem Condition in Norway">
<meta property="og:type" content="book">
<meta property="og:url" content="https://ninanor.github.io/ecosystemCondition/index.html/functional-plant-indicators-wetland.html">
<meta property="og:image" content="https://ninanor.github.io/ecosystemCondition/index.html/images/Picture1.png">
<meta property="og:description" content="Norwegian name: Vegetasjon og fuktighet/lys/pH/nitrogen Author and date: Joachim Töpper May 2023   pre {  max-height: 300px;  overflow-y: auto; } pre[class] {  max-height: 200px; }...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 6 Functional Plant Indicators - Wetlands | Indicators for Ecosystem Condition in Norway">
<meta name="twitter:description" content="Norwegian name: Vegetasjon og fuktighet/lys/pH/nitrogen Author and date: Joachim Töpper May 2023   pre {  max-height: 300px;  overflow-y: auto; } pre[class] {  max-height: 200px; }...">
<meta name="twitter:image" content="https://ninanor.github.io/ecosystemCondition/index.html/images/Picture1.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.2/transition.js"></script><script src="libs/bs3compat-0.4.2/tabs.js"></script><script src="libs/bs3compat-0.4.2/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><link href="libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">
<script src="libs/tabwid-1.1.3/tabwid.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.6.1/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.27/datatables.js"></script><link href="libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Indicators for Ecosystem Condition in Norway</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">About </a></li>
<li class="book-part">INDICATORS</li>
<li><a class="" href="gjengroing.html"><span class="header-section-number">1</span> Enchroachment</a></li>
<li><a class="" href="nature-index-product.html"><span class="header-section-number">2</span> Nature index product</a></li>
<li><a class="" href="slitasje.html"><span class="header-section-number">3</span> Anthropogenic disturbance to soils and vegetation (ADSV)</a></li>
<li><a class="" href="median-summer-temp.html"><span class="header-section-number">4</span> Median Summer Temperature</a></li>
<li><a class="" href="alien-species.html"><span class="header-section-number">5</span> Alien species</a></li>
<li><a class="active" href="functional-plant-indicators-wetland.html"><span class="header-section-number">6</span> Functional Plant Indicators - Wetlands</a></li>
<li><a class="" href="functional-plant-indicators-seminat.html"><span class="header-section-number">7</span> Functional Plant Indicators - Semi-Natural Ecosystems</a></li>
<li><a class="" href="functional-plant-indicators-open.html"><span class="header-section-number">8</span> Functional Plant Indicators - Naturally Open Ecosystems</a></li>
<li><a class="" href="trophic-level-biomass-ratios.html"><span class="header-section-number">9</span> Trophic level biomass ratios</a></li>
<li><a class="" href="insect-indicators.html"><span class="header-section-number">10</span> Insect indicators</a></li>
<li><a class="" href="breeding-birds.html"><span class="header-section-number">11</span> Breeding bird indicators</a></li>
<li><a class="" href="connectivity.html"><span class="header-section-number">12</span> Connectivity</a></li>
<li class="book-part">R &amp; D</li>
<li><a class="" href="NDVI-indicator-natopen.html"><span class="header-section-number">13</span> NDVI - Naturally Open Ecosystems</a></li>
<li><a class="" href="NDVI-indicator-seminat.html"><span class="header-section-number">14</span> NDVI - Semi-natural Ecosystems</a></li>
<li><a class="" href="NDVI-indicator-wetland.html"><span class="header-section-number">15</span> NDVI - wetland ecosystems</a></li>
<li><a class="" href="flood-frequency.html"><span class="header-section-number">16</span> Flood frequency</a></li>
<li class="book-part">INDICATORS FROM THE ALPINE ASSESSMENT</li>
<li><a class="" href="areal-av-isbreer.html"><span class="header-section-number">17</span> Areal av isbreer</a></li>
<li class="book-part">DEPRECATED</li>
<li><a class="" href="areal-uten-d%C3%B8d-eller-skadet-r%C3%B8sslyng-i-kystlynghei.html"><span class="header-section-number">18</span> Areal uten død eller skadet røsslyng i kystlynghei</a></li>
<li class="book-part">GENERAL TOPICS</li>
<li><a class="" href="naturtype.html"><span class="header-section-number">19</span> Nature types</a></li>
<li><a class="" href="scaling-functions.html"><span class="header-section-number">20</span> Scaling functions</a></li>
<li><a class="" href="homogeneous-impact-areas.html"><span class="header-section-number">21</span> Homogeneous Impact Areas</a></li>
<li><a class="" href="master-grid.html"><span class="header-section-number">22</span> Master grid</a></li>
<li><a class="" href="climate-indicators-explained.html"><span class="header-section-number">23</span> Climate indicators explained</a></li>
<li><a class="" href="oversikt-over-indikatorforslag.html"><span class="header-section-number">24</span> Oversikt over indikatorforslag</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/NINAnor/ecosystemCondition">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="functional-plant-indicators-wetland" class="section level1" number="6">
<h1>
<span class="header-section-number">6</span> Functional Plant Indicators - Wetlands<a class="anchor" aria-label="anchor" href="#functional-plant-indicators-wetland"><i class="fas fa-link"></i></a>
</h1>
<p><br></p>
<p>Norwegian name: <strong>Vegetasjon og fuktighet/lys/pH/nitrogen</strong></p>
<p><em>Author and date:</em></p>
<p>Joachim Töpper</p>
<p>May 2023</p>
<p><br></p>
<!-- Load all you dependencies here -->
<!-- Limit code block height and force scrolling -->
<style type="text/css">
pre {
  max-height: 300px;
  overflow-y: auto;
}

pre[class] {
  max-height: 200px;
}
</style>
<div class="tabwid">
<style>.cl-d4bd4b62{table-layout:auto;}.cl-d4ae1a34{font-family:'DejaVu Sans';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d4ae1a52{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d4b57eb4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d4b5b49c{background-color:rgba(173, 216, 230, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d4b5b4a6{background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d4b5b4b0{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<div class="inline-table"><table data-quarto-disable-processing="true" class="cl-d4bd4b62">
<thead><tr style="overflow-wrap:break-word;">
<th class="cl-d4b5b49c"><p class="cl-d4b57eb4"><span class="cl-d4ae1a34">Ecosystem</span></p></th>
<th class="cl-d4b5b49c"><p class="cl-d4b57eb4"><span class="cl-d4ae1a34">Økologisk egenskap</span></p></th>
<th class="cl-d4b5b49c"><p class="cl-d4b57eb4"><span class="cl-d4ae1a34">ECT class</span></p></th>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-d4b5b4a6"><p class="cl-d4b57eb4"><span class="cl-d4ae1a52">våtmark</span></p></td>
<td class="cl-d4b5b4a6"><p class="cl-d4b57eb4"><span class="cl-d4ae1a52">Primærproduksjon</span></p></td>
<td class="cl-d4b5b4a6"><p class="cl-d4b57eb4"><span class="cl-d4ae1a52">Functional state characteristic</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-d4b5b4b0"><p class="cl-d4b57eb4"><span class="cl-d4ae1a52">våtmark</span></p></td>
<td class="cl-d4b5b4b0"><p class="cl-d4b57eb4"><span class="cl-d4ae1a52">Abiotiske forhold</span></p></td>
<td class="cl-d4b5b4b0"><p class="cl-d4b57eb4"><span class="cl-d4ae1a52">Functional state characteristic</span></p></td>
</tr>
</tbody>
</table></div>
</div>
<p><br></p>
<p>Indicators described in this chapter:</p>
<ul>
<li>Moisture</li>
<li>Light</li>
<li>pH</li>
<li>Nitrogen</li>
</ul>
<!-- Don't remove these three html lines --><br><br><hr>
<div id="intro-fpiw" class="section level2" number="6.1">
<h2>
<span class="header-section-number">6.1</span> Introduction<a class="anchor" aria-label="anchor" href="#intro-fpiw"><i class="fas fa-link"></i></a>
</h2>
<p>Functional plant indicators can be used to describe the functional signature of plant communities by calculating community-weighted means of functional trait values for plant communities (Diekmann 2003). The functional signature of plant communities may be indicative of ecosystem identity, depending on which functional plant indicator we look at (cf. Töpper et al. 2018). For instance, using an indicator for moisture one would find a functional signature with higher moisture values for plant communities in mires compared to e.g. grasslands or forests. Deviations in the functional signature of such an indicator beyond a certain range of indicator values (as there of course is natural variation of functional signatures within an ecosystem type) may be related to a reduction in ecological condition.</p>
<p>Here, we combine functional indicator data with field sampled plant community data from the Norwegian nature monitoring program ANO (Tingstad et al. 2019) for wetland ecosystems. We calculate the functional signature of plant communities in the monitored sites with respect to light, moisture, pH and nitrogen. These functional signatures are then compared to reference distributions of functional signature, separately for each wetland ecosystem type, calculated from ‘generalized species lists’ underlying the Norwegian categorization system for eco-diversity (Halvorsen et al. 2020). These plant functional type indicators are developed following the principles and technical protocol of the IBECA framework (Jakobsson et al. 2021, Töpper &amp; Jakobsson 2021).</p>
<p>Parallel indicator sets are explored and developed for <a href="functional-plant-indicators-seminat.html#functional-plant-indicators-seminat">semi-natural ecosystems</a> and naturally <a href="functional-plant-indicators-open.html#functional-plant-indicators-open">open ecosystems</a>.</p>
</div>
<div id="underlying-data-fpiw" class="section level2" number="6.2">
<h2>
<span class="header-section-number">6.2</span> About the underlying data<a class="anchor" aria-label="anchor" href="#underlying-data-fpiw"><i class="fas fa-link"></i></a>
</h2>
<p>We use three sets of data for building indicators for ecological condition:</p>
<ul>
<li>as test data we use plant community data from the ANO monitoring scheme (cf. Tingstad et al. 2019)</li>
<li>as reference data we use generalized species lists from the Norwegian categorization system for eco-diversity (NiN) (cf. Halvorsen et al. 2020)</li>
<li>Swedish plant indicator data for light, moisture, pH, and nitrogen from Tyler et al. (2021)</li>
</ul>
<ol style="list-style-type: decimal">
<li><p><strong>ANO monitoring data</strong>:
ANO stands for <em>areal-representativ naturovervåking</em>, i.e. <em>area representative nature monitoring</em>. 1000 sites are randomly distributed across mainland Norway and visitied within a 5-year cycle. Each ANO site spans a 500 x 500 m grid cell, and the data collection at each ANO site includes up to 12 evenly distributed vegetation analyses in 1 x 1 m plots (up to 12, because some of these evenly distributed points may be in water or otherwise inaccessible). For the vegetation analyses, the cover of each vascular plant species in the plot is recorded. Every vegetation analysis is accompanied by an assessment of the ecosystem the plot lies in, including ecosystem type and some additional variables related to ecosystem-specific drivers of state. In the wetland-analysis in this document, we only use the plots which were classified as one of the wetland ecosystem types in the Norwegian categorization system for eco-diversity (NiN).
In the analysis in this document, we use the data available on Miljødirektoratets kartkatalog (<a href="https://kartkatalog.miljodirektoratet.no/Dataset/Details/2054" class="uri">https://kartkatalog.miljodirektoratet.no/Dataset/Details/2054</a>), which comprises data from the first three ANO-years, 2019-2021, and a total of 8887 plots in 498 sites.</p></li>
<li>
<p><strong>NiN reference data</strong>:
The generalized species lists underlying the ecosystem categorization in <a href="https://artsdatabanken.no/NiN">NiN</a> represent expert-compiled species lists based on empirical evidence from the literature and expert knowledge of the systems and their species. In these lists, every species is assigned an abundance value on a 6-step scale, with each step representing a range for the ‘expected combination of frequency and cover’ of occurrence</p>
<ul>
<li><p>1 = &lt; 1/32</p></li>
<li><p>2 = 1/32 - 1/8</p></li>
<li><p>3 = 1/8 - 3/8</p></li>
<li><p>4 = 3/8 - 4/5</p></li>
<li><p>5 = 3/8 - 4/5 + dominance</p></li>
<li><p>6 = &gt; 4/5</p></li>
</ul>
</li>
</ol>
<p>For the purpose of this project, these steps are simplified to maximum <em>expected combination of frequency and cover</em>, whereby steps 4 &amp; 5 are assigned 0.6 and 0.8, respectively, in order to distinguish between them.</p>
<ol start="3" style="list-style-type: decimal">
<li>
<strong>The Swedish plant indicator set</strong> published by Tyler et al. (2021) contains a large collection of plant indicators based on the Swedish flora, which is well representative of the Norwegian flora as well. From this set, we decided to include indicator data for light, moisture, pH, and nitrogen for wetlands as these are thought to be subject to potential change due to shrub/tree encroachment, drainage, and pollution.</li>
</ol>
<div id="representativity-fpiw" class="section level3" number="6.2.1">
<h3>
<span class="header-section-number">6.2.1</span> Representativity in time and space<a class="anchor" aria-label="anchor" href="#representativity-fpiw"><i class="fas fa-link"></i></a>
</h3>
<p>For wetlands, the ANO data contain 1351 plots in 330 sites, in principle distributed randomly across the country. As wetlands occur more often in certain regions of Norway than in others, the amount of plots and sites is not equal among Norway’s five regions. The 1351
<!-- I cannot recreate this number. Use in-line R code, here and elsewhere in similar situations -->
plots are distributed across regions in the following way:</p>
<ul>
<li>Northern Norway: 416</li>
<li>Central Norway: 361</li>
<li>Eastern Norway: 294</li>
<li>Western Norway: 150</li>
<li>Southern Norway: 126</li>
</ul>
</div>
<div id="representativity-temporal-fpiw" class="section level3" number="6.2.2">
<h3>
<span class="header-section-number">6.2.2</span> Temporal coverage<a class="anchor" aria-label="anchor" href="#representativity-temporal-fpiw"><i class="fas fa-link"></i></a>
</h3>
<p>The evaluation data cover the first three years, 2019-2021, of the first 5-year-cycle in the ANO monitoring scheme. Thus there is no actual time series to these data, and the indicator evaluation does therefore not include any temporal analyses.</p>
</div>
</div>
<div id="collinearities-with-other-indicators-4" class="section level2" number="6.3">
<h2>
<span class="header-section-number">6.3</span> Collinearities with other indicators<a class="anchor" aria-label="anchor" href="#collinearities-with-other-indicators-4"><i class="fas fa-link"></i></a>
</h2>
<p>Collinearity could occur with other indicators that are responding to the same drivers/pressures, but no really problematic issues have been discussed.</p>
</div>
<div id="ref-state-fpiw" class="section level2" number="6.4">
<h2>
<span class="header-section-number">6.4</span> Reference state and values<a class="anchor" aria-label="anchor" href="#ref-state-fpiw"><i class="fas fa-link"></i></a>
</h2>
<div id="ref-state2-fpiw" class="section level3" number="6.4.1">
<h3>
<span class="header-section-number">6.4.1</span> Reference state<a class="anchor" aria-label="anchor" href="#ref-state2-fpiw"><i class="fas fa-link"></i></a>
</h3>
<p>The reference state is defined via the functional signature of the generalized species lists in NiN (see also Töpper et al. 2018). By bootstrapping the species lists (see details further below) and calculating community-weighted means of functional plant indicators for every re-sampled community, we describe the reference state as a distribution of indicator values for each respective plant functional indicator. These distributions are calculated for minor ecosystem types ( <em>grunntyper</em> or <em>kartleggingsenheter</em> at a 1:5000 mapping scale) within the major ecosystem types (hovedtyper) in NiN. A more extensive discussion on the use of reference communities can be found in Jakobsson et al. (2020).</p>
</div>
<div id="ref-values-fpiw" class="section level3" number="6.4.2">
<h3>
<span class="header-section-number">6.4.2</span> Reference values, thresholds for defining <em>good ecological condition</em>, minimum and/or maximum values<a class="anchor" aria-label="anchor" href="#ref-values-fpiw"><i class="fas fa-link"></i></a>
</h3>
<p>In this analysis, we derive scaling values from statistical (here, non-parametric) distributions (see Jakobsson et al. 2010). For each ecosystem sub-type and plant functional indicator, the reference value is defined as the median value of the indicator value distribution. As in most cases the distributions naturally are two-sided (but see the Heat-requirement indicator in the mountain assessment for an example of a one-sided plant functional indicator, Fremstad et al. 2022), and deviation from the optimal state thus may occur in both direction (e.g. indicating too low or too high pH), we need to define two threshold values for good ecological condition as well as both a minimum and maximum value. In line with previous assessments of ecological condition for Norwegian forests and mountains, we define a lower and an upper threshold value via the 95% confidence interval of the reference distribution, i.e. its 0.025 and 0.975 quantiles. The minimum and maximum values are given by the minimum and maximum of the possible indicator values for each respective plant functional indicator. For details on the scaling principles in IBECA, please see Töpper &amp; Jakobsson (2021).</p>
</div>
</div>
<div id="uncertainties-fpiw" class="section level2" number="6.5">
<h2>
<span class="header-section-number">6.5</span> Uncertainties<a class="anchor" aria-label="anchor" href="#uncertainties-fpiw"><i class="fas fa-link"></i></a>
</h2>
<p>We can calculate a mean indicator value (after scaling) for every region (or any other delimited area of interest) as well as its corresponding standard error as a measure of spatial uncertainty for a geographical area.</p>
</div>
<div id="references-fpiw" class="section level2" number="6.6">
<h2>
<span class="header-section-number">6.6</span> References<a class="anchor" aria-label="anchor" href="#references-fpiw"><i class="fas fa-link"></i></a>
</h2>
<p>Diekmann, M. 2003. Species indicator values as an important tool in applied plant ecology - a review. Basic and Applied Ecology 4: 493-506, <a href="doi:10.1078/1439-1791-00185" class="uri">doi:10.1078/1439-1791-00185</a></p>
<p>Framstad, E., Kolstad, A. L., Nybø, S., Töpper, J. &amp; Vandvik, V. 2022. The condition of forest and mountain ecosystems in Norway. Assessment by the IBECA method. NINA Report 2100. Norwegian Institute for Nature Research.</p>
<p>Halvorsen, R., Skarpaas, O., Bryn, A., Bratli, H., Erikstad, L., Simensen, T., &amp; Lieungh, E. (2020). Towards a systematics of ecodiversity: The EcoSyst framework. Global Ecology and Biogeography, 29(11), 1887-1906. <a href="doi:10.1111/geb.13164" class="uri">doi:10.1111/geb.13164</a></p>
<p>Jakobsson, S., Töpper, J.P., Evju, M., Framstad, E., Lyngstad, A., Pedersen, B., Sickel, H., Sverdrup-Thygeson, A., Vandvik. V., Velle, L.G., Aarrestad, P.A. &amp; Nybø, S. 2020. Setting reference levels and limits for good ecological condition in terrestrial ecosystems. Insights from a case study based on the IBECA approach. Ecological Indicators 116: 106492.</p>
<p>Jakobsson, S., Evju, M., Framstad, E., Imbert, A., Lyngstad, A., Sickel, H., Sverdrup-Thygeson, A., Töpper, J., Vandvik, V., Velle, L.G., Aarrestad, P.A. &amp; Nybø, S. 2021. An index-based assessment of ecological condition and its links to international frameworks. Ecological Indicators 124: 107252.</p>
<p>Tingstad, L., Evju, M., Sickel, H., &amp; Töpper, J. 2019. Utvikling av nasjonal arealrepresentativ naturovervåking (ANO). Forslag til gjennomføring, protokoller og kostnadsvurderinger med utgangspunkt i erfaringer fra uttesting i Trøndelag. NINA Rapport 1642.</p>
<p>Töpper, J. &amp; Jakobsson, S. 2021. The Index-Based Ecological Condition Assessment (IBECA) - Technical protocol, version 1.0. NINA Report 1967. Norwegian Institute for Nature Research.</p>
<p>Töpper, J., Velle, L.G. &amp; Vandvik, V. 2018. Developing a method for assessment of ecological state based on indicator values after Ellenberg and Grime (revised edition). NINA Report 1529b. Norwegian Institute for Nature Research.</p>
<p>Tyler, T., Herbertsson, L., Olofsson, J., &amp; Olsson, P. A. 2021. Ecological indicator and traits values for Swedish vascular plants. Ecological In-dicators, 120. <a href="doi:10.1016/j.ecolind.2020.106923" class="uri">doi:10.1016/j.ecolind.2020.106923</a></p>
</div>
<div id="analyses-fpiw" class="section level2" number="6.7">
<h2>
<span class="header-section-number">6.7</span> Analyses<a class="anchor" aria-label="anchor" href="#analyses-fpiw"><i class="fas fa-link"></i></a>
</h2>
<div id="data-sets-2" class="section level3" number="6.7.1">
<h3>
<span class="header-section-number">6.7.1</span> Data sets<a class="anchor" aria-label="anchor" href="#data-sets-2"><i class="fas fa-link"></i></a>
</h3>
<!-- Please print the entire workflow with echo=T. Also, simply reading cached data creates loose ends - I cant find out where this data comes from. You may also chose to read tin this data (or a cached version of it) way at the top of the file, so that you can add some in-line R code for the summary stats in the introduction part (see previous comments)-->
<p>Import ANO data:</p>
<div class="sourceCode" id="cb236"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add data from cache</span></span>
<span><span class="va">ANO.sp</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"/data/cache/ANO.sp.RDS"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ANO.geo</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"/data/cache/ANO.geo.RDS"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># st_layers(dsn = "/data/P-Prosjekter2/41201785_okologisk_tilstand_2022_2023/data/Naturovervaking_eksport.gdb")</span></span>
<span><span class="co"># ANO.sp &lt;- st_read("/data/P-Prosjekter2/41201785_okologisk_tilstand_2022_2023/data/Naturovervaking_eksport.gdb",</span></span>
<span><span class="co">#                    layer="ANO_Art")</span></span>
<span><span class="co"># ANO.geo &lt;- st_read("/data/P-Prosjekter2/41201785_okologisk_tilstand_2022_2023/data/Naturovervaking_eksport.gdb",</span></span>
<span><span class="co">#                   layer="ANO_SurveyPoint")</span></span>
<span><span class="co"># head(ANO.sp)</span></span>
<span><span class="co"># head(ANO.geo)</span></span></code></pre></div>
<p>Import Plant indicators from Tyler et al. (2021):</p>
<div class="sourceCode" id="cb237"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Tyler indicator data</span></span>
<span><span class="co">## data from cache</span></span>
<span><span class="va">ind.dat</span> <span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"/data/cache/ind.dat.RDS"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># ind.dat &lt;- read.table("/data/P-Prosjekter2/41201785_okologisk_tilstand_2022_2023/data/functional plant indicators/Tyler et al_Swedish plant indicators.txt",</span></span>
<span><span class="co">#                         sep = '\t', header=T, quote = '')</span></span>
<span><span class="co"># head(ind.dat)</span></span></code></pre></div>
<p>Import Generalized species lists NiN</p>
<div class="sourceCode" id="cb238"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># data from cache</span></span>
<span><span class="va">Eco_State</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"/data/cache/Eco_State.RDS"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># load("/data/P-Prosjekter2/41201785_okologisk_tilstand_2022_2023/functional plant indicators/reference from NiN/Eco_State.RData")</span></span>
<span><span class="co"># str(Eco_State)</span></span></code></pre></div>
<div id="data-handling" class="section level4" number="6.7.1.1">
<h4>
<span class="header-section-number">6.7.1.1</span> Data handling<a class="anchor" aria-label="anchor" href="#data-handling"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>Checking for errors</li>
<li>Checking species nomenclature in the different species lists to make species and indicator data possible to merge</li>
<li>Merging indicator data with monitoring data and indicator data with reference data
(not shown here, but documented in the code)
<!-- Please include everything like this, but you can chose to have it take up less space by adding the attr.output option, like this: -->
</li>
</ul>
<div class="sourceCode" id="cb239"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">### Plant indicator data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">ind.dat</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">ind.dat</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">'species'</span></span>
<span><span class="va">ind.dat</span><span class="op">$</span><span class="va">species</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">ind.dat</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">ind.dat</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span>
<span><span class="va">ind.dat</span> <span class="op">&lt;-</span> <span class="va">ind.dat</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">ind.dat</span><span class="op">$</span><span class="va">species</span><span class="op">)</span>,<span class="op">]</span> <span class="co"># removing species-NAs</span></span>
<span><span class="va">ind.dat</span><span class="op">[</span>,<span class="st">'species.orig'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">ind.dat</span><span class="op">[</span>,<span class="st">'species'</span><span class="op">]</span> <span class="co"># make a backup of the original species variable</span></span>
<span><span class="va">ind.dat</span><span class="op">[</span>,<span class="st">'species'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">word</span><span class="op">(</span><span class="va">ind.dat</span><span class="op">[</span>,<span class="st">'species'</span><span class="op">]</span>, <span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span> <span class="co"># trimming away sub-species &amp; co, and descriptor info</span></span>
<span></span>
<span><span class="co"># the trimming above leaves some duplicates that need to be taken care of</span></span>
<span><span class="va">ind.dat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="va">ind.dat</span><span class="op">[</span>,<span class="st">'species'</span><span class="op">]</span><span class="op">)</span>,<span class="st">"species"</span><span class="op">]</span></span>
<span><span class="va">ind.dat.dup</span> <span class="op">&lt;-</span> <span class="va">ind.dat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="va">ind.dat</span><span class="op">[</span>,<span class="st">'species'</span><span class="op">]</span><span class="op">)</span>,<span class="st">"species"</span><span class="op">]</span></span>
<span><span class="va">ind.dat</span><span class="op">[</span><span class="va">ind.dat</span><span class="op">$</span><span class="va">species</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">ind.dat.dup</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Light"</span>,<span class="st">"Moisture"</span>,<span class="st">"Soil_reaction_pH"</span>,<span class="st">"Nitrogen"</span>,<span class="st">"species.orig"</span>,<span class="st">"species"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">ind.dat</span> <span class="op">&lt;-</span> <span class="va">ind.dat</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span> <span class="op">!</span><span class="op">(</span><span class="va">species.orig</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"Ammophila arenaria x Calamagrostis epigejos"</span>,</span>
<span>                                                            <span class="st">"Anemone nemorosa x ranunculoides"</span>,</span>
<span>                                                            <span class="st">"Armeria maritima ssp. elongata"</span>,</span>
<span>                                                            <span class="st">"Asplenium trichomanes ssp. quadrivalens"</span>,</span>
<span>                                                            <span class="st">"Calystegia sepium ssp. spectabilis"</span>,</span>
<span>                                                            <span class="st">"Campanula glomerata 'Superba'"</span>,</span>
<span>                                                            <span class="st">"Dactylorhiza maculata ssp. fuchsii"</span>,</span>
<span>                                                            <span class="st">"Erigeron acris ssp. droebachensis"</span>,</span>
<span>                                                            <span class="st">"Erigeron acris ssp. politus"</span>,</span>
<span>                                                            <span class="st">"Erysimum cheiranthoides L. ssp. alatum"</span>,</span>
<span>                                                            <span class="st">"Euphrasia nemorosa x stricta var. brevipila"</span>,</span>
<span>                                                            <span class="st">"Galium mollugo x verum"</span>,</span>
<span>                                                            <span class="st">"Geum rivale x urbanum"</span>,</span>
<span>                                                            <span class="st">"Hylotelephium telephium (ssp. maximum)"</span>,</span>
<span>                                                            <span class="st">"Juncus alpinoarticulatus ssp. rariflorus"</span>,</span>
<span>                                                            <span class="st">"Lamiastrum galeobdolon ssp. argentatum"</span>,</span>
<span>                                                            <span class="st">"Lathyrus latifolius ssp. heterophyllus"</span>,</span>
<span>                                                            <span class="st">"Medicago sativa ssp. falcata"</span>,</span>
<span>                                                            <span class="st">"Medicago sativa ssp. x varia"</span>,</span>
<span>                                                            <span class="st">"Monotropa hypopitys ssp. hypophegea"</span>,</span>
<span>                                                            <span class="st">"Ononis spinosa ssp. hircina"</span>,</span>
<span>                                                            <span class="st">"Ononis spinosa ssp. procurrens"</span>,</span>
<span>                                                            <span class="st">"Pilosella aurantiaca ssp. decolorans"</span>,</span>
<span>                                                            <span class="st">"Pilosella aurantiaca ssp. dimorpha"</span>,</span>
<span>                                                            <span class="st">"Pilosella cymosa ssp. gotlandica"</span>,</span>
<span>                                                            <span class="st">"Pilosella cymosa ssp. praealta"</span>,</span>
<span>                                                            <span class="st">"Pilosella officinarum ssp. peleteranum"</span>,</span>
<span>                                                            <span class="st">"Poa x jemtlandica (Almq.) K. Richt."</span>,</span>
<span>                                                            <span class="st">"Poa x herjedalica Harry Sm."</span>,</span>
<span>                                                            <span class="st">"Ranunculus peltatus ssp. baudotii"</span>,</span>
<span>                                                            <span class="st">"Sagittaria natans x sagittifolia"</span>,</span>
<span>                                                            <span class="st">"Salix repens ssp. rosmarinifolia"</span>,</span>
<span>                                                            <span class="st">"Stellaria nemorum L. ssp. montana"</span>,</span>
<span>                                                            <span class="st">"Trichophorum cespitosum ssp. germanicum"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">)</span></span>
<span></span>
<span><span class="co"># checking duplicates again</span></span>
<span><span class="va">ind.dat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="va">ind.dat</span><span class="op">[</span>,<span class="st">'species'</span><span class="op">]</span><span class="op">)</span>,<span class="st">"species"</span><span class="op">]</span></span>
<span><span class="va">ind.dat.dup</span> <span class="op">&lt;-</span> <span class="va">ind.dat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="va">ind.dat</span><span class="op">[</span>,<span class="st">'species'</span><span class="op">]</span><span class="op">)</span>,<span class="st">"species"</span><span class="op">]</span></span>
<span><span class="va">ind.dat</span><span class="op">[</span><span class="va">ind.dat</span><span class="op">$</span><span class="va">species</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">ind.dat.dup</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Light"</span>,<span class="st">"Moisture"</span>,<span class="st">"Soil_reaction_pH"</span>,<span class="st">"Nitrogen"</span>,<span class="st">"species.orig"</span>,<span class="st">"species"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co"># getting rid of sect. for Hieracium</span></span>
<span><span class="va">ind.dat</span> <span class="op">&lt;-</span> <span class="va">ind.dat</span> <span class="op">%&gt;%</span> <span class="fu">mutate</span><span class="op">(</span>species<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"sect. "</span>,<span class="st">""</span>,<span class="va">species.orig</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ind.dat</span><span class="op">[</span>,<span class="st">'species'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">word</span><span class="op">(</span><span class="va">ind.dat</span><span class="op">[</span>,<span class="st">'species'</span><span class="op">]</span>, <span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ind.dat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="va">ind.dat</span><span class="op">[</span>,<span class="st">'species'</span><span class="op">]</span><span class="op">)</span>,<span class="st">"species"</span><span class="op">]</span></span>
<span><span class="va">ind.dat.dup</span> <span class="op">&lt;-</span> <span class="va">ind.dat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="va">ind.dat</span><span class="op">[</span>,<span class="st">'species'</span><span class="op">]</span><span class="op">)</span>,<span class="st">"species"</span><span class="op">]</span></span>
<span><span class="va">ind.dat</span><span class="op">[</span><span class="va">ind.dat</span><span class="op">$</span><span class="va">species</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">ind.dat.dup</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Light"</span>,<span class="st">"Moisture"</span>,<span class="st">"Soil_reaction_pH"</span>,<span class="st">"Nitrogen"</span>,<span class="st">"species.orig"</span>,<span class="st">"species"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co"># only hybrids left -&gt; get rid of these</span></span>
<span><span class="va">ind.dat</span> <span class="op">&lt;-</span> <span class="va">ind.dat</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="va">ind.dat</span><span class="op">[</span>,<span class="st">'species'</span><span class="op">]</span><span class="op">)</span>,<span class="op">]</span></span>
<span><span class="va">ind.dat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="va">ind.dat</span><span class="op">[</span>,<span class="st">'species'</span><span class="op">]</span><span class="op">)</span>,<span class="st">"species"</span><span class="op">]</span></span>
<span></span>
<span><span class="va">ind.dat</span><span class="op">$</span><span class="va">species</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">ind.dat</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">ind.dat</span><span class="op">$</span><span class="va">species</span><span class="op">)</span></span>
<span><span class="co"># no duplicates left</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">ind.dat</span><span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="co">### ANO monitoring data</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">ANO.sp</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## fix NiN information</span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">hovedtype_rute</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span>,<span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span> <span class="co"># take the 3 first characters</span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">hovedtype_rute</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"-"</span>, <span class="st">""</span>, <span class="va">ANO.geo</span><span class="op">$</span><span class="va">hovedtype_rute</span><span class="op">)</span> <span class="co"># remove hyphen</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">hovedtype_rute</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## fix NiN-variables</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">)</span><span class="op">[</span><span class="fl">42</span><span class="op">:</span><span class="fl">47</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"groeftingsintensitet"</span>,</span>
<span>                              <span class="st">"bruksintensitet"</span>,</span>
<span>                              <span class="st">"beitetrykk"</span>,</span>
<span>                              <span class="st">"slatteintensitet"</span>,</span>
<span>                              <span class="st">"tungekjoretoy"</span>,</span>
<span>                              <span class="st">"slitasje"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># remove variable code in the data</span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">groeftingsintensitet</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"7GR-GI_"</span>, <span class="st">""</span>, <span class="va">ANO.geo</span><span class="op">$</span><span class="va">groeftingsintensitet</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">groeftingsintensitet</span><span class="op">)</span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">groeftingsintensitet</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"X"</span>, <span class="st">"NA"</span>, <span class="va">ANO.geo</span><span class="op">$</span><span class="va">groeftingsintensitet</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">groeftingsintensitet</span><span class="op">)</span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">groeftingsintensitet</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">groeftingsintensitet</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">groeftingsintensitet</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">bruksintensitet</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"7JB-BA_"</span>, <span class="st">""</span>, <span class="va">ANO.geo</span><span class="op">$</span><span class="va">bruksintensitet</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">bruksintensitet</span><span class="op">)</span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">bruksintensitet</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"X"</span>, <span class="st">"NA"</span>, <span class="va">ANO.geo</span><span class="op">$</span><span class="va">bruksintensitet</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">bruksintensitet</span><span class="op">)</span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">bruksintensitet</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">bruksintensitet</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">bruksintensitet</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">beitetrykk</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"7JB-BT_"</span>, <span class="st">""</span>, <span class="va">ANO.geo</span><span class="op">$</span><span class="va">beitetrykk</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">beitetrykk</span><span class="op">)</span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">beitetrykk</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"X"</span>, <span class="st">"NA"</span>, <span class="va">ANO.geo</span><span class="op">$</span><span class="va">beitetrykk</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">beitetrykk</span><span class="op">)</span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">beitetrykk</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">beitetrykk</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">beitetrykk</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">slatteintensitet</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"7JB-SI_"</span>, <span class="st">""</span>, <span class="va">ANO.geo</span><span class="op">$</span><span class="va">slatteintensitet</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">slatteintensitet</span><span class="op">)</span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">slatteintensitet</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"X"</span>, <span class="st">"NA"</span>, <span class="va">ANO.geo</span><span class="op">$</span><span class="va">slatteintensitet</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">slatteintensitet</span><span class="op">)</span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">slatteintensitet</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">slatteintensitet</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">slatteintensitet</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">tungekjoretoy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"7TK_"</span>, <span class="st">""</span>, <span class="va">ANO.geo</span><span class="op">$</span><span class="va">tungekjoretoy</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">tungekjoretoy</span><span class="op">)</span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">tungekjoretoy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"X"</span>, <span class="st">"NA"</span>, <span class="va">ANO.geo</span><span class="op">$</span><span class="va">tungekjoretoy</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">tungekjoretoy</span><span class="op">)</span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">tungekjoretoy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">tungekjoretoy</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">tungekjoretoy</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">slitasje</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"7SE_"</span>, <span class="st">""</span>, <span class="va">ANO.geo</span><span class="op">$</span><span class="va">slitasje</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">slitasje</span><span class="op">)</span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">slitasje</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"X"</span>, <span class="st">"NA"</span>, <span class="va">ANO.geo</span><span class="op">$</span><span class="va">slitasje</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">slitasje</span><span class="op">)</span></span>
<span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">slitasje</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">slitasje</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">slitasje</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## check that every point is present only once</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">ano_flate_id</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">ano_punkt_id</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">ano_punkt_id</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># there's many double presences, probably some wrong registrations of point numbers,</span></span>
<span><span class="co"># but also double registrations (e.g. ANO0159_55)</span></span>
<span><span class="co"># CHECK THIS when preparing ecosystem-datasets for scaling</span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span><span class="co"># fix species names</span></span>
<span><span class="va">ANO.sp</span><span class="op">$</span><span class="va">Species</span> <span class="op">&lt;-</span> <span class="va">ANO.sp</span><span class="op">$</span><span class="va">art_navn</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">ANO.sp</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ANO.sp</span><span class="op">[</span>,<span class="st">'Species'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">word</span><span class="op">(</span><span class="va">ANO.sp</span><span class="op">[</span>,<span class="st">'Species'</span><span class="op">]</span>, <span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span> <span class="co"># lose subspecies</span></span>
<span><span class="va">ANO.sp</span><span class="op">$</span><span class="va">Species</span> <span class="op">&lt;-</span> <span class="fu">str_to_title</span><span class="op">(</span><span class="va">ANO.sp</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span> <span class="co"># make first letter capital</span></span>
<span><span class="va">ANO.sp</span><span class="op">$</span><span class="va">Species</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"( .*)"</span>,<span class="st">"\\L\\1"</span>,<span class="va">ANO.sp</span><span class="op">$</span><span class="va">Species</span>,perl<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="co"># make capital letters after hyphen to lowercase</span></span>
<span><span class="va">ANO.sp</span><span class="op">$</span><span class="va">Species</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"( .*)"</span>,<span class="st">"\\L\\1"</span>,<span class="va">ANO.sp</span><span class="op">$</span><span class="va">Species</span>,perl<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="co"># make capital letters after space to lowercase</span></span>
<span></span>
<span><span class="co">## merge species data with indicators</span></span>
<span><span class="va">ANO.sp.ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">ANO.sp</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Species"</span>, <span class="st">"art_dekning"</span>, <span class="st">"ParentGlobalID"</span><span class="op">)</span><span class="op">]</span>, </span>
<span>                y<span class="op">=</span> <span class="va">ind.dat</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"species"</span>, <span class="st">"Light"</span>, <span class="st">"Moisture"</span>, <span class="st">"Soil_reaction_pH"</span>, <span class="st">"Nitrogen"</span><span class="op">)</span><span class="op">]</span>,</span>
<span>                by.x<span class="op">=</span><span class="st">"Species"</span>, by.y<span class="op">=</span><span class="st">"species"</span>, all.x<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">ANO.sp.ind</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## checking which species didn't find a match</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.sp.ind</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">ANO.sp.ind</span><span class="op">$</span><span class="va">Moisture</span><span class="op">)</span>,<span class="st">'Species'</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># fix species name issues</span></span>
<span><span class="va">ind.dat</span> <span class="op">&lt;-</span> <span class="va">ind.dat</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">species</span>,<span class="st">"Aconitum lycoctonum"</span>, <span class="st">"Aconitum septentrionale"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">species</span>,<span class="st">"Carex simpliciuscula"</span>, <span class="st">"Kobresia simpliciuscula"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">species</span>,<span class="st">"Carex myosuroides"</span>, <span class="st">"Kobresia myosuroides"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">species</span>,<span class="st">"Clinopodium acinos"</span>, <span class="st">"Acinos arvensis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">species</span>,<span class="st">"Artemisia rupestris"</span>, <span class="st">"Artemisia norvegica"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">species</span>,<span class="st">"Cherleria biflora"</span>, <span class="st">"Minuartia biflora"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ANO.sp</span> <span class="op">&lt;-</span> <span class="va">ANO.sp</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Arctous alpinus"</span>, <span class="st">"Arctous alpina"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Betula tortuosa"</span>, <span class="st">"Betula pubescens"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Blysmopsis rufa"</span>, <span class="st">"Blysmus rufus"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Cardamine nymanii"</span>, <span class="st">"Cardamine pratensis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Carex adelostoma"</span>, <span class="st">"Carex buxbaumii"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Carex leersii"</span>, <span class="st">"Carex echinata"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Carex paupercula"</span>, <span class="st">"Carex magellanica"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Carex simpliciuscula"</span>, <span class="st">"Kobresia simpliciuscula"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Carex viridula"</span>, <span class="st">"Carex flava"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Chamaepericlymenum suecicum"</span>, <span class="st">"Cornus suecia"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Cicerbita alpina"</span>, <span class="st">"Lactuca alpina"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Empetrum hermaphroditum"</span>, <span class="st">"Empetrum nigrum"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Festuca prolifera"</span>, <span class="st">"Festuca rubra"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Galium album"</span>, <span class="st">"Galium mollugo"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Galium elongatum"</span>, <span class="st">"Galium palustre"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Helictotrichon pratense"</span>, <span class="st">"Avenula pratensis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Helictotrichon pubescens"</span>, <span class="st">"Avenula pubescens"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Hieracium alpina"</span>, <span class="st">"Hieracium Alpina"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Hieracium alpinum"</span>, <span class="st">"Hieracium Alpina"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Hieracium hieracium"</span>, <span class="st">"Hieracium Hieracium"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Hieracium hieracioides"</span>, <span class="st">"Hieracium umbellatum"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Hieracium murorum"</span>, <span class="st">"Hieracium Vulgata"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Hieracium oreadea"</span>, <span class="st">"Hieracium Oreadea"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Hieracium prenanthoidea"</span>, <span class="st">"Hieracium Prenanthoidea"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Hieracium vulgata"</span>, <span class="st">"Hieracium Vulgata"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Hieracium pilosella"</span>, <span class="st">"Pilosella officinarum"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Hieracium vulgatum"</span>, <span class="st">"Hieracium umbellatum"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Hierochloã« alpina"</span>, <span class="st">"Hierochloë alpina"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Hierochloã« hirta"</span>, <span class="st">"Hierochloë hirta"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Hierochloã« odorata"</span>, <span class="st">"Hierochloë odorata"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Listera cordata"</span>, <span class="st">"Neottia cordata"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Leontodon autumnalis"</span>, <span class="st">"Scorzoneroides autumnalis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Loiseleuria procumbens"</span>, <span class="st">"Kalmia procumbens"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Mycelis muralis"</span>, <span class="st">"Lactuca muralis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Omalotheca supina"</span>, <span class="st">"Gnaphalium supinum"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Omalotheca norvegica"</span>, <span class="st">"Gnaphalium norvegicum"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Omalotheca sylvatica"</span>, <span class="st">"Gnaphalium sylvaticum"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Oreopteris limbosperma"</span>, <span class="st">"Thelypteris limbosperma"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Oxycoccus microcarpus"</span>, <span class="st">"Vaccinium microcarpum"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Oxycoccus palustris"</span>, <span class="st">"Vaccinium oxycoccos"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Phalaris minor"</span>, <span class="st">"Phalaris arundinacea"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Pinus unicinata"</span>, <span class="st">"Pinus mugo"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Poa alpigena"</span>, <span class="st">"Poa pratensis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Poa angustifolia"</span>, <span class="st">"Poa pratensis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Pyrola grandiflora"</span>, <span class="st">"Pyrola rotundifolia"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Rumex alpestris"</span>, <span class="st">"Rumex acetosa"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Syringa emodi"</span>, <span class="st">"Syringa vulgaris"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Taraxacum crocea"</span>, <span class="st">"Taraxacum officinale"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Taraxacum croceum"</span>, <span class="st">"Taraxacum officinale"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Trientalis europaea"</span>, <span class="st">"Lysimachia europaea"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">Species</span>,<span class="st">"Trifolium pallidum"</span>, <span class="st">"Trifolium pratense"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## merge species data with indicators</span></span>
<span><span class="va">ANO.sp.ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">ANO.sp</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Species"</span>, <span class="st">"art_dekning"</span>, <span class="st">"ParentGlobalID"</span><span class="op">)</span><span class="op">]</span>, </span>
<span>                    y<span class="op">=</span> <span class="va">ind.dat</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"species"</span>, <span class="st">"Light"</span>, <span class="st">"Moisture"</span>, <span class="st">"Soil_reaction_pH"</span>, <span class="st">"Nitrogen"</span><span class="op">)</span><span class="op">]</span>,</span>
<span>                    by.x<span class="op">=</span><span class="st">"Species"</span>, by.y<span class="op">=</span><span class="st">"species"</span>, all.x<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">ANO.sp.ind</span><span class="op">)</span></span>
<span><span class="co"># checking which species didn't find a match</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.sp.ind</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">ANO.sp.ind</span><span class="op">$</span><span class="va">Moisture</span><span class="op">)</span>,<span class="st">'Species'</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co"># don't find synonyms for these in the ind lists</span></span>
<span></span>
<span><span class="co">## trimming away the points without information on NiN, species or cover</span></span>
<span><span class="va">ANO.sp.ind</span> <span class="op">&lt;-</span> <span class="va">ANO.sp.ind</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">ANO.sp.ind</span><span class="op">$</span><span class="va">Species</span><span class="op">)</span>,<span class="op">]</span></span>
<span><span class="va">ANO.sp.ind</span> <span class="op">&lt;-</span> <span class="va">ANO.sp.ind</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">ANO.sp.ind</span><span class="op">$</span><span class="va">art_dekning</span><span class="op">)</span>,<span class="op">]</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">ANO.sp.ind</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">ANO.sp.ind</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span><span class="va">ANO.sp</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">### NiN reference data - data handling</span></span>
<span></span>
<span><span class="co">## generalized species lists from NiN</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">Eco_State</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># species</span></span>
<span><span class="va">Eco_State</span><span class="op">$</span><span class="va">Concept_Data</span><span class="op">$</span><span class="va">Species</span><span class="op">$</span><span class="va">Species_List</span><span class="op">$</span><span class="va">species</span></span>
<span><span class="co"># environments</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">Eco_State</span><span class="op">$</span><span class="va">Concept_Data</span><span class="op">$</span><span class="va">Env</span><span class="op">$</span><span class="va">Env_Data</span><span class="op">)</span></span>
<span><span class="co"># abundances</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">Eco_State</span><span class="op">$</span><span class="va">Concept_Data</span><span class="op">$</span><span class="va">Species</span><span class="op">$</span><span class="va">Species_Data</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## transposing abundance data</span></span>
<span><span class="va">NiN.sp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">Eco_State</span><span class="op">$</span><span class="va">Concept_Data</span><span class="op">$</span><span class="va">Species</span><span class="op">$</span><span class="va">Species_Data</span><span class="op">)</span></span>
<span><span class="va">NiN.sp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">NiN.sp</span><span class="op">)</span></span>
<span><span class="va">NiN.sp</span><span class="op">$</span><span class="va">sp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/vector.html">as.vector</a></span><span class="op">(</span><span class="va">Eco_State</span><span class="op">$</span><span class="va">Concept_Data</span><span class="op">$</span><span class="va">Species</span><span class="op">$</span><span class="va">Species_List</span><span class="op">$</span><span class="va">species</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># only genus and species name</span></span>
<span><span class="va">NiN.sp</span><span class="op">$</span><span class="va">sp</span> <span class="op">&lt;-</span> <span class="fu">word</span><span class="op">(</span><span class="va">NiN.sp</span><span class="op">$</span><span class="va">sp</span>, <span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">NiN.sp</span><span class="op">$</span><span class="va">spgr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/vector.html">as.vector</a></span><span class="op">(</span><span class="va">Eco_State</span><span class="op">$</span><span class="va">Concept_Data</span><span class="op">$</span><span class="va">Species</span><span class="op">$</span><span class="va">Species_List</span><span class="op">$</span><span class="va">art.code</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># if relevant, trimming to desired species groups (for forests e.g. removing trees)</span></span>
<span><span class="co">#NiN.sp &lt;- NiN.sp[NiN.sp$spgr!="a1a",]</span></span>
<span></span>
<span><span class="co">## environment data</span></span>
<span><span class="va">NiN.env</span> <span class="op">&lt;-</span> <span class="va">Eco_State</span><span class="op">$</span><span class="va">Concept_Data</span><span class="op">$</span><span class="va">Env</span><span class="op">$</span><span class="va">Env_Data</span></span>
<span></span>
<span><span class="co">## merging with indicator values</span></span>
<span><span class="va">NiN.sp.ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span><span class="va">NiN.sp</span>,<span class="va">ind.dat</span>, by.x<span class="op">=</span><span class="st">"sp"</span>, by.y<span class="op">=</span><span class="st">"species"</span>, all.x<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">NiN.sp.ind</span><span class="op">)</span></span>
<span></span>
<span><span class="va">NiN.sp.ind</span><span class="op">[</span><span class="va">NiN.sp.ind</span><span class="op">==</span><span class="fl">999</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span></span>
<span><span class="co">## checking which species didn't find a match</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">NiN.sp.ind</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">NiN.sp.ind</span><span class="op">$</span><span class="va">Moisture</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">NiN.sp.ind</span><span class="op">$</span><span class="va">spgr</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"a1a"</span>,<span class="st">"a1b"</span>,<span class="st">"a1c"</span><span class="op">)</span>,<span class="st">'sp'</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## fix species name issues</span></span>
<span><span class="va">ind.dat</span> <span class="op">&lt;-</span> <span class="va">ind.dat</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">species</span>,<span class="st">"Aconitum lycoctonum"</span>, <span class="st">"Aconitum septentrionale"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">species</span>,<span class="st">"Carex simpliciuscula"</span>, <span class="st">"Kobresia simpliciuscula"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">species</span>,<span class="st">"Carex myosuroides"</span>, <span class="st">"Kobresia myosuroides"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">species</span>,<span class="st">"Clinopodium acinos"</span>, <span class="st">"Acinos arvensis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">species</span>,<span class="st">"Artemisia rupestris"</span>, <span class="st">"Artemisia norvegica"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>species<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">species</span>,<span class="st">"Cherleria biflora"</span>, <span class="st">"Minuartia biflora"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">NiN.sp</span> <span class="op">&lt;-</span> <span class="va">NiN.sp</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Aconitum lycoctonum"</span>, <span class="st">"Aconitum septentrionale"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Anagallis minima"</span>, <span class="st">"Lysimachia minima"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Arctous alpinus"</span>, <span class="st">"Arctous alpina"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Betula tortuosa"</span>, <span class="st">"Betula pubescens"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Blysmopsis rufa"</span>, <span class="st">"Blysmus rufus"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Cardamine nymanii"</span>, <span class="st">"Cardamine pratensis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Carex adelostoma"</span>, <span class="st">"Carex buxbaumii"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Carex leersii"</span>, <span class="st">"Carex echinata"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Carex paupercula"</span>, <span class="st">"Carex magellanica"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Carex simpliciuscula"</span>, <span class="st">"Kobresia simpliciuscula"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Carex _vacillans"</span>, <span class="st">"Carex vacillans"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Carex viridula"</span>, <span class="st">"Carex flava"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Chamaepericlymenum suecicum"</span>, <span class="st">"Cornus suecia"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Cornus suecia"</span>, <span class="st">"Cornus suecica"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Cicerbita alpina"</span>, <span class="st">"Lactuca alpina"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Dactylorhiza sphagnicola"</span>, <span class="st">"Dactylorhiza majalis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Diphasiastrum complanatum"</span>, <span class="st">"Lycopodium complanatum"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Elymus alaskanus"</span>, <span class="st">"Elymus kronokensis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Empetrum hermaphroditum"</span>, <span class="st">"Empetrum nigrum"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Erigeron eriocephalus"</span>, <span class="st">"Erigeron uniflorus"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Festuca prolifera"</span>, <span class="st">"Festuca rubra"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Galium album"</span>, <span class="st">"Galium mollugo"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Galium elongatum"</span>, <span class="st">"Galium palustre"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Glaux maritima"</span>, <span class="st">"Lysimachia maritima"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Helictotrichon pratense"</span>, <span class="st">"Avenula pratensis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Helictotrichon pubescens"</span>, <span class="st">"Avenula pubescens"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Hieracium alpina"</span>, <span class="st">"Hieracium Alpina"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Hieracium alpinum"</span>, <span class="st">"Hieracium Alpina"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Hieracium aurantiacum"</span>, <span class="st">"Pilosella aurantiaca"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Hieracium hieracium"</span>, <span class="st">"Hieracium Hieracium"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Hieracium hieracioides"</span>, <span class="st">"Hieracium umbellatum"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Hieracium lactucella"</span>, <span class="st">"Pilosella lactucella"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Hieracium murorum"</span>, <span class="st">"Hieracium Vulgata"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Hieracium oreadea"</span>, <span class="st">"Hieracium Oreadea"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Hieracium prenanthoidea"</span>, <span class="st">"Hieracium Prenanthoidea"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Hieracium vulgata"</span>, <span class="st">"Hieracium Vulgata"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Hieracium pilosella"</span>, <span class="st">"Pilosella officinarum"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Hieracium vulgatum"</span>, <span class="st">"Hieracium umbellatum"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Hierochloã« alpina"</span>, <span class="st">"Hierochloë alpina"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Hierochloã« hirta"</span>, <span class="st">"Hierochloë hirta"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Hierochloã« odorata"</span>, <span class="st">"Hierochloë odorata"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Huperzia appressa"</span>, <span class="st">"Huperzia selago"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Hylotelephium maximum"</span>, <span class="st">"Hylotelephium telephium"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Lappula myosotis"</span>, <span class="st">"Lappula squarrosa"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Lepidotheca suaveolens"</span>, <span class="st">"Matricaria discoidea"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Listera cordata"</span>, <span class="st">"Neottia cordata"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Leontodon autumnalis"</span>, <span class="st">"Scorzoneroides autumnalis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Loiseleuria procumbens"</span>, <span class="st">"Kalmia procumbens"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Logfia arvensis"</span>, <span class="st">"Filago arvensis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Mentha _verticillata"</span>, <span class="st">"Mentha verticillata"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Minuartia rubella"</span>, <span class="st">"Sabulina rubella"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Minuartia stricta"</span>, <span class="st">"Sabulina stricta"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Mycelis muralis"</span>, <span class="st">"Lactuca muralis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Omalotheca supina"</span>, <span class="st">"Gnaphalium supinum"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Omalotheca norvegica"</span>, <span class="st">"Gnaphalium norvegicum"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Omalotheca sylvatica"</span>, <span class="st">"Gnaphalium sylvaticum"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Ononis arvensis"</span>, <span class="st">"Ononis spinosa"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Oreopteris limbosperma"</span>, <span class="st">"Thelypteris limbosperma"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Oxycoccus microcarpus"</span>, <span class="st">"Vaccinium microcarpum"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Oxycoccus palustris"</span>, <span class="st">"Vaccinium oxycoccos"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Phalaris minor"</span>, <span class="st">"Phalaris arundinacea"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Phalaroides arundinacea"</span>, <span class="st">"Phalaris arundinacea"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Pinus unicinata"</span>, <span class="st">"Pinus mugo"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Platanthera montana"</span>, <span class="st">"Platanthera chlorantha"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Poa alpigena"</span>, <span class="st">"Poa pratensis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Poa angustifolia"</span>, <span class="st">"Poa pratensis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Poa laxa"</span>, <span class="st">"Poa flexuosa"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Poa _herjedalica"</span>, <span class="st">"Poa herjedalica"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Poa _jemtlandica"</span>, <span class="st">"Poa jemtlandica"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Poa lindebergii"</span>, <span class="st">"Poa arctica"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Pyrola grandiflora"</span>, <span class="st">"Pyrola rotundifolia"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Rhamnus catharticus"</span>, <span class="st">"Rhamnus cathartica"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Rumex alpestris"</span>, <span class="st">"Rumex acetosa"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Salix _fragilis"</span>, <span class="st">"Salix fragilis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Saxifraga _opdalensis"</span>, <span class="st">"Saxifraga opdalensis"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Spergularia salina"</span>, <span class="st">"Spergularia marina"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Syringa emodi"</span>, <span class="st">"Syringa vulgaris"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Taraxacum crocea"</span>, <span class="st">"Taraxacum officinale"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Taraxacum croceum"</span>, <span class="st">"Taraxacum officinale"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Taraxacum erythrospermum"</span>, <span class="st">"Taraxacum officinale"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Taraxacum hamatum"</span>, <span class="st">"Taraxacum officinale"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Trientalis europaea"</span>, <span class="st">"Lysimachia europaea"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Trifolium pallidum"</span>, <span class="st">"Trifolium pratense"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>sp<span class="op">=</span><span class="fu">str_replace</span><span class="op">(</span><span class="va">sp</span>,<span class="st">"Vicia orobus"</span>, <span class="st">"Vicia cassubica"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## merge species data with indicators</span></span>
<span><span class="va">NiN.sp.ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span><span class="va">NiN.sp</span>,<span class="va">ind.dat</span>, by.x<span class="op">=</span><span class="st">"sp"</span>, by.y<span class="op">=</span><span class="st">"species"</span>, all.x<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">NiN.sp.ind</span><span class="op">)</span></span>
<span></span>
<span><span class="va">NiN.sp.ind</span><span class="op">[</span><span class="va">NiN.sp.ind</span><span class="op">==</span><span class="fl">999</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span></span>
<span><span class="co"># checking which species didn't find a match</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">NiN.sp.ind</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">NiN.sp.ind</span><span class="op">$</span><span class="va">Moisture</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">NiN.sp.ind</span><span class="op">$</span><span class="va">spgr</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"a1a"</span>,<span class="st">"a1b"</span>,<span class="st">"a1c"</span><span class="op">)</span>,<span class="st">'sp'</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co"># ok now</span></span>
<span></span>
<span><span class="co">## matching with NiN ecosystem types - for wetlands</span></span>
<span><span class="co"># NB! beware of rogue spaces in the 'Nature_type' &amp; 'Sub_Type' variables, e.g. "Spring_Forest "</span></span>
<span><span class="va">NiN.wetland</span> <span class="op">&lt;-</span> <span class="va">NiN.sp.ind</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"sp"</span>,<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">NiN.env</span><span class="op">[</span><span class="va">NiN.env</span><span class="op">$</span><span class="va">Nature_Type</span><span class="op">==</span><span class="st">"Mire"</span>,<span class="st">"ID"</span><span class="op">]</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">ind.dat</span><span class="op">)</span><span class="op">[</span><span class="fl">15</span><span class="op">:</span><span class="fl">18</span><span class="op">]</span><span class="op">)</span><span class="op">]</span>   <span class="co"># Light, Moisture, Soil_reaction_pH, Nitrogen</span></span>
<span><span class="va">NiN.wetland</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">NiN.wetland</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">NiN.wetland</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">""</span>,</span>
<span>        <span class="st">'V3-C1a'</span>,<span class="st">'V3-C1b'</span>,<span class="st">'V3-C1c'</span>,<span class="st">'V3-C1d'</span>,<span class="st">'V3-C1e'</span>,</span>
<span>        <span class="st">'V1-C1a'</span>,<span class="st">'V1-C1b'</span>,<span class="st">'V1-C1c'</span>,<span class="st">'V1-C1d'</span>,<span class="st">'V1-C1e'</span>,</span>
<span>        <span class="st">'V1-C2a'</span>,<span class="st">'V1-C2b'</span>,<span class="st">'V1-C2c'</span>,<span class="st">'V1-C2d'</span>,</span>
<span>        <span class="st">'V1-C3a'</span>,<span class="st">'V1-C3b'</span>,<span class="st">'V1-C3c'</span>,<span class="st">'V1-C3d'</span>,</span>
<span>        <span class="st">'V1-C4a'</span>,<span class="st">'V1-C4b'</span>,<span class="st">'V1-C4c'</span>,<span class="st">'V1-C4d'</span>,</span>
<span>        <span class="st">'V1-C4e'</span>,<span class="st">'V1-C4f'</span>,<span class="st">'V1-C4g'</span>,<span class="st">'V1-C4h'</span>,</span>
<span>        <span class="st">'V3-C2'</span>,<span class="st">'V1-C5'</span>,</span>
<span>        <span class="st">'V1-C6a'</span>,<span class="st">'V1-C6b'</span>,</span>
<span>        <span class="st">'V1-C7a'</span>,<span class="st">'V1-C7b'</span>,</span>
<span>        <span class="st">'V1-C8a'</span>,<span class="st">'V1-C8b'</span>,</span>
<span>        <span class="st">'V2-C1a'</span>,<span class="st">'V2-C1b'</span>,</span>
<span>        <span class="st">'V2-C2a'</span>,<span class="st">'V2-C2b'</span>,</span>
<span>        <span class="st">'V2-C3a'</span>,<span class="st">'V2-C3b'</span>,</span>
<span>        <span class="st">"V4-C2"</span>,<span class="st">"V4-C3"</span>,</span>
<span>        <span class="st">""</span>,<span class="st">""</span>,</span>
<span>        <span class="st">'V8-C1'</span>,<span class="st">'V8-C2'</span>,<span class="st">'V8-C3'</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">""</span>,<span class="fl">10</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">""</span>,<span class="fl">4</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">NiN.wetland</span> <span class="op">&lt;-</span> <span class="va">NiN.wetland</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">43</span>,<span class="fl">46</span><span class="op">:</span><span class="fl">48</span>,<span class="fl">59</span><span class="op">:</span><span class="fl">62</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">NiN.wetland</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">46</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'V3-C1a'</span>,<span class="st">'V3-C1b'</span>,<span class="st">'V3-C1c'</span>,<span class="st">'V3-C1d'</span>,<span class="st">'V3-C1e'</span>,</span>
<span>                              <span class="st">'V1-C1a'</span>,<span class="st">'V1-C1b'</span>,<span class="st">'V1-C1c'</span>,<span class="st">'V1-C1d'</span>,<span class="st">'V1-C1e'</span>,</span>
<span>                              <span class="st">'V1-C2a'</span>,<span class="st">'V1-C2b'</span>,<span class="st">'V1-C2c'</span>,<span class="st">'V1-C2d'</span>,</span>
<span>                              <span class="st">'V1-C3a'</span>,<span class="st">'V1-C3b'</span>,<span class="st">'V1-C3c'</span>,<span class="st">'V1-C3d'</span>,</span>
<span>                              <span class="st">'V1-C4a'</span>,<span class="st">'V1-C4b'</span>,<span class="st">'V1-C4c'</span>,<span class="st">'V1-C4d'</span>,</span>
<span>                              <span class="st">'V1-C4e'</span>,<span class="st">'V1-C4f'</span>,<span class="st">'V1-C4g'</span>,<span class="st">'V1-C4h'</span>,</span>
<span>                              <span class="st">'V3-C2'</span>,<span class="st">'V1-C5'</span>,</span>
<span>                              <span class="st">'V1-C6a'</span>,<span class="st">'V1-C6b'</span>,</span>
<span>                              <span class="st">'V1-C7a'</span>,<span class="st">'V1-C7b'</span>,</span>
<span>                              <span class="st">'V1-C8a'</span>,<span class="st">'V1-C8b'</span>,</span>
<span>                              <span class="st">'V2-C1a'</span>,<span class="st">'V2-C1b'</span>,</span>
<span>                              <span class="st">'V2-C2a'</span>,<span class="st">'V2-C2b'</span>,</span>
<span>                              <span class="st">'V2-C3a'</span>,<span class="st">'V2-C3b'</span>,</span>
<span>                              <span class="st">'V4-C2'</span>,<span class="st">'V4-C3'</span>,</span>
<span>                              <span class="st">'V8-C1'</span>,<span class="st">'V8-C2'</span>,<span class="st">'V8-C3'</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">NiN.wetland</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># translating the abundance classes into %-cover</span></span>
<span><span class="va">coverscale</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>orig<span class="op">=</span><span class="fl">0</span><span class="op">:</span><span class="fl">6</span>,</span>
<span>                         cov<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">/</span><span class="fl">32</span>,<span class="fl">1</span><span class="op">/</span><span class="fl">8</span>,<span class="fl">3</span><span class="op">/</span><span class="fl">8</span>,<span class="fl">0.6</span>,<span class="fl">4</span><span class="op">/</span><span class="fl">5</span>,<span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">NiN.wetland.cov</span> <span class="op">&lt;-</span> <span class="va">NiN.wetland</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">NiN.wetland.cov</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">2</span><span class="op">:</span><span class="fl">46</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">NiN.wetland.cov</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">coverscale</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">[</span> <span class="fu"><a href="https://rdrr.io/r/base/match.html">match</a></span><span class="op">(</span><span class="va">NiN.wetland</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span>, <span class="fl">0</span><span class="op">:</span><span class="fl">6</span> <span class="op">)</span> <span class="op">]</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">NiN.wetland.cov</span><span class="op">$</span><span class="va">sp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">NiN.wetland.cov</span><span class="op">$</span><span class="va">sp</span><span class="op">)</span></span></code></pre></div>
<p>This leaves us with the monitoring data including plant indicators (ANO.sp.ind) and the reference data including plant indicators (NiN.wetland.cov):</p>
<!-- Print head of data set with horizontal scrolling -->
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<div class="inline-table"><table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:ano-sp-tab">Table 6.1: </span>ANO species occurence data set with attached plant trait data.
</caption>
<thead><tr>
<th style="text-align:left;">
Species
</th>
<th style="text-align:right;">
art_dekning
</th>
<th style="text-align:left;">
ParentGlobalID
</th>
<th style="text-align:right;">
Light
</th>
<th style="text-align:right;">
Moisture
</th>
<th style="text-align:right;">
Soil_reaction_pH
</th>
<th style="text-align:right;">
Nitrogen
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Abies alba
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
{CB1796B9-01F5-4109-B44E-4582CA855F93}
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
Abies alba
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
{AB9ED5C2-E906-4C73-B543-EC6CB28B39D5}
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
Abies alba
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
{32A9B462-5483-4D47-ADAF-78F11AF201AA}
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
Abies alba
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
{004C000D-459B-4244-96F4-4FF8B06454D4}
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
Abies alba
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
{B7DD61EE-A113-4486-A4B8-D50ACAAC648B}
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
Abies alba
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
{0431743B-F268-4819-98F7-FFB7006E55BA}
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
</tr>
</tbody>
</table></div>
</div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<div class="inline-table"><table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:wetland-ref-data-tab">Table 6.2: </span>Reference data set
</caption>
<thead><tr>
<th style="text-align:left;">
sp
</th>
<th style="text-align:right;">
V3-C1a
</th>
<th style="text-align:right;">
V3-C1b
</th>
<th style="text-align:right;">
V3-C1c
</th>
<th style="text-align:right;">
V3-C1d
</th>
<th style="text-align:right;">
V3-C1e
</th>
<th style="text-align:right;">
V1-C1a
</th>
<th style="text-align:right;">
V1-C1b
</th>
<th style="text-align:right;">
V1-C1c
</th>
<th style="text-align:right;">
V1-C1d
</th>
<th style="text-align:right;">
V1-C1e
</th>
<th style="text-align:right;">
V1-C2a
</th>
<th style="text-align:right;">
V1-C2b
</th>
<th style="text-align:right;">
V1-C2c
</th>
<th style="text-align:right;">
V1-C2d
</th>
<th style="text-align:right;">
V1-C3a
</th>
<th style="text-align:right;">
V1-C3b
</th>
<th style="text-align:right;">
V1-C3c
</th>
<th style="text-align:right;">
V1-C3d
</th>
<th style="text-align:right;">
V1-C4a
</th>
<th style="text-align:right;">
V1-C4b
</th>
<th style="text-align:right;">
V1-C4c
</th>
<th style="text-align:right;">
V1-C4d
</th>
<th style="text-align:right;">
V1-C4e
</th>
<th style="text-align:right;">
V1-C4f
</th>
<th style="text-align:right;">
V1-C4g
</th>
<th style="text-align:right;">
V1-C4h
</th>
<th style="text-align:right;">
V3-C2
</th>
<th style="text-align:right;">
V1-C5
</th>
<th style="text-align:right;">
V1-C6a
</th>
<th style="text-align:right;">
V1-C6b
</th>
<th style="text-align:right;">
V1-C7a
</th>
<th style="text-align:right;">
V1-C7b
</th>
<th style="text-align:right;">
V1-C8a
</th>
<th style="text-align:right;">
V1-C8b
</th>
<th style="text-align:right;">
V2-C1a
</th>
<th style="text-align:right;">
V2-C1b
</th>
<th style="text-align:right;">
V2-C2a
</th>
<th style="text-align:right;">
V2-C2b
</th>
<th style="text-align:right;">
V2-C3a
</th>
<th style="text-align:right;">
V2-C3b
</th>
<th style="text-align:right;">
V4-C2
</th>
<th style="text-align:right;">
V4-C3
</th>
<th style="text-align:right;">
V8-C1
</th>
<th style="text-align:right;">
V8-C2
</th>
<th style="text-align:right;">
V8-C3
</th>
<th style="text-align:right;">
Light
</th>
<th style="text-align:right;">
Moisture
</th>
<th style="text-align:right;">
Soil_reaction_pH
</th>
<th style="text-align:right;">
Nitrogen
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Abietinella abietina
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Acer platanoides
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
Achillea millefolium
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
Achillea ptarmica
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Acinos arvensis
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
Aconitum septentrionale
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
7
</td>
</tr>
</tbody>
</table></div>
</div>
<p><br></p>
<p>For each ecosystem type with a NiN species list, we can calculate a community weighted mean (CWM) for the relevant functional plant indicators.
For wetland ecosystem we are testing “Light”, “Moisture”, “Soil_reaction_pH”, and “Nitrogen”. In order to get distributions of CWMs rather than one single value (for comparison with the empirical testing data) the NiN lists can be bootstrapped.</p>
<p><br></p>
<div id="bootstrap-function-for-frequency-abundance" class="section level5" number="6.7.1.1.1">
<h5>
<span class="header-section-number">6.7.1.1.1</span> Bootstrap function for frequency abundance<a class="anchor" aria-label="anchor" href="#bootstrap-function-for-frequency-abundance"><i class="fas fa-link"></i></a>
</h5>
<ul>
<li>function to calculate community weighted means of selected indicator values (ind)</li>
<li>for species lists (sp) with given abundances in percent (or on a scale from 0 to 1) in one or more ‘sites’ (abun)</li>
<li>with a given number of iterations (iter),</li>
<li>with species given a certain minimum abundance occurring in all bootstraps (obl), and</li>
<li>with a given re-sampling ratio of the original species list (rat)</li>
<li>in every bootstrap iteration the abundance of the sampled species can be randomly changed by a limited amount if wished by introducing a re-sampling of abundance values from adjacent abundance steps with a certain probability (var.abun)</li>
</ul>
<div class="sourceCode" id="cb240"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">indBoot.freq</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">sp</span>,<span class="va">abun</span>,<span class="va">ind</span>,<span class="va">iter</span>,<span class="va">obl</span>,<span class="va">rat</span><span class="op">=</span><span class="fl">2</span><span class="op">/</span><span class="fl">3</span>,<span class="va">var.abun</span><span class="op">=</span><span class="cn">F</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">ind.b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span>nrow<span class="op">=</span><span class="va">iter</span>,ncol<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">abun</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">ind.b</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">abun</span><span class="op">)</span></span>
<span>  <span class="va">ind.b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">ind.b</span><span class="op">)</span>  </span>
<span>  </span>
<span>  <span class="va">ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">ind</span><span class="op">)</span></span>
<span>  <span class="va">ind.list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">as.list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">ind</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">ind.list</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">ind</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">k</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">ind</span><span class="op">)</span><span class="op">)</span> <span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">ind.list</span><span class="op">[[</span><span class="va">k</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">ind.b</span> <span class="op">}</span></span>
<span>  </span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">abun</span><span class="op">)</span><span class="op">)</span> <span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">sp</span>,<span class="va">abun</span><span class="op">[</span>,<span class="va">j</span><span class="op">]</span>,<span class="va">ind</span><span class="op">)</span></span>
<span>    <span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">[</span><span class="va">dat</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">&gt;</span><span class="fl">0</span>,<span class="op">]</span>            <span class="co"># only species that are present in the ecosystem</span></span>
<span>    <span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">dat</span><span class="op">[</span>,<span class="fl">3</span><span class="op">]</span><span class="op">)</span>,<span class="op">]</span>      <span class="co"># only species that have indicator values</span></span>
<span>    </span>
<span>    <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">iter</span><span class="op">)</span> <span class="op">{</span></span>
<span>      </span>
<span>      <span class="va">speciesSample</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">sp</span><span class="op">[</span><span class="va">dat</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;</span> <span class="va">obl</span><span class="op">]</span>, size<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">sp</span><span class="op">)</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">sp</span><span class="op">[</span><span class="va">dat</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">&gt;=</span><span class="va">obl</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span><span class="va">rat</span>,<span class="fl">0</span><span class="op">)</span>, replace<span class="op">=</span><span class="cn">F</span><span class="op">)</span>  </span>
<span>      <span class="va">dat.b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">dat</span><span class="op">[</span><span class="va">dat</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">&gt;=</span> <span class="va">obl</span>,<span class="op">]</span>,</span>
<span>                     <span class="va">dat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/match.html">match</a></span><span class="op">(</span><span class="va">speciesSample</span>,<span class="va">dat</span><span class="op">$</span><span class="va">sp</span><span class="op">)</span>,<span class="op">]</span></span>
<span>      <span class="op">)</span></span>
<span>      </span>
<span>      <span class="kw">if</span> <span class="op">(</span><span class="va">var.abun</span><span class="op">==</span><span class="cn">T</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="kw">for</span> <span class="op">(</span><span class="va">m</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">coverscale</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>,<span class="op">]</span><span class="op">)</span> <span class="op">)</span> <span class="op">{</span></span>
<span>          <span class="va">xxx</span> <span class="op">&lt;-</span> <span class="va">dat.b</span><span class="op">[</span><span class="va">dat.b</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">==</span><span class="va">coverscale</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>,<span class="op">]</span><span class="op">[</span><span class="va">m</span>,<span class="fl">2</span><span class="op">]</span>,<span class="fl">2</span><span class="op">]</span></span>
<span>          <span class="kw">if</span> <span class="op">(</span> <span class="va">m</span><span class="op">==</span><span class="fl">1</span> <span class="op">)</span> <span class="op">{</span> <span class="va">dat.b</span><span class="op">[</span><span class="va">dat.b</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">==</span><span class="va">coverscale</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>,<span class="op">]</span><span class="op">[</span><span class="va">m</span>,<span class="fl">2</span><span class="op">]</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.01</span>,<span class="va">coverscale</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">7</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span><span class="op">)</span> ,size<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">xxx</span><span class="op">)</span>,replace<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op">}</span></span>
<span>          <span class="kw">if</span> <span class="op">(</span> <span class="va">m</span><span class="op">==</span><span class="fl">2</span> <span class="op">)</span> <span class="op">{</span> <span class="va">dat.b</span><span class="op">[</span><span class="va">dat.b</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">==</span><span class="va">coverscale</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>,<span class="op">]</span><span class="op">[</span><span class="va">m</span>,<span class="fl">2</span><span class="op">]</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.01</span>,<span class="va">coverscale</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">7</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span><span class="op">)</span> ,size<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">xxx</span><span class="op">)</span>,replace<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op">}</span></span>
<span>          <span class="kw">if</span> <span class="op">(</span> <span class="va">m</span><span class="op">==</span><span class="fl">3</span> <span class="op">)</span> <span class="op">{</span> <span class="va">dat.b</span><span class="op">[</span><span class="va">dat.b</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">==</span><span class="va">coverscale</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>,<span class="op">]</span><span class="op">[</span><span class="va">m</span>,<span class="fl">2</span><span class="op">]</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.01</span>,<span class="va">coverscale</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">7</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.0</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span><span class="op">)</span> ,size<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">xxx</span><span class="op">)</span>,replace<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op">}</span></span>
<span>          <span class="kw">if</span> <span class="op">(</span> <span class="va">m</span><span class="op">==</span><span class="fl">4</span> <span class="op">)</span> <span class="op">{</span> <span class="va">dat.b</span><span class="op">[</span><span class="va">dat.b</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">==</span><span class="va">coverscale</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>,<span class="op">]</span><span class="op">[</span><span class="va">m</span>,<span class="fl">2</span><span class="op">]</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.01</span>,<span class="va">coverscale</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">7</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span><span class="op">)</span> ,size<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">xxx</span><span class="op">)</span>,replace<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op">}</span></span>
<span>          <span class="kw">if</span> <span class="op">(</span> <span class="va">m</span><span class="op">==</span><span class="fl">5</span> <span class="op">)</span> <span class="op">{</span> <span class="va">dat.b</span><span class="op">[</span><span class="va">dat.b</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">==</span><span class="va">coverscale</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>,<span class="op">]</span><span class="op">[</span><span class="va">m</span>,<span class="fl">2</span><span class="op">]</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.01</span>,<span class="va">coverscale</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">7</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.0</span><span class="op">)</span> ,size<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">xxx</span><span class="op">)</span>,replace<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op">}</span></span>
<span>          <span class="kw">if</span> <span class="op">(</span> <span class="va">m</span><span class="op">==</span><span class="fl">6</span> <span class="op">)</span> <span class="op">{</span> <span class="va">dat.b</span><span class="op">[</span><span class="va">dat.b</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">==</span><span class="va">coverscale</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>,<span class="op">]</span><span class="op">[</span><span class="va">m</span>,<span class="fl">2</span><span class="op">]</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.01</span>,<span class="va">coverscale</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">7</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span><span class="op">)</span> ,size<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">xxx</span><span class="op">)</span>,replace<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op">}</span></span>
<span>        <span class="op">}</span></span>
<span>        <span class="va">dat.b</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">dat.b</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">dat.b</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">&lt;=</span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0.01</span></span>
<span>        <span class="va">dat.b</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">dat.b</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">dat.b</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">&gt;</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span>      <span class="op">}</span></span>
<span>      </span>
<span>      <span class="kw">for</span> <span class="op">(</span><span class="va">k</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">ind</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        </span>
<span>        <span class="kw">if</span> <span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">dat.b</span><span class="op">)</span><span class="op">&gt;</span><span class="fl">2</span> <span class="op">)</span> <span class="op">{</span></span>
<span>          </span>
<span>          <span class="va">ind.b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">dat.b</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">dat.b</span><span class="op">[</span>,<span class="fl">2</span><span class="op">+</span><span class="va">k</span><span class="op">]</span><span class="op">)</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">*</span> <span class="va">dat.b</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">dat.b</span><span class="op">[</span>,<span class="fl">2</span><span class="op">+</span><span class="va">k</span><span class="op">]</span><span class="op">)</span>,<span class="fl">2</span><span class="op">+</span><span class="va">k</span><span class="op">]</span> , na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">dat.b</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">dat.b</span><span class="op">[</span>,<span class="fl">2</span><span class="op">+</span><span class="va">k</span><span class="op">]</span><span class="op">)</span>,<span class="fl">2</span><span class="op">]</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span>          <span class="va">ind.list</span><span class="op">[[</span><span class="va">k</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="va">j</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">ind.b</span></span>
<span>          </span>
<span>        <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span><span class="va">ind.list</span><span class="op">[[</span><span class="va">k</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="va">j</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span><span class="op">}</span></span>
<span>        </span>
<span>      <span class="op">}</span></span>
<span> </span>
<span><span class="co">#      print(paste(i,"",j)) </span></span>
<span>    <span class="op">}</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">ind.list</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb241"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">NiN.wetland</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "sp"               "V3-C1a"          </span></span>
<span><span class="co">#&gt;  [3] "V3-C1b"           "V3-C1c"          </span></span>
<span><span class="co">#&gt;  [5] "V3-C1d"           "V3-C1e"          </span></span>
<span><span class="co">#&gt;  [7] "V1-C1a"           "V1-C1b"          </span></span>
<span><span class="co">#&gt;  [9] "V1-C1c"           "V1-C1d"          </span></span>
<span><span class="co">#&gt; [11] "V1-C1e"           "V1-C2a"          </span></span>
<span><span class="co">#&gt; [13] "V1-C2b"           "V1-C2c"          </span></span>
<span><span class="co">#&gt; [15] "V1-C2d"           "V1-C3a"          </span></span>
<span><span class="co">#&gt; [17] "V1-C3b"           "V1-C3c"          </span></span>
<span><span class="co">#&gt; [19] "V1-C3d"           "V1-C4a"          </span></span>
<span><span class="co">#&gt; [21] "V1-C4b"           "V1-C4c"          </span></span>
<span><span class="co">#&gt; [23] "V1-C4d"           "V1-C4e"          </span></span>
<span><span class="co">#&gt; [25] "V1-C4f"           "V1-C4g"          </span></span>
<span><span class="co">#&gt; [27] "V1-C4h"           "V3-C2"           </span></span>
<span><span class="co">#&gt; [29] "V1-C5"            "V1-C6a"          </span></span>
<span><span class="co">#&gt; [31] "V1-C6b"           "V1-C7a"          </span></span>
<span><span class="co">#&gt; [33] "V1-C7b"           "V1-C8a"          </span></span>
<span><span class="co">#&gt; [35] "V1-C8b"           "V2-C1a"          </span></span>
<span><span class="co">#&gt; [37] "V2-C1b"           "V2-C2a"          </span></span>
<span><span class="co">#&gt; [39] "V2-C2b"           "V2-C3a"          </span></span>
<span><span class="co">#&gt; [41] "V2-C3b"           "V4-C2"           </span></span>
<span><span class="co">#&gt; [43] "V4-C3"            "V8-C1"           </span></span>
<span><span class="co">#&gt; [45] "V8-C2"            "V8-C3"           </span></span>
<span><span class="co">#&gt; [47] "Light"            "Moisture"        </span></span>
<span><span class="co">#&gt; [49] "Soil_reaction_pH" "Nitrogen"</span></span>
<span><span class="co"># 1st column is the species</span></span>
<span><span class="co"># 2nd-46th column is the abundances of sp in different ecosystem types</span></span>
<span><span class="co"># 47th-50th column is the indicator values of the respective species</span></span>
<span><span class="co"># we choose 1000 iterations</span></span>
<span><span class="co"># species with abundance 1 (i.e. a max of 100%, must be included in each sample)</span></span>
<span><span class="co"># each sample re-samples 2/3 of the number of species</span></span>
<span><span class="co"># the abundance of the re-sampled species may vary (see bootstrap function for details)</span></span></code></pre></div>
<p>Running the bootstraps:</p>
<div class="sourceCode" id="cb242"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wetland.ref.cov</span> <span class="op">&lt;-</span> <span class="fu">indBoot.freq</span><span class="op">(</span>sp<span class="op">=</span><span class="va">NiN.wetland.cov</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>,abun<span class="op">=</span><span class="va">NiN.wetland.cov</span><span class="op">[</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">46</span><span class="op">]</span>,ind<span class="op">=</span><span class="va">NiN.wetland.cov</span><span class="op">[</span>,<span class="fl">47</span><span class="op">:</span><span class="fl">50</span><span class="op">]</span>,</span>
<span>                          iter<span class="op">=</span><span class="fl">1000</span>,obl<span class="op">=</span><span class="fl">1</span>,rat<span class="op">=</span><span class="fl">2</span><span class="op">/</span><span class="fl">3</span>,var.abun<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># fixing NaNs</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">)</span> <span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">v</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="va">j</span><span class="op">]</span></span>
<span>    <span class="va">v</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/is.finite.html">is.nan</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span>    <span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="va">j</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">v</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
<!-- Please insert all the code that produces the cached data. Probably just needs to add the saveRDS() part to the code chunk above. -->
<div class="sourceCode" id="cb243"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">kable</span><span class="op">(</span><span class="st">"html"</span>, caption <span class="op">=</span> <span class="st">"Table showing the first 6 rows of the boostrapped data set."</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">kable_styling</span><span class="op">(</span><span class="st">"striped"</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">scroll_box</span><span class="op">(</span>width <span class="op">=</span> <span class="st">"100%"</span><span class="op">)</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<div class="inline-table"><table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-12">Table 6.3: </span>Table showing the first 6 rows of the boostrapped data set.
</caption>
<thead><tr>
<th style="text-align:right;">
V3-C1a
</th>
<th style="text-align:right;">
V3-C1b
</th>
<th style="text-align:right;">
V3-C1c
</th>
<th style="text-align:right;">
V3-C1d
</th>
<th style="text-align:right;">
V3-C1e
</th>
<th style="text-align:right;">
V1-C1a
</th>
<th style="text-align:right;">
V1-C1b
</th>
<th style="text-align:right;">
V1-C1c
</th>
<th style="text-align:right;">
V1-C1d
</th>
<th style="text-align:right;">
V1-C1e
</th>
<th style="text-align:right;">
V1-C2a
</th>
<th style="text-align:right;">
V1-C2b
</th>
<th style="text-align:right;">
V1-C2c
</th>
<th style="text-align:right;">
V1-C2d
</th>
<th style="text-align:right;">
V1-C3a
</th>
<th style="text-align:right;">
V1-C3b
</th>
<th style="text-align:right;">
V1-C3c
</th>
<th style="text-align:right;">
V1-C3d
</th>
<th style="text-align:right;">
V1-C4a
</th>
<th style="text-align:right;">
V1-C4b
</th>
<th style="text-align:right;">
V1-C4c
</th>
<th style="text-align:right;">
V1-C4d
</th>
<th style="text-align:right;">
V1-C4e
</th>
<th style="text-align:right;">
V1-C4f
</th>
<th style="text-align:right;">
V1-C4g
</th>
<th style="text-align:right;">
V1-C4h
</th>
<th style="text-align:right;">
V3-C2
</th>
<th style="text-align:right;">
V1-C5
</th>
<th style="text-align:right;">
V1-C6a
</th>
<th style="text-align:right;">
V1-C6b
</th>
<th style="text-align:right;">
V1-C7a
</th>
<th style="text-align:right;">
V1-C7b
</th>
<th style="text-align:right;">
V1-C8a
</th>
<th style="text-align:right;">
V1-C8b
</th>
<th style="text-align:right;">
V2-C1a
</th>
<th style="text-align:right;">
V2-C1b
</th>
<th style="text-align:right;">
V2-C2a
</th>
<th style="text-align:right;">
V2-C2b
</th>
<th style="text-align:right;">
V2-C3a
</th>
<th style="text-align:right;">
V2-C3b
</th>
<th style="text-align:right;">
V4-C2
</th>
<th style="text-align:right;">
V4-C3
</th>
<th style="text-align:right;">
V8-C1
</th>
<th style="text-align:right;">
V8-C2
</th>
<th style="text-align:right;">
V8-C3
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
6.336842
</td>
<td style="text-align:right;">
5.702703
</td>
<td style="text-align:right;">
5.891986
</td>
<td style="text-align:right;">
5.407407
</td>
<td style="text-align:right;">
5.284661
</td>
<td style="text-align:right;">
5.682713
</td>
<td style="text-align:right;">
5.723592
</td>
<td style="text-align:right;">
5.291436
</td>
<td style="text-align:right;">
5.353811
</td>
<td style="text-align:right;">
5.171986
</td>
<td style="text-align:right;">
5.823009
</td>
<td style="text-align:right;">
5.360731
</td>
<td style="text-align:right;">
5.617886
</td>
<td style="text-align:right;">
5.255973
</td>
<td style="text-align:right;">
5.879501
</td>
<td style="text-align:right;">
5.451771
</td>
<td style="text-align:right;">
5.150421
</td>
<td style="text-align:right;">
5.454386
</td>
<td style="text-align:right;">
6.036180
</td>
<td style="text-align:right;">
5.361275
</td>
<td style="text-align:right;">
5.287129
</td>
<td style="text-align:right;">
5.246544
</td>
<td style="text-align:right;">
5.826291
</td>
<td style="text-align:right;">
6.096953
</td>
<td style="text-align:right;">
5.435681
</td>
<td style="text-align:right;">
4.918367
</td>
<td style="text-align:right;">
4.994775
</td>
<td style="text-align:right;">
4.727076
</td>
<td style="text-align:right;">
4.996255
</td>
<td style="text-align:right;">
4.630435
</td>
<td style="text-align:right;">
5.005076
</td>
<td style="text-align:right;">
4.927380
</td>
<td style="text-align:right;">
4.901750
</td>
<td style="text-align:right;">
4.761329
</td>
<td style="text-align:right;">
4.395683
</td>
<td style="text-align:right;">
4.030844
</td>
<td style="text-align:right;">
4.660793
</td>
<td style="text-align:right;">
3.813056
</td>
<td style="text-align:right;">
4.138365
</td>
<td style="text-align:right;">
3.871470
</td>
<td style="text-align:right;">
4.859013
</td>
<td style="text-align:right;">
4.983607
</td>
<td style="text-align:right;">
4.767647
</td>
<td style="text-align:right;">
4.595033
</td>
<td style="text-align:right;">
4.620053
</td>
</tr>
<tr>
<td style="text-align:right;">
6.162896
</td>
<td style="text-align:right;">
5.603411
</td>
<td style="text-align:right;">
5.233202
</td>
<td style="text-align:right;">
5.353871
</td>
<td style="text-align:right;">
5.077465
</td>
<td style="text-align:right;">
5.908840
</td>
<td style="text-align:right;">
5.667160
</td>
<td style="text-align:right;">
5.929448
</td>
<td style="text-align:right;">
5.263294
</td>
<td style="text-align:right;">
5.245902
</td>
<td style="text-align:right;">
6.299618
</td>
<td style="text-align:right;">
5.416517
</td>
<td style="text-align:right;">
5.716802
</td>
<td style="text-align:right;">
5.514939
</td>
<td style="text-align:right;">
6.344234
</td>
<td style="text-align:right;">
5.197347
</td>
<td style="text-align:right;">
5.304290
</td>
<td style="text-align:right;">
5.319415
</td>
<td style="text-align:right;">
5.798913
</td>
<td style="text-align:right;">
5.616487
</td>
<td style="text-align:right;">
5.851117
</td>
<td style="text-align:right;">
5.579498
</td>
<td style="text-align:right;">
6.095665
</td>
<td style="text-align:right;">
5.593711
</td>
<td style="text-align:right;">
5.651720
</td>
<td style="text-align:right;">
5.438084
</td>
<td style="text-align:right;">
5.015432
</td>
<td style="text-align:right;">
4.652138
</td>
<td style="text-align:right;">
5.033333
</td>
<td style="text-align:right;">
4.773573
</td>
<td style="text-align:right;">
4.801927
</td>
<td style="text-align:right;">
4.846557
</td>
<td style="text-align:right;">
5.127968
</td>
<td style="text-align:right;">
4.896014
</td>
<td style="text-align:right;">
4.188559
</td>
<td style="text-align:right;">
4.155105
</td>
<td style="text-align:right;">
4.615487
</td>
<td style="text-align:right;">
4.059268
</td>
<td style="text-align:right;">
4.056991
</td>
<td style="text-align:right;">
3.942257
</td>
<td style="text-align:right;">
5.042409
</td>
<td style="text-align:right;">
5.249798
</td>
<td style="text-align:right;">
4.660854
</td>
<td style="text-align:right;">
4.547687
</td>
<td style="text-align:right;">
4.647333
</td>
</tr>
<tr>
<td style="text-align:right;">
5.807692
</td>
<td style="text-align:right;">
6.099119
</td>
<td style="text-align:right;">
5.567628
</td>
<td style="text-align:right;">
5.296296
</td>
<td style="text-align:right;">
5.269912
</td>
<td style="text-align:right;">
6.087065
</td>
<td style="text-align:right;">
6.065979
</td>
<td style="text-align:right;">
5.575145
</td>
<td style="text-align:right;">
5.536041
</td>
<td style="text-align:right;">
5.169304
</td>
<td style="text-align:right;">
5.894265
</td>
<td style="text-align:right;">
5.898420
</td>
<td style="text-align:right;">
5.455844
</td>
<td style="text-align:right;">
5.415879
</td>
<td style="text-align:right;">
5.713128
</td>
<td style="text-align:right;">
5.320140
</td>
<td style="text-align:right;">
5.617048
</td>
<td style="text-align:right;">
5.505593
</td>
<td style="text-align:right;">
6.293651
</td>
<td style="text-align:right;">
5.648649
</td>
<td style="text-align:right;">
5.619326
</td>
<td style="text-align:right;">
5.577703
</td>
<td style="text-align:right;">
5.855586
</td>
<td style="text-align:right;">
5.934783
</td>
<td style="text-align:right;">
5.580581
</td>
<td style="text-align:right;">
5.851128
</td>
<td style="text-align:right;">
4.773709
</td>
<td style="text-align:right;">
4.726855
</td>
<td style="text-align:right;">
4.904824
</td>
<td style="text-align:right;">
4.773680
</td>
<td style="text-align:right;">
4.572449
</td>
<td style="text-align:right;">
4.504233
</td>
<td style="text-align:right;">
5.070941
</td>
<td style="text-align:right;">
4.808081
</td>
<td style="text-align:right;">
4.110694
</td>
<td style="text-align:right;">
4.091158
</td>
<td style="text-align:right;">
4.479858
</td>
<td style="text-align:right;">
3.668596
</td>
<td style="text-align:right;">
4.187162
</td>
<td style="text-align:right;">
4.057981
</td>
<td style="text-align:right;">
5.047048
</td>
<td style="text-align:right;">
4.992795
</td>
<td style="text-align:right;">
4.679577
</td>
<td style="text-align:right;">
4.609576
</td>
<td style="text-align:right;">
4.564313
</td>
</tr>
<tr>
<td style="text-align:right;">
6.775086
</td>
<td style="text-align:right;">
5.789572
</td>
<td style="text-align:right;">
5.493739
</td>
<td style="text-align:right;">
5.475034
</td>
<td style="text-align:right;">
5.269912
</td>
<td style="text-align:right;">
6.352518
</td>
<td style="text-align:right;">
5.483051
</td>
<td style="text-align:right;">
5.570014
</td>
<td style="text-align:right;">
5.728624
</td>
<td style="text-align:right;">
5.022152
</td>
<td style="text-align:right;">
5.849462
</td>
<td style="text-align:right;">
5.354067
</td>
<td style="text-align:right;">
5.591304
</td>
<td style="text-align:right;">
5.561783
</td>
<td style="text-align:right;">
5.722591
</td>
<td style="text-align:right;">
5.573379
</td>
<td style="text-align:right;">
5.204703
</td>
<td style="text-align:right;">
5.590814
</td>
<td style="text-align:right;">
5.889374
</td>
<td style="text-align:right;">
5.685484
</td>
<td style="text-align:right;">
5.371715
</td>
<td style="text-align:right;">
5.093677
</td>
<td style="text-align:right;">
5.851802
</td>
<td style="text-align:right;">
5.616374
</td>
<td style="text-align:right;">
5.151030
</td>
<td style="text-align:right;">
5.386395
</td>
<td style="text-align:right;">
4.870244
</td>
<td style="text-align:right;">
4.667209
</td>
<td style="text-align:right;">
4.994338
</td>
<td style="text-align:right;">
4.894553
</td>
<td style="text-align:right;">
4.884762
</td>
<td style="text-align:right;">
4.812344
</td>
<td style="text-align:right;">
4.881336
</td>
<td style="text-align:right;">
5.094451
</td>
<td style="text-align:right;">
4.260394
</td>
<td style="text-align:right;">
4.165308
</td>
<td style="text-align:right;">
4.733990
</td>
<td style="text-align:right;">
3.914540
</td>
<td style="text-align:right;">
4.233787
</td>
<td style="text-align:right;">
4.077534
</td>
<td style="text-align:right;">
4.738647
</td>
<td style="text-align:right;">
5.027458
</td>
<td style="text-align:right;">
4.835616
</td>
<td style="text-align:right;">
4.512004
</td>
<td style="text-align:right;">
4.539221
</td>
</tr>
<tr>
<td style="text-align:right;">
5.903114
</td>
<td style="text-align:right;">
5.789572
</td>
<td style="text-align:right;">
5.641694
</td>
<td style="text-align:right;">
5.492308
</td>
<td style="text-align:right;">
5.007634
</td>
<td style="text-align:right;">
6.364508
</td>
<td style="text-align:right;">
5.517544
</td>
<td style="text-align:right;">
5.720264
</td>
<td style="text-align:right;">
5.458237
</td>
<td style="text-align:right;">
5.034188
</td>
<td style="text-align:right;">
5.867383
</td>
<td style="text-align:right;">
5.418605
</td>
<td style="text-align:right;">
5.108579
</td>
<td style="text-align:right;">
5.505747
</td>
<td style="text-align:right;">
5.830116
</td>
<td style="text-align:right;">
5.317019
</td>
<td style="text-align:right;">
5.466457
</td>
<td style="text-align:right;">
5.370787
</td>
<td style="text-align:right;">
5.776280
</td>
<td style="text-align:right;">
5.713755
</td>
<td style="text-align:right;">
5.469660
</td>
<td style="text-align:right;">
5.717724
</td>
<td style="text-align:right;">
5.981818
</td>
<td style="text-align:right;">
5.697906
</td>
<td style="text-align:right;">
5.566054
</td>
<td style="text-align:right;">
5.235374
</td>
<td style="text-align:right;">
4.886615
</td>
<td style="text-align:right;">
4.814668
</td>
<td style="text-align:right;">
4.880233
</td>
<td style="text-align:right;">
4.836431
</td>
<td style="text-align:right;">
4.783305
</td>
<td style="text-align:right;">
4.893412
</td>
<td style="text-align:right;">
4.988858
</td>
<td style="text-align:right;">
4.848684
</td>
<td style="text-align:right;">
4.273535
</td>
<td style="text-align:right;">
4.234497
</td>
<td style="text-align:right;">
4.586890
</td>
<td style="text-align:right;">
3.797063
</td>
<td style="text-align:right;">
4.404070
</td>
<td style="text-align:right;">
3.836165
</td>
<td style="text-align:right;">
4.844905
</td>
<td style="text-align:right;">
4.734485
</td>
<td style="text-align:right;">
4.500463
</td>
<td style="text-align:right;">
4.502172
</td>
<td style="text-align:right;">
4.762053
</td>
</tr>
<tr>
<td style="text-align:right;">
6.336842
</td>
<td style="text-align:right;">
5.726054
</td>
<td style="text-align:right;">
5.668407
</td>
<td style="text-align:right;">
5.569579
</td>
<td style="text-align:right;">
5.178284
</td>
<td style="text-align:right;">
5.616307
</td>
<td style="text-align:right;">
5.634868
</td>
<td style="text-align:right;">
5.710968
</td>
<td style="text-align:right;">
5.466031
</td>
<td style="text-align:right;">
4.925319
</td>
<td style="text-align:right;">
5.891344
</td>
<td style="text-align:right;">
5.359712
</td>
<td style="text-align:right;">
5.739508
</td>
<td style="text-align:right;">
5.353218
</td>
<td style="text-align:right;">
5.906937
</td>
<td style="text-align:right;">
5.390173
</td>
<td style="text-align:right;">
5.092166
</td>
<td style="text-align:right;">
5.493927
</td>
<td style="text-align:right;">
6.177054
</td>
<td style="text-align:right;">
5.651599
</td>
<td style="text-align:right;">
5.235872
</td>
<td style="text-align:right;">
5.522613
</td>
<td style="text-align:right;">
5.779343
</td>
<td style="text-align:right;">
5.812823
</td>
<td style="text-align:right;">
5.526852
</td>
<td style="text-align:right;">
5.490647
</td>
<td style="text-align:right;">
4.876712
</td>
<td style="text-align:right;">
4.749831
</td>
<td style="text-align:right;">
5.161597
</td>
<td style="text-align:right;">
4.823015
</td>
<td style="text-align:right;">
4.814433
</td>
<td style="text-align:right;">
4.869048
</td>
<td style="text-align:right;">
4.859482
</td>
<td style="text-align:right;">
4.702290
</td>
<td style="text-align:right;">
4.174721
</td>
<td style="text-align:right;">
4.005499
</td>
<td style="text-align:right;">
4.520000
</td>
<td style="text-align:right;">
4.033181
</td>
<td style="text-align:right;">
4.377852
</td>
<td style="text-align:right;">
3.859554
</td>
<td style="text-align:right;">
4.999081
</td>
<td style="text-align:right;">
4.966232
</td>
<td style="text-align:right;">
4.805742
</td>
<td style="text-align:right;">
4.491489
</td>
<td style="text-align:right;">
4.608948
</td>
</tr>
</tbody>
</table></div>
</div>
<p>This results in an R-list with a slot for every selected indicator, and in every slot there’s a data frame with as many columns as there are NiN species lists and as many rows as there were iterations in the bootstrap.</p>
<p>Next, we need to derive scaling values from these bootstrap-lists (the columns) for every mapping unit in NiN. Here, we define things in the following way:</p>
<ul>
<li>Median = reference values</li>
<li>0.025 and 0.975 quantiles = lower and upper limit values</li>
<li>min and max of the respective indicator’s scale = min/max values</li>
</ul>
<div class="sourceCode" id="cb244"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># every NiN-type is represented by one 'generalisert artsliste'</span></span>
<span><span class="co"># some NiN-types are represented by two such species lists</span></span>
<span><span class="co"># in some cases two NiN-types are represented by the same species list</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">0</span>,<span class="op">]</span></span>
<span></span>
<span><span class="co"># checking the actual NiN-types in the wetland lists</span></span>
<span><span class="va">wetland.NiNtypes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">"Light"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">wetland.NiNtypes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">wetland.NiNtypes</span>,<span class="fl">1</span>,<span class="fl">5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">wetland.NiNtypes</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 4 indicator-value indicators: Tyler's Light, Moisture, Soil_reaction_pH, "Nitrogen"</span></span>
<span><span class="va">indEll.n</span><span class="op">=</span><span class="fl">4</span></span>
<span><span class="co"># creating a table to hold:</span></span>
<span><span class="co"># Tyler: the 0.5 quantile (median), 0.05 quantile and  0.95 quantile for each NiN-type</span></span>
<span><span class="co"># for every nature type (nrows)</span></span>
<span><span class="va">tab</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span>ncol<span class="op">=</span><span class="fl">3</span><span class="op">*</span><span class="va">indEll.n</span>, nrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">wetland.NiNtypes</span><span class="op">)</span><span class="op">)</span> <span class="op">)</span> <span class="co"># 43 basic ecosystem types</span></span>
<span><span class="co"># coercing the values into the table</span></span>
<span><span class="co"># NiN-types where each type is represented by one species list (including when one species list represents two NiN-types)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">"Light"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">27</span>,<span class="fl">28</span>,<span class="fl">41</span><span class="op">:</span><span class="fl">45</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">tab</span><span class="op">[</span><span class="va">i</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">"Light"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="va">x</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,probs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.025</span>,<span class="fl">0.5</span>,<span class="fl">0.975</span><span class="op">)</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span>  <span class="va">tab</span><span class="op">[</span><span class="va">i</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">"Moisture"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="va">x</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,probs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.025</span>,<span class="fl">0.5</span>,<span class="fl">0.975</span><span class="op">)</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span>  <span class="va">tab</span><span class="op">[</span><span class="va">i</span>,<span class="fl">7</span><span class="op">:</span><span class="fl">9</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">"Soil_reaction_pH"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="va">x</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,probs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.025</span>,<span class="fl">0.5</span>,<span class="fl">0.975</span><span class="op">)</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span>  <span class="va">tab</span><span class="op">[</span><span class="va">i</span>,<span class="fl">10</span><span class="op">:</span><span class="fl">12</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">"Nitrogen"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="va">x</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,probs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.025</span>,<span class="fl">0.5</span>,<span class="fl">0.975</span><span class="op">)</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">tab</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span></span>
<span><span class="va">tab</span><span class="op">$</span><span class="va">NiN</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="va">tab</span><span class="op">$</span><span class="va">NiN</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span><span class="va">x</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># NiN-types represented by several species lists</span></span>
<span><span class="va">wetland.NiNtypes2</span> <span class="op">&lt;-</span> <span class="va">wetland.NiNtypes</span><span class="op">[</span><span class="op">-</span><span class="va">x</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">wetland.NiNtypes2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span>pattern<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">wetland.NiNtypes2</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, x<span class="op">=</span><span class="va">wetland.NiNtypes</span><span class="op">)</span> <span class="co"># finds columns in e.g. colnames(wetland.ref.cov[["Continentality"]]) that match the first NiN-type</span></span>
<span></span>
<span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">wetland.NiNtypes2</span><span class="op">)</span><span class="op">)</span> <span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">tab</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">+</span><span class="va">i</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">"Light"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span>pattern<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">wetland.NiNtypes2</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, x<span class="op">=</span><span class="va">wetland.NiNtypes</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>,probs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.025</span>,<span class="fl">0.5</span>,<span class="fl">0.975</span><span class="op">)</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span>  <span class="va">tab</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">+</span><span class="va">i</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">"Moisture"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span>pattern<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">wetland.NiNtypes2</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, x<span class="op">=</span><span class="va">wetland.NiNtypes</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>,probs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.025</span>,<span class="fl">0.5</span>,<span class="fl">0.975</span><span class="op">)</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span>  <span class="va">tab</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">+</span><span class="va">i</span>,<span class="fl">7</span><span class="op">:</span><span class="fl">9</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">"Soil_reaction_pH"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span>pattern<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">wetland.NiNtypes2</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, x<span class="op">=</span><span class="va">wetland.NiNtypes</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>,probs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.025</span>,<span class="fl">0.5</span>,<span class="fl">0.975</span><span class="op">)</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span>  <span class="va">tab</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">+</span><span class="va">i</span>,<span class="fl">10</span><span class="op">:</span><span class="fl">12</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">"Nitrogen"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span>pattern<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">wetland.NiNtypes2</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, x<span class="op">=</span><span class="va">wetland.NiNtypes</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>,probs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.025</span>,<span class="fl">0.5</span>,<span class="fl">0.975</span><span class="op">)</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span>  <span class="va">tab</span><span class="op">$</span><span class="va">NiN</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">+</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">wetland.NiNtypes2</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span></span>
<span>  </span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">tab</span></span>
<span></span>
<span><span class="co"># making it a proper data frame</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">tab</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">]</span>,digits<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Light_q2.5"</span>,<span class="st">"Light_q50"</span>,<span class="st">"Light_q97.5"</span>,</span>
<span>                   <span class="st">"Moist_q2.5"</span>,<span class="st">"Moist_q50"</span>,<span class="st">"Moist_q97.5"</span>,</span>
<span>                   <span class="st">"pH_q2.5"</span>,<span class="st">"pH_q50"</span>,<span class="st">"pH_q97.5"</span>,</span>
<span>                   <span class="st">"Nitrogen_q2.5"</span>,<span class="st">"Nitrogen_q50"</span>,<span class="st">"Nitrogen_q97.5"</span>,</span>
<span>                   <span class="st">"NiN"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span></span>
<span><span class="va">tab</span><span class="op">$</span><span class="va">NiN</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"C"</span>, <span class="st">"C-"</span>, <span class="va">tab</span><span class="op">$</span><span class="va">NiN</span><span class="op">)</span> <span class="co"># add extra hyphon after C for NiN-types</span></span>
<span><span class="va">tab</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="co"># restructuring into separate indicators for lower (q2.5) and higher (q97.5) than reference value (=median, q50)</span></span>
<span><span class="va">y.Light</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">numeric</a></span><span class="op">(</span>length<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">y.Light</span><span class="op">[</span><span class="op">(</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">tab</span><span class="op">$</span><span class="va">Light_q2.5</span> </span>
<span><span class="va">y.Light</span><span class="op">[</span><span class="op">(</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">tab</span><span class="op">$</span><span class="va">Light_q97.5</span> </span>
<span></span>
<span><span class="va">y.Moist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">numeric</a></span><span class="op">(</span>length<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">y.Moist</span><span class="op">[</span><span class="op">(</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">tab</span><span class="op">$</span><span class="va">Moist_q2.5</span> </span>
<span><span class="va">y.Moist</span><span class="op">[</span><span class="op">(</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">tab</span><span class="op">$</span><span class="va">Moist_q97.5</span> </span>
<span></span>
<span><span class="va">y.pH</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">numeric</a></span><span class="op">(</span>length<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">y.pH</span><span class="op">[</span><span class="op">(</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">tab</span><span class="op">$</span><span class="va">pH_q2.5</span> </span>
<span><span class="va">y.pH</span><span class="op">[</span><span class="op">(</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">tab</span><span class="op">$</span><span class="va">pH_q97.5</span> </span>
<span></span>
<span><span class="va">y.Nitrogen</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">numeric</a></span><span class="op">(</span>length<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">y.Nitrogen</span><span class="op">[</span><span class="op">(</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">tab</span><span class="op">$</span><span class="va">Nitrogen_q2.5</span> </span>
<span><span class="va">y.Nitrogen</span><span class="op">[</span><span class="op">(</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">tab</span><span class="op">$</span><span class="va">Nitrogen_q97.5</span> </span>
<span></span>
<span><span class="co"># creating final objects holding the reference and limit values for all indicators</span></span>
<span></span>
<span><span class="co"># ref object for indicators</span></span>
<span><span class="va">wetland.ref.cov.val</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>N1<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">'wetland'</span>,<span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span><span class="op">*</span><span class="va">indEll.n</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                              hoved<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">'NA'</span>,<span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span><span class="op">*</span><span class="va">indEll.n</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                              grunn<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="va">tab</span><span class="op">$</span><span class="va">NiN</span>,each<span class="op">=</span><span class="fl">2</span><span class="op">)</span>,<span class="va">indEll.n</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                              county<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">'all'</span>,<span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span><span class="op">*</span><span class="va">indEll.n</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                              region<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">'all'</span>,<span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span><span class="op">*</span><span class="va">indEll.n</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                              Ind<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Light1'</span>,<span class="st">'Light2'</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                                    <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Moist1'</span>,<span class="st">'Moist2'</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                                    <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'pH1'</span>,<span class="st">'pH2'</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                                    <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Nitrogen1'</span>,<span class="st">'Nitrogen2'</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">)</span></span>
<span>                              <span class="op">)</span>,</span>
<span>                              Rv<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="va">tab</span><span class="op">$</span><span class="va">Light_q50</span>,each<span class="op">=</span><span class="fl">2</span><span class="op">)</span>,</span>
<span>                                   <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="va">tab</span><span class="op">$</span><span class="va">Moist_q50</span>,each<span class="op">=</span><span class="fl">2</span><span class="op">)</span>,</span>
<span>                                   <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="va">tab</span><span class="op">$</span><span class="va">pH_q50</span>,each<span class="op">=</span><span class="fl">2</span><span class="op">)</span>,</span>
<span>                                   <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="va">tab</span><span class="op">$</span><span class="va">Nitrogen_q50</span>,each<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span>                              <span class="op">)</span>,</span>
<span>                              Gv<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">y.Light</span>,<span class="va">y.Moist</span>,<span class="va">y.pH</span>,<span class="va">y.Nitrogen</span><span class="op">)</span>,</span>
<span>                              maxmin<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">7</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">)</span>, <span class="co"># 7 levels of light</span></span>
<span>                                       <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">12</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">)</span>, <span class="co"># 12 levels of moisture</span></span>
<span>                                       <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">8</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">)</span>, <span class="co"># 8 levels of soil reaction pH</span></span>
<span>                                       <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">9</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span><span class="op">)</span>  <span class="co"># 9 levels of nitrogen</span></span>
<span>                              <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">wetland.ref.cov.val</span></span>
<span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">)</span></span>
<span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">wetland.ref.cov.val</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb245"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wetland.ref.cov.val</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">kable</span><span class="op">(</span><span class="st">"html"</span>, caption <span class="op">=</span> <span class="st">"Reference values (Rv and threshold values (Gv) for each indicator and nature type combination"</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">kable_styling</span><span class="op">(</span><span class="st">"striped"</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">scroll_box</span><span class="op">(</span>width <span class="op">=</span> <span class="st">"100%"</span>, height <span class="op">=</span> <span class="st">"300px"</span><span class="op">)</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<div class="inline-table"><table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-14">Table 6.4: </span>Reference values (Rv and threshold values (Gv) for each indicator and nature type combination
</caption>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
N1
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
hoved
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
grunn
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
county
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
region
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Ind
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Rv
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Gv
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
maxmin
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V3-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
4.900265
</td>
<td style="text-align:right;">
4.736150
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V3-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
4.900265
</td>
<td style="text-align:right;">
5.120000
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-5
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
4.760764
</td>
<td style="text-align:right;">
4.597880
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-5
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
4.760764
</td>
<td style="text-align:right;">
4.902329
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V4-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
4.901870
</td>
<td style="text-align:right;">
4.610423
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V4-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
4.901870
</td>
<td style="text-align:right;">
5.232242
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V4-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
4.996095
</td>
<td style="text-align:right;">
4.677531
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V4-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
4.996095
</td>
<td style="text-align:right;">
5.309336
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
4.709785
</td>
<td style="text-align:right;">
4.464570
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
4.709785
</td>
<td style="text-align:right;">
4.972819
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
4.586035
</td>
<td style="text-align:right;">
4.425726
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
4.586035
</td>
<td style="text-align:right;">
4.779277
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
4.635103
</td>
<td style="text-align:right;">
4.490343
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
4.635103
</td>
<td style="text-align:right;">
4.790331
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V3-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
5.594595
</td>
<td style="text-align:right;">
4.892675
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V3-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
5.594595
</td>
<td style="text-align:right;">
6.567474
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
5.575057
</td>
<td style="text-align:right;">
4.958721
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
5.575057
</td>
<td style="text-align:right;">
6.315900
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
5.522530
</td>
<td style="text-align:right;">
5.139566
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
5.522530
</td>
<td style="text-align:right;">
6.264477
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
5.450281
</td>
<td style="text-align:right;">
5.089262
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
5.450281
</td>
<td style="text-align:right;">
6.152334
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-4
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
5.647878
</td>
<td style="text-align:right;">
5.126794
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-4
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
5.647878
</td>
<td style="text-align:right;">
6.162793
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-6
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
4.816224
</td>
<td style="text-align:right;">
4.525242
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-6
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
4.816224
</td>
<td style="text-align:right;">
5.124243
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-7
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
4.804564
</td>
<td style="text-align:right;">
4.504224
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-7
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
4.804564
</td>
<td style="text-align:right;">
5.059866
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-8
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
4.915094
</td>
<td style="text-align:right;">
4.558245
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-8
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
4.915094
</td>
<td style="text-align:right;">
5.303735
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
4.173047
</td>
<td style="text-align:right;">
3.974819
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
4.173047
</td>
<td style="text-align:right;">
4.598703
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
4.256174
</td>
<td style="text-align:right;">
3.685444
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
4.256174
</td>
<td style="text-align:right;">
4.700616
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light1
</td>
<td style="text-align:right;">
4.125515
</td>
<td style="text-align:right;">
3.631843
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Light2
</td>
<td style="text-align:right;">
4.125515
</td>
<td style="text-align:right;">
4.457249
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V3-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
5.736585
</td>
<td style="text-align:right;">
5.201878
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V3-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
5.736585
</td>
<td style="text-align:right;">
6.151852
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-5
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
5.821132
</td>
<td style="text-align:right;">
5.391474
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-5
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
5.821132
</td>
<td style="text-align:right;">
6.265910
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V4-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
7.088321
</td>
<td style="text-align:right;">
6.708205
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V4-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
7.088321
</td>
<td style="text-align:right;">
7.496453
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V4-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
6.935913
</td>
<td style="text-align:right;">
6.599488
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V4-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
6.935913
</td>
<td style="text-align:right;">
7.284055
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
7.217742
</td>
<td style="text-align:right;">
6.803539
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
7.217742
</td>
<td style="text-align:right;">
7.663696
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
7.251258
</td>
<td style="text-align:right;">
6.925680
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
7.251258
</td>
<td style="text-align:right;">
7.577229
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
7.382590
</td>
<td style="text-align:right;">
7.024416
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
7.382590
</td>
<td style="text-align:right;">
7.755543
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V3-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
6.907166
</td>
<td style="text-align:right;">
5.528727
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V3-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
6.907166
</td>
<td style="text-align:right;">
8.486166
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
7.280132
</td>
<td style="text-align:right;">
5.735756
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
7.280132
</td>
<td style="text-align:right;">
8.718040
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
7.915167
</td>
<td style="text-align:right;">
6.426842
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
7.915167
</td>
<td style="text-align:right;">
8.924438
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
8.216718
</td>
<td style="text-align:right;">
7.113426
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
8.216718
</td>
<td style="text-align:right;">
9.016390
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-4
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
8.040734
</td>
<td style="text-align:right;">
7.065645
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-4
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
8.040734
</td>
<td style="text-align:right;">
8.935004
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-6
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
7.233970
</td>
<td style="text-align:right;">
6.016056
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-6
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
7.233970
</td>
<td style="text-align:right;">
8.688171
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-7
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
7.271581
</td>
<td style="text-align:right;">
6.326991
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-7
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
7.271581
</td>
<td style="text-align:right;">
8.463120
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-8
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
7.091729
</td>
<td style="text-align:right;">
6.258498
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-8
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
7.091729
</td>
<td style="text-align:right;">
7.784715
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
5.859056
</td>
<td style="text-align:right;">
5.112448
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
5.859056
</td>
<td style="text-align:right;">
8.126484
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
6.488092
</td>
<td style="text-align:right;">
5.513549
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
6.488092
</td>
<td style="text-align:right;">
7.920221
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist1
</td>
<td style="text-align:right;">
6.772113
</td>
<td style="text-align:right;">
6.004292
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Moist2
</td>
<td style="text-align:right;">
6.772113
</td>
<td style="text-align:right;">
7.759210
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V3-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
2.243827
</td>
<td style="text-align:right;">
1.831766
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V3-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
2.243827
</td>
<td style="text-align:right;">
2.533659
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-5
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
2.516520
</td>
<td style="text-align:right;">
2.155809
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-5
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
2.516520
</td>
<td style="text-align:right;">
2.836431
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V4-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
3.787654
</td>
<td style="text-align:right;">
3.437916
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V4-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
3.787654
</td>
<td style="text-align:right;">
4.212773
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V4-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
4.388411
</td>
<td style="text-align:right;">
3.953983
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V4-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
4.388411
</td>
<td style="text-align:right;">
4.813829
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
4.163711
</td>
<td style="text-align:right;">
3.889345
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
4.163711
</td>
<td style="text-align:right;">
4.486426
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
4.575937
</td>
<td style="text-align:right;">
4.381745
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
4.575937
</td>
<td style="text-align:right;">
4.795269
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
4.876376
</td>
<td style="text-align:right;">
4.682191
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
4.876376
</td>
<td style="text-align:right;">
5.070794
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V3-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
2.013841
</td>
<td style="text-align:right;">
1.494071
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V3-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
2.013841
</td>
<td style="text-align:right;">
2.868778
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
2.099490
</td>
<td style="text-align:right;">
1.697084
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
2.099490
</td>
<td style="text-align:right;">
3.207349
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
2.837740
</td>
<td style="text-align:right;">
2.076494
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
2.837740
</td>
<td style="text-align:right;">
3.691609
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
3.604344
</td>
<td style="text-align:right;">
2.768193
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
3.604344
</td>
<td style="text-align:right;">
4.317388
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-4
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
4.508963
</td>
<td style="text-align:right;">
3.410753
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-4
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
4.508963
</td>
<td style="text-align:right;">
5.601644
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-6
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
3.091580
</td>
<td style="text-align:right;">
2.655389
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-6
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
3.091580
</td>
<td style="text-align:right;">
3.699116
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-7
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
3.547120
</td>
<td style="text-align:right;">
3.246374
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-7
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
3.547120
</td>
<td style="text-align:right;">
3.916825
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-8
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
4.212409
</td>
<td style="text-align:right;">
3.808178
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-8
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
4.212409
</td>
<td style="text-align:right;">
4.677554
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
2.942611
</td>
<td style="text-align:right;">
2.628539
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
2.942611
</td>
<td style="text-align:right;">
3.685835
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
3.618644
</td>
<td style="text-align:right;">
3.196779
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
3.618644
</td>
<td style="text-align:right;">
4.074977
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH1
</td>
<td style="text-align:right;">
4.097649
</td>
<td style="text-align:right;">
3.783875
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
pH2
</td>
<td style="text-align:right;">
4.097649
</td>
<td style="text-align:right;">
4.434308
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V3-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
1.952862
</td>
<td style="text-align:right;">
1.811728
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V3-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
1.952862
</td>
<td style="text-align:right;">
2.142723
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-5
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
2.167561
</td>
<td style="text-align:right;">
1.853110
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-5
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
2.167561
</td>
<td style="text-align:right;">
2.438285
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V4-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
3.323729
</td>
<td style="text-align:right;">
3.008427
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V4-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
3.323729
</td>
<td style="text-align:right;">
3.678983
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V4-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
3.807000
</td>
<td style="text-align:right;">
3.262604
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V4-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
3.807000
</td>
<td style="text-align:right;">
4.234730
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
4.462636
</td>
<td style="text-align:right;">
4.148721
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
4.462636
</td>
<td style="text-align:right;">
4.812027
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
5.459677
</td>
<td style="text-align:right;">
5.142488
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
5.459677
</td>
<td style="text-align:right;">
5.816705
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
5.900868
</td>
<td style="text-align:right;">
5.629957
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V8-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
5.900868
</td>
<td style="text-align:right;">
6.152190
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V3-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
1.494737
</td>
<td style="text-align:right;">
1.072464
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V3-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
1.494737
</td>
<td style="text-align:right;">
1.996790
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
1.667114
</td>
<td style="text-align:right;">
1.389752
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
1.667114
</td>
<td style="text-align:right;">
2.134328
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
1.974614
</td>
<td style="text-align:right;">
1.567785
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
1.974614
</td>
<td style="text-align:right;">
2.519928
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
2.396491
</td>
<td style="text-align:right;">
1.746633
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
2.396491
</td>
<td style="text-align:right;">
3.048414
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-4
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
2.685903
</td>
<td style="text-align:right;">
2.053753
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-4
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
2.685903
</td>
<td style="text-align:right;">
3.184157
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-6
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
2.761761
</td>
<td style="text-align:right;">
2.303992
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-6
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
2.761761
</td>
<td style="text-align:right;">
3.191950
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-7
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
3.186189
</td>
<td style="text-align:right;">
2.846378
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-7
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
3.186189
</td>
<td style="text-align:right;">
3.487493
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-8
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
3.517028
</td>
<td style="text-align:right;">
3.058802
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-8
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
3.517028
</td>
<td style="text-align:right;">
4.025923
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
3.211879
</td>
<td style="text-align:right;">
2.899263
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-1
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
3.211879
</td>
<td style="text-align:right;">
3.767787
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
4.032121
</td>
<td style="text-align:right;">
3.605832
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-2
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
4.032121
</td>
<td style="text-align:right;">
4.559971
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen1
</td>
<td style="text-align:right;">
4.900636
</td>
<td style="text-align:right;">
4.489434
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
wetland
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V2-C-3
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
all
</td>
<td style="text-align:left;">
Nitrogen2
</td>
<td style="text-align:right;">
4.900636
</td>
<td style="text-align:right;">
5.338214
</td>
<td style="text-align:right;">
9
</td>
</tr>
</tbody>
</table></div>
</div>
<p>Once test data (ANO) and the scaling values from the reference data (NiN) are in place, we can calculate CWMs of the selected indicators for the ANO community data and scale them against the scaling values from the reference distribution. Note that we scale each ANO plot’s CWM against either the lower threshold value and the min value OR the upper threshold value and the max value based on whether the CWM is smaller or higher than the reference value. Since the scaled values for both sides range between 0 and 1, we generate separate lower and upper indicators for each plant functional indicator type. An ANO plot can only have a scaled value in either the lower or the upper indicator (the other one will be ‘NA’), except for the unlikely event that the CWM exactly matches the reference value, in which case both lower and upper indicator will receive a scaled indicator value of 1.</p>
<p>Here is the scaling function:</p>
<div class="sourceCode" id="cb246"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#### scaled values ####</span></span>
<span><span class="va">r.s</span> <span class="op">&lt;-</span> <span class="fl">1</span>    <span class="co"># reference value</span></span>
<span><span class="va">l.s</span> <span class="op">&lt;-</span> <span class="fl">0.6</span>  <span class="co"># limit value</span></span>
<span><span class="va">a.s</span> <span class="op">&lt;-</span> <span class="fl">0</span>    <span class="co"># abscence of indicator, or indicator at maximum</span></span>
<span></span>
<span><span class="co">#### function for calculating scaled values for measured value ####</span></span>
<span></span>
<span><span class="co">## scaling function including truncation</span></span>
<span><span class="va">scal</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># place to hold the result</span></span>
<span>   <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">numeric</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">maxmin</span> <span class="op">&lt;</span> <span class="va">ref</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># values &gt;= the reference value equal 1</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">val</span> <span class="op">&gt;=</span> <span class="va">ref</span><span class="op">)</span> <span class="op">{</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">}</span></span>
<span>    <span class="co"># values &lt; the reference value and &gt;= the limit value can be deducted from the linear relationship between these two</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">val</span> <span class="op">&lt;</span> <span class="va">ref</span> <span class="op">&amp;</span> <span class="va">val</span> <span class="op">&gt;=</span> <span class="va">lim</span><span class="op">)</span> <span class="op">{</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">l.s</span> <span class="op">+</span> <span class="op">(</span><span class="va">val</span><span class="op">-</span><span class="va">lim</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span> <span class="op">(</span><span class="va">r.s</span><span class="op">-</span><span class="va">l.s</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="va">ref</span><span class="op">-</span><span class="va">lim</span><span class="op">)</span> <span class="op">)</span> <span class="op">)</span><span class="op">}</span></span>
<span>    <span class="co"># values &lt; the limit value and &gt; maxmin can be deducted from the linear relationship between these two</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">val</span> <span class="op">&lt;</span> <span class="va">lim</span> <span class="op">&amp;</span> <span class="va">val</span> <span class="op">&gt;</span> <span class="va">maxmin</span><span class="op">)</span> <span class="op">{</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">a.s</span> <span class="op">+</span> <span class="op">(</span><span class="va">val</span><span class="op">-</span><span class="va">maxmin</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span> <span class="op">(</span><span class="va">l.s</span><span class="op">-</span><span class="va">a.s</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="va">lim</span><span class="op">-</span><span class="va">maxmin</span><span class="op">)</span> <span class="op">)</span> <span class="op">)</span><span class="op">}</span></span>
<span>    <span class="co"># value equals or lower than maxmin</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">val</span> <span class="op">&lt;=</span> <span class="va">maxmin</span><span class="op">)</span> <span class="op">{</span><span class="va">x</span> <span class="op">&lt;-</span><span class="fl">0</span><span class="op">}</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="co"># values &lt;= the reference value equal 1</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">val</span> <span class="op">&lt;=</span> <span class="va">ref</span><span class="op">)</span> <span class="op">{</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">}</span></span>
<span>    <span class="co"># values &gt; the reference value and &lt;= the limit value can be deducted from the linear relationship between these two</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">val</span> <span class="op">&gt;</span> <span class="va">ref</span> <span class="op">&amp;</span> <span class="va">val</span> <span class="op">&lt;=</span> <span class="va">lim</span><span class="op">)</span> <span class="op">{</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="op">(</span> <span class="va">r.s</span> <span class="op">-</span> <span class="op">(</span> <span class="op">(</span><span class="va">r.s</span> <span class="op">-</span> <span class="va">l.s</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="va">val</span> <span class="op">-</span> <span class="va">ref</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="va">lim</span> <span class="op">-</span> <span class="va">ref</span><span class="op">)</span> <span class="op">)</span> <span class="op">)</span><span class="op">}</span></span>
<span>    <span class="co"># values &gt; the limit value and &lt; maxmin can be deducted from the linear relationship between these two</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">val</span> <span class="op">&gt;</span> <span class="va">lim</span><span class="op">)</span> <span class="op">{</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="op">(</span> <span class="va">l.s</span> <span class="op">-</span> <span class="op">(</span><span class="va">l.s</span> <span class="op">*</span> <span class="op">(</span><span class="va">val</span> <span class="op">-</span> <span class="va">lim</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="va">maxmin</span> <span class="op">-</span> <span class="va">lim</span><span class="op">)</span> <span class="op">)</span> <span class="op">)</span><span class="op">}</span></span>
<span>    <span class="co"># value equals or larger than maxmin</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">val</span> <span class="op">&gt;=</span> <span class="va">maxmin</span><span class="op">)</span> <span class="op">{</span><span class="va">x</span> <span class="op">&lt;-</span><span class="fl">0</span><span class="op">}</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span></code></pre></div>
<p>We then can prepare a list of data frames to hold the results and perform the scaling according to the principles described in NINA report 1967 (Töpper and Jakobsson 2021).</p>
<div class="sourceCode" id="cb247"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">hovedtype_rute</span><span class="op">)</span> <span class="co"># NiN types in data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span>,<span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="co"># NiN types in reference</span></span>
<span><span class="co">#### creating dataframe to hold the results for wetlands ####</span></span>
<span><span class="co"># all ANO points</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">)</span></span>
<span><span class="co"># all wetland ANO points</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">[</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">hovedtype_rute</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"V1"</span>,<span class="st">"V2"</span>,<span class="st">"V3"</span>,<span class="st">"V4"</span>,<span class="st">"V5"</span>,<span class="st">"V6"</span>,<span class="st">"V7"</span>,<span class="st">"V8"</span>,<span class="st">"V9"</span>,<span class="st">"V10"</span>,<span class="st">"V11"</span>,<span class="st">"V12"</span>,<span class="st">"V13"</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span></span>
<span><span class="co"># all wetland ANO points with a NiN-type represented in the reference</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">[</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">hovedtype_rute</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span>,<span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span></span>
<span><span class="co"># ok, we'll be losing 70 (our of 1349) that are not covered by the reference</span></span>
<span><span class="va">ANO.wetland</span> <span class="op">&lt;-</span> <span class="va">ANO.geo</span><span class="op">[</span><span class="va">ANO.geo</span><span class="op">$</span><span class="va">hovedtype_rute</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"V1"</span>,<span class="st">"V2"</span>,<span class="st">"V3"</span>,<span class="st">"V4"</span>,<span class="st">"V5"</span>,<span class="st">"V6"</span>,<span class="st">"V7"</span>,<span class="st">"V8"</span>,<span class="st">"V9"</span>,<span class="st">"V10"</span>,<span class="st">"V11"</span>,<span class="st">"V12"</span>,<span class="st">"V13"</span><span class="op">)</span>,<span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">)</span></span>
<span><span class="co"># update row-numbers</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/row.names.html">row.names</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">ano_flate_id</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">ano_punkt_id</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">ano_punkt_id</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># four points that are double</span></span>
<span><span class="va">ANO.wetland</span><span class="op">[</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">ano_punkt_id</span><span class="op">==</span><span class="st">"ANO0159_55"</span>,<span class="op">]</span> <span class="co"># double registration, said so in comment. -&gt; choose row 207 over 206</span></span>
<span><span class="va">ANO.wetland</span> <span class="op">&lt;-</span> <span class="va">ANO.wetland</span><span class="op">[</span><span class="op">-</span><span class="fl">206</span>,<span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/row.names.html">row.names</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">)</span> <span class="co"># update row-numbers</span></span>
<span><span class="va">ANO.wetland</span><span class="op">[</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">ano_punkt_id</span><span class="op">==</span><span class="st">"ANO0283_22"</span>,<span class="op">]</span> <span class="co"># 2019 &amp; 2021. Lot of NA's in 2019 -&gt; omit 2019</span></span>
<span><span class="va">ANO.wetland</span> <span class="op">&lt;-</span> <span class="va">ANO.wetland</span><span class="op">[</span><span class="op">-</span><span class="fl">156</span>,<span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/row.names.html">row.names</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">)</span> <span class="co"># update row-numbers</span></span>
<span><span class="va">ANO.wetland</span><span class="op">[</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">ano_punkt_id</span><span class="op">==</span><span class="st">"ANO0363_24"</span>,<span class="op">]</span></span>
<span><span class="va">ANO.wetland</span><span class="op">[</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">ano_flate_id</span><span class="op">==</span><span class="st">"ANO0363"</span>,<span class="st">"ano_punkt_id"</span><span class="op">]</span> <span class="co"># point-ID 15 is missing, but 24 is double. Likely that registrations are valid, but wrong point-ID.  -&gt; keep both, call the second obs the one that's missing</span></span>
<span><span class="va">ANO.wetland</span><span class="op">[</span><span class="fl">311</span>,<span class="st">"ano_punkt_id"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"ANO0363_15"</span></span>
<span><span class="va">ANO.wetland</span><span class="op">[</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">ano_punkt_id</span><span class="op">==</span><span class="st">"ANO1550_64"</span>,<span class="op">]</span> <span class="co"># point-ID 66 is missing, but 64 is double. Likely that registrations are valid, but wrong point-ID.  -&gt; keep both</span></span>
<span><span class="va">ANO.wetland</span><span class="op">[</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">ano_flate_id</span><span class="op">==</span><span class="st">"ANO1550"</span>,<span class="st">"ano_punkt_id"</span><span class="op">]</span> <span class="co"># point-ID 66 is missing, but 64 is double. Likely that registrations are valid, but wrong point-ID.  -&gt; keep both</span></span>
<span><span class="va">ANO.wetland</span><span class="op">[</span><span class="fl">1273</span>,<span class="st">"ano_punkt_id"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"ANO1550_66"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">hovedoekosystem_punkt</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">hovedtype_rute</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">)</span></span>
<span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">hovedtype_rute</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">hovedtype_rute</span><span class="op">)</span></span>
<span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">Hovedtype_rute</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">Kartleggingsenhet_rute</span><span class="op">)</span></span>
<span></span>
<span><span class="va">results.wetland</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">)</span></span>
<span><span class="co"># choose columns for site description</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">)</span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">ANO.wetland</span></span>
<span><span class="co"># drop geometry</span></span>
<span><span class="fu">st_geometry</span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># add columns for indicators</span></span>
<span><span class="va">nvar.site</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">ind</span><span class="op">)</span> <span class="op">)</span> <span class="op">{</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="va">i</span><span class="op">+</span><span class="va">nvar.site</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span><span class="op">}</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">[</span><span class="op">(</span><span class="va">nvar.site</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">:</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">ind</span><span class="op">)</span><span class="op">+</span><span class="va">nvar.site</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">ind</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="op">(</span><span class="va">nvar.site</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">:</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">ind</span><span class="op">)</span><span class="op">+</span><span class="va">nvar.site</span><span class="op">)</span> <span class="op">)</span> <span class="op">{</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span><span class="op">)</span><span class="op">}</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#results.wetland[['original']]$Region &lt;- as.factor(results.wetland[['original']]$Region)</span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">GlobalID</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">GlobalID</span><span class="op">)</span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">ano_flate_id</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">ano_flate_id</span><span class="op">)</span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">ano_punkt_id</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">ano_punkt_id</span><span class="op">)</span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">hovedoekosystem_punkt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">hovedoekosystem_punkt</span><span class="op">)</span></span>
<span><span class="co">#results.wetland[['original']]$Hovedoekosystem_rute  &lt;- as.factor(results.wetland[['original']]$Hovedoekosystem_rute )</span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">)</span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">hovedtype_rute</span>    <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">hovedtype_rute</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># roll out</span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'scaled'</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'non-truncated'</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<div class="sourceCode" id="cb248"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#### calculating scaled and non-truncated values for the indicators based on the dataset ####</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">)</span> <span class="op">)</span> <span class="op">{</span>  <span class="co">#</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/conditions.html">tryCatch</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">ano_flate_id</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">ano_punkt_id</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#    ANO.wetland$Hovedoekosystem_sirkel[i]</span></span>
<span><span class="co">#    ANO.wetland$Hovedoekosystem_rute[i]</span></span>
<span></span>
<span>    <span class="co"># if the ANO.hovedtype exists in the reference</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">hovedtype_rute</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span>,<span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">)</span> <span class="op">{</span></span>
<span>      </span>
<span>      <span class="co"># if there is any species present in current ANO point  </span></span>
<span>      <span class="kw">if</span> <span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">ANO.sp.ind</span><span class="op">[</span><span class="va">ANO.sp.ind</span><span class="op">$</span><span class="va">ParentGlobalID</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">GlobalID</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span>,<span class="st">'Species'</span><span class="op">]</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">)</span> <span class="op">{</span></span>
<span>        </span>
<span></span>
<span>          </span>
<span>          <span class="co"># Light</span></span>
<span>          <span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">ANO.sp.ind</span><span class="op">[</span><span class="va">ANO.sp.ind</span><span class="op">$</span><span class="va">ParentGlobalID</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">GlobalID</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'art_dekning'</span>,<span class="st">'Light'</span><span class="op">)</span><span class="op">]</span></span>
<span>          <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'richness'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span>
<span>          <span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">Light</span><span class="op">)</span>,<span class="op">]</span></span>
<span>          </span>
<span>          <span class="kw">if</span> <span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span><span class="op">&gt;</span><span class="fl">0</span> <span class="op">)</span> <span class="op">{</span></span>
<span>            </span>
<span>            <span class="va">val</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">dat</span><span class="op">[</span>,<span class="st">'art_dekning'</span><span class="op">]</span> <span class="op">*</span> <span class="va">dat</span><span class="op">[</span>,<span class="st">'Light'</span><span class="op">]</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">dat</span><span class="op">[</span>,<span class="st">'art_dekning'</span><span class="op">]</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span>            <span class="co"># lower part of distribution</span></span>
<span>            <span class="va">ref</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Light1'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'Rv'</span><span class="op">]</span></span>
<span>            <span class="va">lim</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Light1'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'Gv'</span><span class="op">]</span></span>
<span>            <span class="va">maxmin</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Light1'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'maxmin'</span><span class="op">]</span></span>
<span>            <span class="co"># coercing x into results.wetland dataframe</span></span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'scaled'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Light1'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">scal</span><span class="op">(</span><span class="op">)</span> </span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'non-truncated'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Light1'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">scal.2</span><span class="op">(</span><span class="op">)</span> </span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Light1'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">val</span> </span>
<span>            </span>
<span>            <span class="co"># upper part of distribution</span></span>
<span>            <span class="va">ref</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Light2'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'Rv'</span><span class="op">]</span></span>
<span>            <span class="va">lim</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Light2'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'Gv'</span><span class="op">]</span></span>
<span>            <span class="va">maxmin</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Light2'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'maxmin'</span><span class="op">]</span></span>
<span>            <span class="co"># coercing x into results.wetland dataframe</span></span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'scaled'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Light2'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">scal</span><span class="op">(</span><span class="op">)</span> </span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'non-truncated'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Light2'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">scal.2</span><span class="op">(</span><span class="op">)</span> </span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Light2'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">val</span></span>
<span>          <span class="op">}</span></span>
<span>          </span>
<span>          </span>
<span>          <span class="co"># Moisture</span></span>
<span>          <span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">ANO.sp.ind</span><span class="op">[</span><span class="va">ANO.sp.ind</span><span class="op">$</span><span class="va">ParentGlobalID</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">GlobalID</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'art_dekning'</span>,<span class="st">'Moisture'</span><span class="op">)</span><span class="op">]</span></span>
<span>          <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'richness'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span>
<span>          <span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">Moisture</span><span class="op">)</span>,<span class="op">]</span></span>
<span>          </span>
<span>          <span class="kw">if</span> <span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span><span class="op">&gt;</span><span class="fl">0</span> <span class="op">)</span> <span class="op">{</span></span>
<span>            </span>
<span>            <span class="va">val</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">dat</span><span class="op">[</span>,<span class="st">'art_dekning'</span><span class="op">]</span> <span class="op">*</span> <span class="va">dat</span><span class="op">[</span>,<span class="st">'Moisture'</span><span class="op">]</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">dat</span><span class="op">[</span>,<span class="st">'art_dekning'</span><span class="op">]</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span>            <span class="co"># lower part of distribution</span></span>
<span>            <span class="va">ref</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Moist1'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'Rv'</span><span class="op">]</span></span>
<span>            <span class="va">lim</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Moist1'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'Gv'</span><span class="op">]</span></span>
<span>            <span class="va">maxmin</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Moist1'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'maxmin'</span><span class="op">]</span></span>
<span>            <span class="co"># coercing x into results.wetland dataframe</span></span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'scaled'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Moist1'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">scal</span><span class="op">(</span><span class="op">)</span> </span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'non-truncated'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Moist1'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">scal.2</span><span class="op">(</span><span class="op">)</span> </span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Moist1'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">val</span> </span>
<span>            </span>
<span>            <span class="co"># upper part of distribution</span></span>
<span>            <span class="va">ref</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Moist2'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'Rv'</span><span class="op">]</span></span>
<span>            <span class="va">lim</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Moist2'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'Gv'</span><span class="op">]</span></span>
<span>            <span class="va">maxmin</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Moist2'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'maxmin'</span><span class="op">]</span></span>
<span>            <span class="co"># coercing x into results.wetland dataframe</span></span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'scaled'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Moist2'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">scal</span><span class="op">(</span><span class="op">)</span> </span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'non-truncated'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Moist2'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">scal.2</span><span class="op">(</span><span class="op">)</span> </span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Moist2'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">val</span></span>
<span>          <span class="op">}</span></span>
<span>          </span>
<span>          </span>
<span>          <span class="co"># Soil_reaction_pH</span></span>
<span>          <span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">ANO.sp.ind</span><span class="op">[</span><span class="va">ANO.sp.ind</span><span class="op">$</span><span class="va">ParentGlobalID</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">GlobalID</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'art_dekning'</span>,<span class="st">'Soil_reaction_pH'</span><span class="op">)</span><span class="op">]</span></span>
<span>          <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'richness'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span>
<span>          <span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">Soil_reaction_pH</span><span class="op">)</span>,<span class="op">]</span></span>
<span>          </span>
<span>          <span class="kw">if</span> <span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span><span class="op">&gt;</span><span class="fl">0</span> <span class="op">)</span> <span class="op">{</span></span>
<span>            </span>
<span>            <span class="va">val</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">dat</span><span class="op">[</span>,<span class="st">'art_dekning'</span><span class="op">]</span> <span class="op">*</span> <span class="va">dat</span><span class="op">[</span>,<span class="st">'Soil_reaction_pH'</span><span class="op">]</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">dat</span><span class="op">[</span>,<span class="st">'art_dekning'</span><span class="op">]</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span>            <span class="co"># lower part of distribution</span></span>
<span>            <span class="va">ref</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'pH1'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'Rv'</span><span class="op">]</span></span>
<span>            <span class="va">lim</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'pH1'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'Gv'</span><span class="op">]</span></span>
<span>            <span class="va">maxmin</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'pH1'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'maxmin'</span><span class="op">]</span></span>
<span>            <span class="co"># coercing x into results.wetland dataframe</span></span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'scaled'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'pH1'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">scal</span><span class="op">(</span><span class="op">)</span> </span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'non-truncated'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'pH1'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">scal.2</span><span class="op">(</span><span class="op">)</span> </span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'pH1'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">val</span> </span>
<span>            </span>
<span>            <span class="co"># upper part of distribution</span></span>
<span>            <span class="va">ref</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'pH2'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'Rv'</span><span class="op">]</span></span>
<span>            <span class="va">lim</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'pH2'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'Gv'</span><span class="op">]</span></span>
<span>            <span class="va">maxmin</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'pH2'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'maxmin'</span><span class="op">]</span></span>
<span>            <span class="co"># coercing x into results.wetland dataframe</span></span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'scaled'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'pH2'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">scal</span><span class="op">(</span><span class="op">)</span> </span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'non-truncated'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'pH2'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">scal.2</span><span class="op">(</span><span class="op">)</span> </span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'pH2'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">val</span></span>
<span>          <span class="op">}</span></span>
<span>          </span>
<span>          </span>
<span>          <span class="co"># Nitrogen</span></span>
<span>          <span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">ANO.sp.ind</span><span class="op">[</span><span class="va">ANO.sp.ind</span><span class="op">$</span><span class="va">ParentGlobalID</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">$</span><span class="va">GlobalID</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'art_dekning'</span>,<span class="st">'Nitrogen'</span><span class="op">)</span><span class="op">]</span></span>
<span>          <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'richness'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span>
<span>          <span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">Nitrogen</span><span class="op">)</span>,<span class="op">]</span></span>
<span>          </span>
<span>          <span class="kw">if</span> <span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span><span class="op">&gt;</span><span class="fl">0</span> <span class="op">)</span> <span class="op">{</span></span>
<span>            </span>
<span>            <span class="va">val</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">dat</span><span class="op">[</span>,<span class="st">'art_dekning'</span><span class="op">]</span> <span class="op">*</span> <span class="va">dat</span><span class="op">[</span>,<span class="st">'Nitrogen'</span><span class="op">]</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">dat</span><span class="op">[</span>,<span class="st">'art_dekning'</span><span class="op">]</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span>            <span class="co"># lower part of distribution</span></span>
<span>            <span class="va">ref</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Nitrogen1'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'Rv'</span><span class="op">]</span></span>
<span>            <span class="va">lim</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Nitrogen1'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'Gv'</span><span class="op">]</span></span>
<span>            <span class="va">maxmin</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Nitrogen1'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'maxmin'</span><span class="op">]</span></span>
<span>            <span class="co"># coercing x into results.wetland dataframe</span></span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'scaled'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Nitrogen1'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">scal</span><span class="op">(</span><span class="op">)</span> </span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'non-truncated'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Nitrogen1'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">scal.2</span><span class="op">(</span><span class="op">)</span> </span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Nitrogen1'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">val</span> </span>
<span>            </span>
<span>            <span class="co"># upper part of distribution</span></span>
<span>            <span class="va">ref</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Nitrogen2'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'Rv'</span><span class="op">]</span></span>
<span>            <span class="va">lim</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Nitrogen2'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'Gv'</span><span class="op">]</span></span>
<span>            <span class="va">maxmin</span> <span class="op">&lt;-</span> <span class="va">wetland.ref.cov.val</span><span class="op">[</span><span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">Ind</span><span class="op">==</span><span class="st">'Nitrogen2'</span> <span class="op">&amp;</span> <span class="va">wetland.ref.cov.val</span><span class="op">$</span><span class="va">grunn</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">"kartleggingsenhet_1m2"</span><span class="op">]</span><span class="op">)</span>,<span class="st">'maxmin'</span><span class="op">]</span></span>
<span>            <span class="co"># coercing x into results.wetland dataframe</span></span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'scaled'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Nitrogen2'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">scal</span><span class="op">(</span><span class="op">)</span> </span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'non-truncated'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Nitrogen2'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">scal.2</span><span class="op">(</span><span class="op">)</span> </span>
<span>            <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">i</span>,<span class="st">'Nitrogen2'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">val</span></span>
<span>          <span class="op">}</span></span>
<span>          </span>
<span>        <span class="op">}</span></span>
<span>      <span class="op">}</span></span>
<span>      </span>
<span></span>
<span>    </span>
<span>  <span class="op">}</span>, error<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"ERROR :"</span>,<span class="fu"><a href="https://rdrr.io/r/base/conditions.html">conditionMessage</a></span><span class="op">(</span><span class="va">e</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># for using both sides of the plant indicators</span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'non-truncated'</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># remove values &gt;1 for 2-sided indicators</span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">Light1</span><span class="op">[</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">Light1</span><span class="op">&gt;</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">Light2</span><span class="op">[</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">Light2</span><span class="op">&gt;</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">Moist1</span><span class="op">[</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">Moist1</span><span class="op">&gt;</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">Moist2</span><span class="op">[</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">Moist2</span><span class="op">&gt;</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">pH1</span><span class="op">[</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">pH1</span><span class="op">&gt;</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">pH2</span><span class="op">[</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">pH2</span><span class="op">&gt;</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">Nitrogen1</span><span class="op">[</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">Nitrogen1</span><span class="op">&gt;</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">Nitrogen2</span><span class="op">[</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">Nitrogen2</span><span class="op">&gt;</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></code></pre></div>
<div class="sourceCode" id="cb249"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="fu">kable</span><span class="op">(</span><span class="st">"html"</span>, caption <span class="op">=</span> <span class="st">"ANO plots for wetland ecosystems with scaled indicator values in the far-right columns."</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span><span class="st">"striped"</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">scroll_box</span><span class="op">(</span>width <span class="op">=</span> <span class="st">"100%"</span><span class="op">)</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<div class="inline-table"><table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-19">Table 6.5: </span>ANO plots for wetland ecosystems with scaled indicator values in the far-right columns.
</caption>
<thead><tr>
<th style="text-align:left;">
GlobalID
</th>
<th style="text-align:left;">
registeringsdato
</th>
<th style="text-align:left;">
klokkeslett_start
</th>
<th style="text-align:left;">
ano_flate_id
</th>
<th style="text-align:left;">
ano_punkt_id
</th>
<th style="text-align:left;">
ssb_id
</th>
<th style="text-align:left;">
program
</th>
<th style="text-align:left;">
instruks
</th>
<th style="text-align:right;">
aar
</th>
<th style="text-align:left;">
dataansvarlig_mdir
</th>
<th style="text-align:left;">
dataeier
</th>
<th style="text-align:left;">
vaer
</th>
<th style="text-align:left;">
hovedoekosystem_punkt
</th>
<th style="text-align:right;">
andel_hovedoekosystem_punkt
</th>
<th style="text-align:left;">
utilgjengelig_punkt
</th>
<th style="text-align:left;">
utilgjengelig_begrunnelse
</th>
<th style="text-align:left;">
gps
</th>
<th style="text-align:left;">
noeyaktighet
</th>
<th style="text-align:left;">
kommentar_posisjon
</th>
<th style="text-align:left;">
klokkeslett_karplanter_start
</th>
<th style="text-align:left;">
art_alle_registrert
</th>
<th style="text-align:right;">
karplanter_dekning
</th>
<th style="text-align:left;">
klokkeslett_karplanter_slutt
</th>
<th style="text-align:right;">
karplanter_feltsjikt
</th>
<th style="text-align:right;">
moser_dekning
</th>
<th style="text-align:right;">
torvmoser_dekning
</th>
<th style="text-align:right;">
lav_dekning
</th>
<th style="text-align:right;">
stroe_dekning
</th>
<th style="text-align:right;">
jord_grus_stein_berg_dekning
</th>
<th style="text-align:right;">
stubber_kvister_dekning
</th>
<th style="text-align:right;">
alger_fjell_dekning
</th>
<th style="text-align:left;">
kommentar_ruteanalyse
</th>
<th style="text-align:left;">
fastmerker
</th>
<th style="text-align:left;">
kommentar_fastmerker
</th>
<th style="text-align:left;">
kartleggingsenhet_1m2
</th>
<th style="text-align:left;">
hovedtype_1m2
</th>
<th style="text-align:left;">
ke_beskrivelse_1m2
</th>
<th style="text-align:left;">
kartleggingsenhet_250m2
</th>
<th style="text-align:left;">
hovedtype_250m2
</th>
<th style="text-align:left;">
ke_beskrivelse_250m2
</th>
<th style="text-align:right;">
andel_kartleggingsenhet_250m2
</th>
<th style="text-align:right;">
groeftingsintensitet
</th>
<th style="text-align:right;">
bruksintensitet
</th>
<th style="text-align:right;">
beitetrykk
</th>
<th style="text-align:right;">
slatteintensitet
</th>
<th style="text-align:right;">
tungekjoretoy
</th>
<th style="text-align:right;">
slitasje
</th>
<th style="text-align:left;">
forekomst_ntyp
</th>
<th style="text-align:left;">
ntyp
</th>
<th style="text-align:left;">
kommentar_naturtyperegistering
</th>
<th style="text-align:left;">
side_5_note
</th>
<th style="text-align:right;">
krypende_vier_dekning
</th>
<th style="text-align:right;">
ikke_krypende_vier_dekning
</th>
<th style="text-align:right;">
vedplanter_total_dekning
</th>
<th style="text-align:right;">
busker_dekning
</th>
<th style="text-align:right;">
tresjikt_dekning
</th>
<th style="text-align:left;">
treslag_registrert
</th>
<th style="text-align:right;">
roesslyng_dekning
</th>
<th style="text-align:left;">
roesslyngblad
</th>
<th style="text-align:right;">
pa_dekning
</th>
<th style="text-align:left;">
pa_note
</th>
<th style="text-align:left;">
pa_registrert
</th>
<th style="text-align:right;">
fa_total_dekning
</th>
<th style="text-align:left;">
fa_registrert
</th>
<th style="text-align:left;">
kommentar_250m2_flate
</th>
<th style="text-align:left;">
klokkeslett_slutt
</th>
<th style="text-align:left;">
vedlegg_url
</th>
<th style="text-align:left;">
creator
</th>
<th style="text-align:left;">
creationdate
</th>
<th style="text-align:left;">
editor
</th>
<th style="text-align:left;">
editdate
</th>
<th style="text-align:left;">
hovedtype_rute
</th>
<th style="text-align:right;">
Light1
</th>
<th style="text-align:right;">
Light2
</th>
<th style="text-align:right;">
Moist1
</th>
<th style="text-align:right;">
Moist2
</th>
<th style="text-align:right;">
pH1
</th>
<th style="text-align:right;">
pH2
</th>
<th style="text-align:right;">
Nitrogen1
</th>
<th style="text-align:right;">
Nitrogen2
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
{36BAE83E-F412-4C90-8B56-DE6B4225BB17}
</td>
<td style="text-align:left;">
2019-08-16 11:59:59
</td>
<td style="text-align:left;">
13:19
</td>
<td style="text-align:left;">
ANO0003
</td>
<td style="text-align:left;">
ANO0003_35
</td>
<td style="text-align:left;">
20940006559500
</td>
<td style="text-align:left;">
ANO
</td>
<td style="text-align:left;">
<a href="https://nedlasting.miljodirektoratet.no/naturovervaking/ano_instruks.pdf" class="uri">https://nedlasting.miljodirektoratet.no/naturovervaking/ano_instruks.pdf</a>
</td>
<td style="text-align:right;">
2019
</td>
<td style="text-align:left;">
Ole Einar Butli Hårstad
</td>
<td style="text-align:left;">
Miljødirektoratet, VAL/VMK
</td>
<td style="text-align:left;">
overskyet
</td>
<td style="text-align:left;">
vaatmark
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
85.1
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-5
</td>
<td style="text-align:left;">
Åpen jordvannsmyr
</td>
<td style="text-align:left;">
svært og temmelig kalkfattige myrkanter
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
nei
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
en del gjengroing med bjørk og einer, noen store furuer
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
litt nakent berg
</td>
<td style="text-align:left;">
13:33
</td>
<td style="text-align:left;">
<a href="https://nin-felles-test.miljodirektoratet.no/api/Overvaking/list/36bae83e-f412-4c90-8b56-de6b4225bb17" class="uri">https://nin-felles-test.miljodirektoratet.no/api/Overvaking/list/36bae83e-f412-4c90-8b56-de6b4225bb17</a>
</td>
<td style="text-align:left;">
chrpot_miljodirektoratet
</td>
<td style="text-align:left;">
2019-09-09 10:54:17
</td>
<td style="text-align:left;">
chrpot_miljodirektoratet
</td>
<td style="text-align:left;">
2019-09-09 10:54:17
</td>
<td style="text-align:left;">
V1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.9880821
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.5073251
</td>
<td style="text-align:right;">
0.5130170
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.6919856
</td>
</tr>
<tr>
<td style="text-align:left;">
{662B047A-411B-42F1-8F2F-E24602CBF350}
</td>
<td style="text-align:left;">
2019-08-16 11:59:59
</td>
<td style="text-align:left;">
15:38
</td>
<td style="text-align:left;">
ANO0003
</td>
<td style="text-align:left;">
ANO0003_44
</td>
<td style="text-align:left;">
20940006559500
</td>
<td style="text-align:left;">
ANO
</td>
<td style="text-align:left;">
<a href="https://nedlasting.miljodirektoratet.no/naturovervaking/ano_instruks.pdf" class="uri">https://nedlasting.miljodirektoratet.no/naturovervaking/ano_instruks.pdf</a>
</td>
<td style="text-align:right;">
2019
</td>
<td style="text-align:left;">
Ole Einar Butli Hårstad
</td>
<td style="text-align:left;">
Miljødirektoratet, VAL/VMK
</td>
<td style="text-align:left;">
sol
</td>
<td style="text-align:left;">
vaatmark
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
81.0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-1
</td>
<td style="text-align:left;">
Åpen jordvannsmyr
</td>
<td style="text-align:left;">
svært og temmelig kalkfattige myrflater
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
nei
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
15:45
</td>
<td style="text-align:left;">
<a href="https://nin-felles-test.miljodirektoratet.no/api/Overvaking/list/662b047a-411b-42f1-8f2f-e24602cbf350" class="uri">https://nin-felles-test.miljodirektoratet.no/api/Overvaking/list/662b047a-411b-42f1-8f2f-e24602cbf350</a>
</td>
<td style="text-align:left;">
chrpot_miljodirektoratet
</td>
<td style="text-align:left;">
2019-09-09 10:56:19
</td>
<td style="text-align:left;">
chrpot_miljodirektoratet
</td>
<td style="text-align:left;">
2019-09-09 10:56:19
</td>
<td style="text-align:left;">
V1
</td>
<td style="text-align:right;">
0.5557351
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.9783315
</td>
<td style="text-align:right;">
0.9992800
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.5718196
</td>
</tr>
<tr>
<td style="text-align:left;">
{F003E630-94CD-4FFF-839B-772299BF697A}
</td>
<td style="text-align:left;">
2019-08-16 11:59:59
</td>
<td style="text-align:left;">
15:07
</td>
<td style="text-align:left;">
ANO0003
</td>
<td style="text-align:left;">
ANO0003_64
</td>
<td style="text-align:left;">
20940006559500
</td>
<td style="text-align:left;">
ANO
</td>
<td style="text-align:left;">
<a href="https://nedlasting.miljodirektoratet.no/naturovervaking/ano_instruks.pdf" class="uri">https://nedlasting.miljodirektoratet.no/naturovervaking/ano_instruks.pdf</a>
</td>
<td style="text-align:right;">
2019
</td>
<td style="text-align:left;">
Ole Einar Butli Hårstad
</td>
<td style="text-align:left;">
Miljødirektoratet, VAL/VMK
</td>
<td style="text-align:left;">
sol
</td>
<td style="text-align:left;">
vaatmark
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
79.0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-1
</td>
<td style="text-align:left;">
Åpen jordvannsmyr
</td>
<td style="text-align:left;">
svært og temmelig kalkfattige myrflater
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
nei
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
40% bærlyngskog T4C5, rute i overgang mellom myr og skog
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
15:17
</td>
<td style="text-align:left;">
<a href="https://nin-felles-test.miljodirektoratet.no/api/Overvaking/list/f003e630-94cd-4fff-839b-772299bf697a" class="uri">https://nin-felles-test.miljodirektoratet.no/api/Overvaking/list/f003e630-94cd-4fff-839b-772299bf697a</a>
</td>
<td style="text-align:left;">
chrpot_miljodirektoratet
</td>
<td style="text-align:left;">
2019-09-09 10:57:21
</td>
<td style="text-align:left;">
chrpot_miljodirektoratet
</td>
<td style="text-align:left;">
2019-09-09 10:57:21
</td>
<td style="text-align:left;">
V1
</td>
<td style="text-align:right;">
0.5506190
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.5484802
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.8622486
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.5796588
</td>
</tr>
<tr>
<td style="text-align:left;">
{F8239C33-99BD-4EEE-85A9-04A10772858D}
</td>
<td style="text-align:left;">
2019-08-16 11:59:59
</td>
<td style="text-align:left;">
13:58
</td>
<td style="text-align:left;">
ANO0003
</td>
<td style="text-align:left;">
ANO0003_55
</td>
<td style="text-align:left;">
20940006559500
</td>
<td style="text-align:left;">
ANO
</td>
<td style="text-align:left;">
<a href="https://nedlasting.miljodirektoratet.no/naturovervaking/ano_instruks.pdf" class="uri">https://nedlasting.miljodirektoratet.no/naturovervaking/ano_instruks.pdf</a>
</td>
<td style="text-align:right;">
2019
</td>
<td style="text-align:left;">
Ole Einar Butli Hårstad
</td>
<td style="text-align:left;">
Miljødirektoratet, VAL/VMK
</td>
<td style="text-align:left;">
sol
</td>
<td style="text-align:left;">
vaatmark
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
51.1
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
har noen arter som er i V1C2 men bare veldig lokalt
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-1
</td>
<td style="text-align:left;">
Åpen jordvannsmyr
</td>
<td style="text-align:left;">
svært og temmelig kalkfattige myrflater
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
nei
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
noen store furuer, litt bjørk
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
14:12
</td>
<td style="text-align:left;">
<a href="https://nin-felles-test.miljodirektoratet.no/api/Overvaking/list/f8239c33-99bd-4eee-85a9-04a10772858d" class="uri">https://nin-felles-test.miljodirektoratet.no/api/Overvaking/list/f8239c33-99bd-4eee-85a9-04a10772858d</a>
</td>
<td style="text-align:left;">
chrpot_miljodirektoratet
</td>
<td style="text-align:left;">
2019-09-09 10:58:29
</td>
<td style="text-align:left;">
chrpot_miljodirektoratet
</td>
<td style="text-align:left;">
2019-09-09 10:58:29
</td>
<td style="text-align:left;">
V1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.9702611
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.7785145
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.4743074
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.5484617
</td>
</tr>
<tr>
<td style="text-align:left;">
{95E184F4-9560-4ADC-A7A9-75AD9A97D654}
</td>
<td style="text-align:left;">
2019-08-16 11:59:59
</td>
<td style="text-align:left;">
12:06
</td>
<td style="text-align:left;">
ANO0003
</td>
<td style="text-align:left;">
ANO0003_15
</td>
<td style="text-align:left;">
20940006559500
</td>
<td style="text-align:left;">
ANO
</td>
<td style="text-align:left;">
<a href="https://nedlasting.miljodirektoratet.no/naturovervaking/ano_instruks.pdf" class="uri">https://nedlasting.miljodirektoratet.no/naturovervaking/ano_instruks.pdf</a>
</td>
<td style="text-align:right;">
2019
</td>
<td style="text-align:left;">
Ole Einar Butli Hårstad
</td>
<td style="text-align:left;">
Miljødirektoratet, VAL/VMK
</td>
<td style="text-align:left;">
sol
</td>
<td style="text-align:left;">
vaatmark
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
71.0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-1
</td>
<td style="text-align:left;">
Åpen jordvannsmyr
</td>
<td style="text-align:left;">
svært og temmelig kalkfattige myrflater
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
nei
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
delvis myr, ganske mye lyng, virker som det gror igjen med bjørk, einer og furu
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
53
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
en bekk går gjennom flaten
</td>
<td style="text-align:left;">
12:19
</td>
<td style="text-align:left;">
<a href="https://nin-felles-test.miljodirektoratet.no/api/Overvaking/list/95e184f4-9560-4adc-a7a9-75ad9a97d654" class="uri">https://nin-felles-test.miljodirektoratet.no/api/Overvaking/list/95e184f4-9560-4adc-a7a9-75ad9a97d654</a>
</td>
<td style="text-align:left;">
chrpot_miljodirektoratet
</td>
<td style="text-align:left;">
2019-09-09 10:59:26
</td>
<td style="text-align:left;">
chrpot_miljodirektoratet
</td>
<td style="text-align:left;">
2019-09-09 10:59:26
</td>
<td style="text-align:left;">
V1
</td>
<td style="text-align:right;">
0.5998524
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.5246274
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.8311036
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.7270619
</td>
</tr>
<tr>
<td style="text-align:left;">
{6C11D423-9559-4C61-9036-C1309E0C6328}
</td>
<td style="text-align:left;">
2019-08-15 11:59:59
</td>
<td style="text-align:left;">
15:43
</td>
<td style="text-align:left;">
ANO0003
</td>
<td style="text-align:left;">
ANO0003_51
</td>
<td style="text-align:left;">
20940006559500
</td>
<td style="text-align:left;">
ANO
</td>
<td style="text-align:left;">
<a href="https://nedlasting.miljodirektoratet.no/naturovervaking/ano_instruks.pdf" class="uri">https://nedlasting.miljodirektoratet.no/naturovervaking/ano_instruks.pdf</a>
</td>
<td style="text-align:right;">
2019
</td>
<td style="text-align:left;">
Ole Einar Butli Hårstad
</td>
<td style="text-align:left;">
Miljødirektoratet, VAL/VMK
</td>
<td style="text-align:left;">
nedbør
</td>
<td style="text-align:left;">
vaatmark
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
11.3
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
V1-C-1
</td>
<td style="text-align:left;">
Åpen jordvannsmyr
</td>
<td style="text-align:left;">
svært og temmelig kalkfattige myrflater
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
nei
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
rute ligger i en streng i fattigmyr
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
15:50
</td>
<td style="text-align:left;">
<a href="https://nin-felles-test.miljodirektoratet.no/api/Overvaking/list/6c11d423-9559-4c61-9036-c1309e0c6328" class="uri">https://nin-felles-test.miljodirektoratet.no/api/Overvaking/list/6c11d423-9559-4c61-9036-c1309e0c6328</a>
</td>
<td style="text-align:left;">
chrpot_miljodirektoratet
</td>
<td style="text-align:left;">
2019-09-09 10:59:58
</td>
<td style="text-align:left;">
chrpot_miljodirektoratet
</td>
<td style="text-align:left;">
2019-09-09 10:59:58
</td>
<td style="text-align:left;">
V1
</td>
<td style="text-align:right;">
0.9771330
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.9056025
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.7803061
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.9422970
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div id="scaled-value-analyses" class="section level4" number="6.7.1.2">
<h4>
<span class="header-section-number">6.7.1.2</span> Scaled value analyses<a class="anchor" aria-label="anchor" href="#scaled-value-analyses"><i class="fas fa-link"></i></a>
</h4>
<p>In order to visualize the results we need to rearrange the results-objects from wide to long format (note that there is both a lower and an upper condition indicator for each of the functional plant indicators).</p>
<div class="sourceCode" id="cb250"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#### plotting scaled values by main ecosystem type ####</span></span>
<span><span class="co">## continuing with 2-sided</span></span>
<span><span class="va">res.wetland</span> <span class="op">&lt;-</span> <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># make long version of the scaled value part</span></span>
<span><span class="va">res.wetland</span> <span class="op">&lt;-</span></span>
<span><span class="va">res.wetland</span> <span class="op">%&gt;%</span></span>
<span><span class="fu">pivot_longer</span><span class="op">(</span></span>
<span>cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Light1"</span>,<span class="st">"Light2"</span>,<span class="st">"Moist1"</span>,<span class="st">"Moist2"</span>,<span class="st">"pH1"</span>,<span class="st">"pH2"</span>,<span class="st">"Nitrogen1"</span>,<span class="st">"Nitrogen2"</span><span class="op">)</span>,</span>
<span>names_to <span class="op">=</span> <span class="st">"fp_ind"</span>,</span>
<span>values_to <span class="op">=</span> <span class="st">"scaled_value"</span>,</span>
<span>values_drop_na <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># add original values as well</span></span>
<span><span class="va">res.wetland</span> <span class="op">&lt;-</span></span>
<span><span class="va">res.wetland</span> <span class="op">%&gt;%</span> <span class="fu">add_column</span><span class="op">(</span>original <span class="op">=</span> <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'original'</span><span class="op">]</span><span class="op">]</span> <span class="op">%&gt;%</span></span>
<span><span class="fu">pivot_longer</span><span class="op">(</span></span>
<span>cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Light1"</span>,<span class="st">"Light2"</span>,<span class="st">"Moist1"</span>,<span class="st">"Moist2"</span>,<span class="st">"pH1"</span>,<span class="st">"pH2"</span>,<span class="st">"Nitrogen1"</span>,<span class="st">"Nitrogen2"</span><span class="op">)</span>,</span>
<span>names_to <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>values_to <span class="op">=</span> <span class="st">"original"</span>,</span>
<span>values_drop_na <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span><span class="fu">pull</span><span class="op">(</span><span class="va">original</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div id="ecosystem-sub-types-fpiw" class="section level3" number="6.7.2">
<h3>
<span class="header-section-number">6.7.2</span> Ecosystem sub-types<a class="anchor" aria-label="anchor" href="#ecosystem-sub-types-fpiw"><i class="fas fa-link"></i></a>
</h3>
And we can show the resulting scaled values as Violin plots for each indicator and main ecosystem type
<div class="figure">
<span style="display:block;" id="fig:fpiw-plot-maintype"></span>
<img src="functional_plant_indicators_wetland_files/figure-html/fpiw-plot-maintype-1.png" alt="Scaled vegetation indicator values for wetlands. 1 = cases where variable is lower than the reference value- 2 = cases where variablei is higher than the reference value." width="100%"><p class="caption">
Figure 6.1: Scaled vegetation indicator values for wetlands. 1 = cases where variable is lower than the reference value- 2 = cases where variablei is higher than the reference value.
</p>
</div>
<p>This figure is a bit easier to read if we remove the sub-types with very few data points:</p>
<div class="sourceCode" id="cb251"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">hovedtype_rute</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"V1"</span>, <span class="st">"V2"</span>, <span class="st">"V3"</span>, <span class="st">"V4"</span><span class="op">)</span>,<span class="op">]</span>, <span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">hovedtype_rute</span><span class="op">)</span>, y<span class="op">=</span><span class="va">scaled_value</span>, fill<span class="op">=</span><span class="va">fp_ind</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_hline</span><span class="op">(</span>yintercept<span class="op">=</span><span class="fl">0.6</span>, linetype<span class="op">=</span><span class="st">"dashed"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_violin</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span><span class="co">#  geom_boxplot(width=0.2, color="grey") +</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span>size<span class="op">=</span><span class="fl">0.7</span>, shape<span class="op">=</span><span class="fl">16</span>, color<span class="op">=</span><span class="st">"grey"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">fp_ind</span>,levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Light1"</span>,<span class="st">"Moist1"</span>,<span class="st">"pH1"</span>,<span class="st">"Nitrogen1"</span>,<span class="st">"Light2"</span>,<span class="st">"Moist2"</span>,<span class="st">"pH2"</span>,<span class="st">"Nitrogen2"</span><span class="op">)</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">xlab</span><span class="op">(</span><span class="st">"Wetland ecosystem sub-type"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ylab</span><span class="op">(</span><span class="st">"Scaled indicator value"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">guides</span><span class="op">(</span>fill<span class="op">=</span><span class="st">'none'</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:fpiw-plot-maintype-v2"></span>
<img src="functional_plant_indicators_wetland_files/figure-html/fpiw-plot-maintype-v2-1.png" alt="Scaled vegetation indicator values for the four most common sub-types of wetland. 1 = cases where variable is lower than the reference value- 2 = cases where variablei is higher than the reference value." width="100%"><p class="caption">
Figure 6.2: Scaled vegetation indicator values for the four most common sub-types of wetland. 1 = cases where variable is lower than the reference value- 2 = cases where variablei is higher than the reference value.
</p>
</div>
</div>
<div id="indicator-index-maps" class="section level3" number="6.7.3">
<h3>
<span class="header-section-number">6.7.3</span> Indicator index maps<a class="anchor" aria-label="anchor" href="#indicator-index-maps"><i class="fas fa-link"></i></a>
</h3>
<p>We can also show the results as a map, for instance for pH1 (the lower pH indicator), either by directly plotting the data onto the map…</p>
<div class="sourceCode" id="cb252"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#### scaled value maps ####</span></span>
<span><span class="co"># keep wide format and add geometry again</span></span>
<span><span class="va">res.wetland2</span> <span class="op">&lt;-</span> <span class="va">results.wetland</span><span class="op">[[</span><span class="st">'2-sided'</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="fu">st_geometry</span><span class="op">(</span><span class="va">res.wetland2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu">st_geometry</span><span class="op">(</span><span class="va">ANO.wetland</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#nor &lt;- readRDS('P:/41201785_okologisk_tilstand_2022_2023/data/rds/norway_outline.RDS')%&gt;%</span></span>
<span><span class="co">#  st_as_sf() %&gt;%</span></span>
<span><span class="co">#  st_transform(crs = crs(ANO.geo))</span></span>
<span></span>
<span><span class="va">nor</span> <span class="op">&lt;-</span> <span class="fu">st_read</span><span class="op">(</span><span class="st">"data/outlineOfNorway_EPSG25833.shp"</span><span class="op">)</span><span class="op">%&gt;%</span></span>
<span>  <span class="fu">st_as_sf</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">st_transform</span><span class="op">(</span>crs <span class="op">=</span> <span class="fu">crs</span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Reading layer `outlineOfNorway_EPSG25833' from data source </span></span>
<span><span class="co">#&gt;   `/data/Egenutvikling/41001581_egenutvikling_anders_kolstad/github/ecosystemCondition_v2/data/outlineOfNorway_EPSG25833.shp' </span></span>
<span><span class="co">#&gt;   using driver `ESRI Shapefile'</span></span>
<span><span class="co">#&gt; Simple feature collection with 1 feature and 2 fields</span></span>
<span><span class="co">#&gt; Geometry type: MULTIPOLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -113472.7 ymin: 6448359 xmax: 1114618 ymax: 7939917</span></span>
<span><span class="co">#&gt; Projected CRS: ETRS89 / UTM zone 33N</span></span>
<span></span>
<span><span class="co">#reg &lt;- st_read("P:/41201785_okologisk_tilstand_2022_2023/data/regioner/regNorway_wgs84 - MERGED.shp")%&gt;%</span></span>
<span><span class="co">#  st_as_sf() %&gt;%</span></span>
<span><span class="co">#  st_transform(crs = crs(ANO.geo))</span></span>
<span></span>
<span><span class="va">reg</span> <span class="op">&lt;-</span> <span class="fu">st_read</span><span class="op">(</span><span class="st">"data/regions.shp"</span><span class="op">)</span><span class="op">%&gt;%</span></span>
<span>  <span class="fu">st_as_sf</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">st_transform</span><span class="op">(</span>crs <span class="op">=</span> <span class="fu">crs</span><span class="op">(</span><span class="va">ANO.geo</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Reading layer `regions' from data source </span></span>
<span><span class="co">#&gt;   `/data/Egenutvikling/41001581_egenutvikling_anders_kolstad/github/ecosystemCondition_v2/data/regions.shp' </span></span>
<span><span class="co">#&gt;   using driver `ESRI Shapefile'</span></span>
<span><span class="co">#&gt; Simple feature collection with 5 features and 2 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -99551.21 ymin: 6426048 xmax: 1121941 ymax: 7962744</span></span>
<span><span class="co">#&gt; Projected CRS: ETRS89 / UTM zone 33N</span></span>
<span></span>
<span><span class="co"># change region names to something R-friendly</span></span>
<span><span class="va">reg</span><span class="op">$</span><span class="va">region</span></span>
<span><span class="co">#&gt; [1] "Nord-Norge"      "Midt-Norge"      "Ã\u0098stlandet"</span></span>
<span><span class="co">#&gt; [4] "Vestlandet"      "SÃ¸rlandet"</span></span>
<span><span class="va">reg</span><span class="op">$</span><span class="va">region</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Northern Norway"</span>,<span class="st">"Central Norway"</span>,<span class="st">"Eastern Norway"</span>,<span class="st">"Western Norway"</span>,<span class="st">"Southern Norway"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">regnor</span> <span class="op">&lt;-</span> <span class="fu">st_intersection</span><span class="op">(</span><span class="va">reg</span>,<span class="va">nor</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## scaled value maps</span></span>
<span><span class="co"># pH1 (lower indicator)</span></span>
<span><span class="fu">tm_shape</span><span class="op">(</span><span class="va">regnor</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">tm_fill</span><span class="op">(</span><span class="st">'GID_0'</span>, labels<span class="op">=</span><span class="st">""</span>, title<span class="op">=</span><span class="st">""</span>, legend.show <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">tm_borders</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">tm_shape</span><span class="op">(</span><span class="va">res.wetland2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">tm_dots</span><span class="op">(</span><span class="st">'pH1'</span>,midpoint<span class="op">=</span><span class="cn">NA</span>, palette<span class="op">=</span><span class="fu">tmaptools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tmaptools/man/get_brewer_pal.html">get_brewer_pal</a></span><span class="op">(</span><span class="st">"YlOrRd"</span>, <span class="fl">7</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>, scale<span class="op">=</span><span class="fl">1</span>, legend.show <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span> <span class="co"># </span></span>
<span>  <span class="fu">tm_layout</span><span class="op">(</span>main.title <span class="op">=</span> <span class="st">"pH (lower), wetland"</span>,legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"right"</span>, <span class="st">"bottom"</span><span class="op">)</span>, main.title.size<span class="op">=</span><span class="fl">1.2</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">tm_add_legend</span><span class="op">(</span>type <span class="op">=</span> <span class="st">"fill"</span>, </span>
<span>                col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu">tmaptools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tmaptools/man/get_brewer_pal.html">get_brewer_pal</a></span><span class="op">(</span><span class="st">"YlOrRd"</span>, <span class="fl">5</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,<span class="st">'grey'</span><span class="op">)</span>,</span>
<span>                labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"0.0 - 0.2"</span>, <span class="st">"0.2 - 0.4"</span>, <span class="st">"0.4 - 0.6"</span>, </span>
<span>                           <span class="st">"0.6 - 0.8"</span>, <span class="st">"0.8 - 1.0"</span>, <span class="st">"NA"</span><span class="op">)</span>,</span>
<span>                title <span class="op">=</span> <span class="st">"index values"</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:ph-lower-map-fpiw"></span>
<img src="functional_plant_indicators_wetland_files/figure-html/ph-lower-map-fpiw-1.png" alt="Functional plant indicator values for pH (lower) in wetlands." width="672"><p class="caption">
Figure 6.3: Functional plant indicator values for pH (lower) in wetlands.
</p>
</div>
<p>…but here the colors and values of the data points on the map are hard to make out.</p>
</div>
<div id="regions---maps-and-statistics" class="section level3" number="6.7.4">
<h3>
<span class="header-section-number">6.7.4</span> Regions - maps and statistics<a class="anchor" aria-label="anchor" href="#regions---maps-and-statistics"><i class="fas fa-link"></i></a>
</h3>
<p>Alternatively we can calculate and show the region-wise means and their related standard errors. But note that calculating a simple mean would be inappropriate for these data. This is because:
(i) the scaled data are bound between 0 and 1, and thus follow a beta-distribution rather than a Gaussian one
(ii) the ANO dataset has a nested structure</p>
<p>Therefore, we need to (i) use a beta-model, that (ii) can account for the nested structure of the data.
Here, we apply the following function using either a glmmTMB null-model with a beta-distribution, logit link, and the nesting as a random intercept, or a simple betareg null-model with logit link if the nesting is not extensive enough for a mixed model.</p>
<div class="sourceCode" id="cb253"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">expit</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">L</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="va">L</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="fl">1</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="va">L</span><span class="op">)</span><span class="op">)</span> <span class="co"># since the beta-models use a logit link, we need to calculate the estimates back to the identity scale</span></span>
<span></span>
<span><span class="co"># the function performs a glmmTMB if there's &gt;= 5 random levels in the nesting structure</span></span>
<span><span class="co"># if that is not the case, then the function performs a betareg if theres &gt;= 2 observations</span></span>
<span><span class="co"># if that is not the case either, then the function returns the value of the single observation with NA standard error</span></span>
<span></span>
<span><span class="va">indmean.beta</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>  <span class="fu">st_geometry</span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"y"</span>,<span class="st">"ran"</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span> <span class="op">&gt;=</span> <span class="fl">2</span> <span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="kw">if</span> <span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span><span class="op">)</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">&gt;=</span><span class="fl">5</span> <span class="op">)</span> <span class="op">{</span></span>
<span>      </span>
<span>      <span class="va">mod1</span> <span class="op">&lt;-</span> <span class="fu">glmmTMB</span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="fl">1</span> <span class="op">+</span><span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">ran</span><span class="op">)</span>, family<span class="op">=</span><span class="fu">beta_family</span><span class="op">(</span><span class="op">)</span>, data<span class="op">=</span><span class="va">df</span><span class="op">)</span></span>
<span>      </span>
<span>      <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>        <span class="fu">expit</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">mod1</span> <span class="op">)</span><span class="op">$</span><span class="va">coefficients</span><span class="op">$</span><span class="va">cond</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>,</span>
<span>        </span>
<span>        <span class="fu">expit</span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">mod1</span> <span class="op">)</span><span class="op">$</span><span class="va">coefficients</span><span class="op">$</span><span class="va">cond</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> </span>
<span>                 <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">mod1</span> <span class="op">)</span><span class="op">$</span><span class="va">coefficients</span><span class="op">$</span><span class="va">cond</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">)</span><span class="op">-</span></span>
<span>          <span class="fu">expit</span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">mod1</span> <span class="op">)</span><span class="op">$</span><span class="va">coefficients</span><span class="op">$</span><span class="va">cond</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">)</span>,</span>
<span>        </span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">y</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">mod1</span> <span class="op">)</span><span class="op">$</span><span class="va">coefficients</span><span class="op">$</span><span class="va">cond</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">mod1</span> <span class="op">)</span><span class="op">$</span><span class="va">coefficients</span><span class="op">$</span><span class="va">cond</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></span>
<span>      <span class="op">)</span><span class="op">)</span></span>
<span>      </span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      </span>
<span>      <span class="va">mod2</span> <span class="op">&lt;-</span> <span class="fu">betareg</span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="fl">1</span>, data<span class="op">=</span><span class="va">df</span><span class="op">)</span></span>
<span>      </span>
<span>      <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>        <span class="fu">expit</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">mod2</span> <span class="op">)</span><span class="op">$</span><span class="va">coefficients</span><span class="op">$</span><span class="va">mean</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>,</span>
<span>        <span class="fu">expit</span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">mod2</span> <span class="op">)</span><span class="op">$</span><span class="va">coefficients</span><span class="op">$</span><span class="va">mean</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> </span>
<span>                 <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">mod2</span> <span class="op">)</span><span class="op">$</span><span class="va">coefficients</span><span class="op">$</span><span class="va">mean</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">)</span><span class="op">-</span></span>
<span>          <span class="fu">expit</span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">mod2</span> <span class="op">)</span><span class="op">$</span><span class="va">coefficients</span><span class="op">$</span><span class="va">mean</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">y</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">mod2</span> <span class="op">)</span><span class="op">$</span><span class="va">coefficients</span><span class="op">$</span><span class="va">mean</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span> <span class="va">mod2</span> <span class="op">)</span><span class="op">$</span><span class="va">coefficients</span><span class="op">$</span><span class="va">mean</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></span>
<span>      <span class="op">)</span><span class="op">)</span></span>
<span>      </span>
<span>    <span class="op">}</span></span>
<span>    </span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">y</span>,<span class="cn">NA</span>,<span class="fl">1</span>,<span class="cn">NA</span>,<span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb254"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">res.wetland2</span> <span class="op">=</span> <span class="fu">st_join</span><span class="op">(</span><span class="va">res.wetland2</span>, <span class="va">regnor</span>, left <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">regnor</span> <span class="op">&lt;-</span> <span class="va">regnor</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span></span>
<span>    pH1.reg.mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu">indmean.beta</span><span class="op">(</span>df<span class="op">=</span><span class="va">res.wetland2</span><span class="op">[</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">region</span><span class="op">==</span><span class="st">"Northern Norway"</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"pH1"</span>,<span class="st">"ano_flate_id"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>            <span class="fu">indmean.beta</span><span class="op">(</span>df<span class="op">=</span><span class="va">res.wetland2</span><span class="op">[</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">region</span><span class="op">==</span><span class="st">"Central Norway"</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"pH1"</span>,<span class="st">"ano_flate_id"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>            <span class="fu">indmean.beta</span><span class="op">(</span>df<span class="op">=</span><span class="va">res.wetland2</span><span class="op">[</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">region</span><span class="op">==</span><span class="st">"Eastern Norway"</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"pH1"</span>,<span class="st">"ano_flate_id"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>            <span class="fu">indmean.beta</span><span class="op">(</span>df<span class="op">=</span><span class="va">res.wetland2</span><span class="op">[</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">region</span><span class="op">==</span><span class="st">"Western Norway"</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"pH1"</span>,<span class="st">"ano_flate_id"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>            <span class="fu">indmean.beta</span><span class="op">(</span>df<span class="op">=</span><span class="va">res.wetland2</span><span class="op">[</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">region</span><span class="op">==</span><span class="st">"Southern Norway"</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"pH1"</span>,<span class="st">"ano_flate_id"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span>    <span class="op">)</span>,</span>
<span>    pH1.reg.se <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu">indmean.beta</span><span class="op">(</span>df<span class="op">=</span><span class="va">res.wetland2</span><span class="op">[</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">region</span><span class="op">==</span><span class="st">"Northern Norway"</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"pH1"</span>,<span class="st">"ano_flate_id"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>            <span class="fu">indmean.beta</span><span class="op">(</span>df<span class="op">=</span><span class="va">res.wetland2</span><span class="op">[</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">region</span><span class="op">==</span><span class="st">"Central Norway"</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"pH1"</span>,<span class="st">"ano_flate_id"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>            <span class="fu">indmean.beta</span><span class="op">(</span>df<span class="op">=</span><span class="va">res.wetland2</span><span class="op">[</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">region</span><span class="op">==</span><span class="st">"Eastern Norway"</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"pH1"</span>,<span class="st">"ano_flate_id"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>            <span class="fu">indmean.beta</span><span class="op">(</span>df<span class="op">=</span><span class="va">res.wetland2</span><span class="op">[</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">region</span><span class="op">==</span><span class="st">"Western Norway"</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"pH1"</span>,<span class="st">"ano_flate_id"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>            <span class="fu">indmean.beta</span><span class="op">(</span>df<span class="op">=</span><span class="va">res.wetland2</span><span class="op">[</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">region</span><span class="op">==</span><span class="st">"Southern Norway"</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"pH1"</span>,<span class="st">"ano_flate_id"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></span>
<span>    <span class="op">)</span>,</span>
<span>    pH1.reg.n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">res.wetland2</span><span class="op">[</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">region</span><span class="op">==</span><span class="st">"Northern Norway"</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">pH1</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">res.wetland2</span><span class="op">[</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">region</span><span class="op">==</span><span class="st">"Central Norway"</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">pH1</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">res.wetland2</span><span class="op">[</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">region</span><span class="op">==</span><span class="st">"Eastern Norway"</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">pH1</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">res.wetland2</span><span class="op">[</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">region</span><span class="op">==</span><span class="st">"Western Norway"</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">pH1</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">res.wetland2</span><span class="op">[</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">region</span><span class="op">==</span><span class="st">"Southern Norway"</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">res.wetland2</span><span class="op">$</span><span class="va">pH1</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Colour palettes</span></span>
<span><span class="va">myCol</span> <span class="op">&lt;-</span> <span class="st">"RdYlGn"</span></span>
<span></span>
<span><span class="co">## scaled value maps for pH1 (lower indicator)</span></span>
<span><span class="co"># mean</span></span>
<span><span class="fu">tm_shape</span><span class="op">(</span><span class="va">regnor</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">tm_polygons</span><span class="op">(</span>col<span class="op">=</span><span class="st">"pH1.reg.mean"</span>, title<span class="op">=</span><span class="st">"pH (lower), mean"</span>, style<span class="op">=</span><span class="st">"fixed"</span>, </span>
<span>              palette<span class="op">=</span><span class="va">myCol</span>,</span>
<span>              breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">.2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">tm_text</span><span class="op">(</span><span class="st">"pH1.reg.n"</span>,col<span class="op">=</span><span class="st">"black"</span>,bg.color<span class="op">=</span><span class="st">"grey"</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:ph-map-fpiw"></span>
<img src="functional_plant_indicators_wetland_files/figure-html/ph-map-fpiw-1.png" alt="Mean index value by region for the lower pH indicator (i.e. index shows deviations towards a more acidic environment). Numbers in grey fields show the number of observations in the respective region." width="672"><p class="caption">
Figure 6.4: Mean index value by region for the lower pH indicator (i.e. index shows deviations towards a more acidic environment). Numbers in grey fields show the number of observations in the respective region.
</p>
</div>
<p>We can also plot the uncertainty, here represented as the spatial variation:</p>
<div class="sourceCode" id="cb255"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">tm_shape</span><span class="op">(</span><span class="va">regnor</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">tm_polygons</span><span class="op">(</span>col<span class="op">=</span><span class="st">"pH1.reg.se"</span>, title<span class="op">=</span><span class="st">"pH (lower), sd"</span>, style<span class="op">=</span><span class="st">"quantile"</span>, palette<span class="op">=</span><span class="fu">get_brewer_pal</span><span class="op">(</span>palette<span class="op">=</span><span class="st">"OrRd"</span>, n<span class="op">=</span><span class="fl">5</span>, plot<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">tm_text</span><span class="op">(</span><span class="st">"pH1.reg.n"</span>,col<span class="op">=</span><span class="st">"black"</span>,bg.color<span class="op">=</span><span class="st">"grey"</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:ph-se-fpiw"></span>
<img src="functional_plant_indicators_wetland_files/figure-html/ph-se-fpiw-1.png" alt="Standard error to the mean index value by region for the lower pH indicator. Numbers in grey fields show the number of observations in the respective region." width="672"><p class="caption">
Figure 6.5: Standard error to the mean index value by region for the lower pH indicator. Numbers in grey fields show the number of observations in the respective region.
</p>
</div>
</div>
<div id="unscaled-values-vs.-reference" class="section level3" number="6.7.5">
<h3>
<span class="header-section-number">6.7.5</span> Unscaled values vs. reference<a class="anchor" aria-label="anchor" href="#unscaled-values-vs.-reference"><i class="fas fa-link"></i></a>
</h3>
<p>We can also compare the unscaled values to the reference distribution in order to identify ecosystem types and functional plant indicators showing a deviation from the expectation. Since pH and nitrogen show some deviation in the lower indicator we exemplify this with these two indicators for unscaled values. (Only the code for the first figure is shown).</p>
<div class="sourceCode" id="cb256"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>    <span class="co">#summary(res.wetland$kartleggingsenhet_1m2)</span></span>
<span>    <span class="co">#length(unique(res.wetland$kartleggingsenhet_1m2))</span></span>
<span><span class="co"># 16 NiN-types to plot</span></span>
<span>    <span class="co">#colnames(wetland.ref.cov[['Soil_reaction_pH']])</span></span>
<span></span>
<span><span class="co">### pH</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## V1s</span></span>
<span><span class="co"># V1-C-1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">'Soil_reaction_pH'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"V1-C1a"</span>,<span class="st">"V1-C1b"</span>,<span class="st">"V1-C1c"</span>,<span class="st">"V1-C1d"</span>,<span class="st">"V1-C1e"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> ,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>     xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">7</span><span class="op">)</span>, type<span class="op">=</span><span class="st">"l"</span>, main<span class="op">=</span><span class="st">'V1-C1'</span>,xlab<span class="op">=</span><span class="st">'pH value'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-1"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>       type<span class="op">=</span><span class="st">"l"</span>, col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-1"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span>,</span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-1"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># V1-C-2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">'Soil_reaction_pH'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"V1-C2a"</span>,<span class="st">"V1-C2b"</span>,<span class="st">"V1-C2c"</span>,<span class="st">"V1-C2d"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> ,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>     xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">7</span><span class="op">)</span>, type<span class="op">=</span><span class="st">"l"</span>, main<span class="op">=</span><span class="st">'V1-C2'</span>,xlab<span class="op">=</span><span class="st">'pH value'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-2"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>       type<span class="op">=</span><span class="st">"l"</span>, col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-2"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span>,</span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-2"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># V1-C-3</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">'Soil_reaction_pH'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"V1-C3a"</span>,<span class="st">"V1-C3b"</span>,<span class="st">"V1-C3c"</span>,<span class="st">"V1-C3d"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> ,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>     xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">7</span><span class="op">)</span>, type<span class="op">=</span><span class="st">"l"</span>, main<span class="op">=</span><span class="st">'V1-C3'</span>,xlab<span class="op">=</span><span class="st">'pH value'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-3"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>       type<span class="op">=</span><span class="st">"l"</span>, col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-3"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span>,</span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-3"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># V1-C-4</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">'Soil_reaction_pH'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"V1-C4a"</span>,<span class="st">"V1-C4b"</span>,<span class="st">"V1-C4c"</span>,<span class="st">"V1-C4d"</span>,<span class="st">"V1-C4e"</span>,<span class="st">"V1-C4f"</span>,<span class="st">"V1-C4g"</span>,<span class="st">"V1-C4h"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> ,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>     xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">7</span><span class="op">)</span>, type<span class="op">=</span><span class="st">"l"</span>, main<span class="op">=</span><span class="st">'V1-C4'</span>,xlab<span class="op">=</span><span class="st">'pH value'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-4"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>       type<span class="op">=</span><span class="st">"l"</span>, col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-4"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span>,</span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-4"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># V1-C-5</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">'Soil_reaction_pH'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"V1-C5"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> ,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>     xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">7</span><span class="op">)</span>, type<span class="op">=</span><span class="st">"l"</span>, main<span class="op">=</span><span class="st">'V1-C5'</span>,xlab<span class="op">=</span><span class="st">'pH value'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-5"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>       type<span class="op">=</span><span class="st">"l"</span>, col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-5"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span>,</span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-5"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># V1-C-6</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">'Soil_reaction_pH'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"V1-C6a"</span>,<span class="st">"V1-C6b"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> ,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>     xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">7</span><span class="op">)</span>, type<span class="op">=</span><span class="st">"l"</span>, main<span class="op">=</span><span class="st">'V1-C6'</span>,xlab<span class="op">=</span><span class="st">'pH value'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-6"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>       type<span class="op">=</span><span class="st">"l"</span>, col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-6"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span>,</span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-6"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># V1-C-7</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">'Soil_reaction_pH'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"V1-C7a"</span>,<span class="st">"V1-C7b"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> ,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>     xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">7</span><span class="op">)</span>, type<span class="op">=</span><span class="st">"l"</span>, main<span class="op">=</span><span class="st">'V1-C7'</span>,xlab<span class="op">=</span><span class="st">'pH value'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-7"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>       type<span class="op">=</span><span class="st">"l"</span>, col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-7"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span>,</span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-7"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># V1-C-8</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">wetland.ref.cov</span><span class="op">[[</span><span class="st">'Soil_reaction_pH'</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"V1-C8a"</span>,<span class="st">"V1-C8b"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> ,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>     xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">7</span><span class="op">)</span>, type<span class="op">=</span><span class="st">"l"</span>, main<span class="op">=</span><span class="st">'V1-C8'</span>,xlab<span class="op">=</span><span class="st">'pH value'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-8"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span>,na.rm<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>       type<span class="op">=</span><span class="st">"l"</span>, col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-8"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span>,</span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">res.wetland</span><span class="op">[</span><span class="va">res.wetland</span><span class="op">$</span><span class="va">fp_ind</span><span class="op">==</span><span class="st">"pH1"</span> <span class="op">&amp;</span> <span class="va">res.wetland</span><span class="op">$</span><span class="va">kartleggingsenhet_1m2</span><span class="op">==</span><span class="st">"V1-C-8"</span>,<span class="op">]</span><span class="op">$</span><span class="va">original</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:pH-distcomp-fpiw"></span>
<img src="functional_plant_indicators_wetland_files/figure-html/pH-distcomp-fpiw-1.png" alt="Comparing the reference and variable distribution for the pH indicator in ecosystem sub-type V1." width="672"><p class="caption">
Figure 6.6: Comparing the reference and variable distribution for the pH indicator in ecosystem sub-type V1.
</p>
</div>
<div class="figure">
<span style="display:block;" id="fig:ph-distcomp2-fpiw"></span>
<img src="functional_plant_indicators_wetland_files/figure-html/ph-distcomp2-fpiw-1.png" alt="Comparing the reference and variable distribution for the pH indicator in ecosystem sub-types other than V1." width="672"><p class="caption">
Figure 6.7: Comparing the reference and variable distribution for the pH indicator in ecosystem sub-types other than V1.
</p>
</div>
<div class="figure">
<span style="display:block;" id="fig:n-distcomp-fpiw"></span>
<img src="functional_plant_indicators_wetland_files/figure-html/n-distcomp-fpiw-1.png" alt="Comparing the reference and variable distribution for the nitrogen affiliation indicator in ecosystem sub-type V1." width="672"><p class="caption">
Figure 6.8: Comparing the reference and variable distribution for the nitrogen affiliation indicator in ecosystem sub-type V1.
</p>
</div>
<div class="figure">
<span style="display:block;" id="fig:n-distcomp2-fpiw"></span>
<img src="functional_plant_indicators_wetland_files/figure-html/n-distcomp2-fpiw-1.png" alt="Comparing the reference and variable distribution for the nitrogen affiliation indicator in ecosystem sub-types other than V1." width="672"><p class="caption">
Figure 6.9: Comparing the reference and variable distribution for the nitrogen affiliation indicator in ecosystem sub-types other than V1.
</p>
</div>
<p>Deviations from the reference occur mainly in V2-C1, which represents limestone-poor swamp forests. According to the functional signature from the plant community composition many of the occurrences of this ecosystem type are too acidic and may have too low availability of nitrogen.</p>
</div>
<div id="exp-fpiw" class="section level3" number="6.7.6">
<h3>
<span class="header-section-number">6.7.6</span> Eksport file (final product)<a class="anchor" aria-label="anchor" href="#exp-fpiw"><i class="fas fa-link"></i></a>
</h3>
<p>Nothing exported yet.</p>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="alien-species.html"><span class="header-section-number">5</span> Alien species</a></div>
<div class="next"><a href="functional-plant-indicators-seminat.html"><span class="header-section-number">7</span> Functional Plant Indicators - Semi-Natural Ecosystems</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#functional-plant-indicators-wetland"><span class="header-section-number">6</span> Functional Plant Indicators - Wetlands</a></li>
<li><a class="nav-link" href="#intro-fpiw"><span class="header-section-number">6.1</span> Introduction</a></li>
<li>
<a class="nav-link" href="#underlying-data-fpiw"><span class="header-section-number">6.2</span> About the underlying data</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#representativity-fpiw"><span class="header-section-number">6.2.1</span> Representativity in time and space</a></li>
<li><a class="nav-link" href="#representativity-temporal-fpiw"><span class="header-section-number">6.2.2</span> Temporal coverage</a></li>
</ul>
</li>
<li><a class="nav-link" href="#collinearities-with-other-indicators-4"><span class="header-section-number">6.3</span> Collinearities with other indicators</a></li>
<li>
<a class="nav-link" href="#ref-state-fpiw"><span class="header-section-number">6.4</span> Reference state and values</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#ref-state2-fpiw"><span class="header-section-number">6.4.1</span> Reference state</a></li>
<li><a class="nav-link" href="#ref-values-fpiw"><span class="header-section-number">6.4.2</span> Reference values, thresholds for defining good ecological condition, minimum and/or maximum values</a></li>
</ul>
</li>
<li><a class="nav-link" href="#uncertainties-fpiw"><span class="header-section-number">6.5</span> Uncertainties</a></li>
<li><a class="nav-link" href="#references-fpiw"><span class="header-section-number">6.6</span> References</a></li>
<li>
<a class="nav-link" href="#analyses-fpiw"><span class="header-section-number">6.7</span> Analyses</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#data-sets-2"><span class="header-section-number">6.7.1</span> Data sets</a></li>
<li><a class="nav-link" href="#ecosystem-sub-types-fpiw"><span class="header-section-number">6.7.2</span> Ecosystem sub-types</a></li>
<li><a class="nav-link" href="#indicator-index-maps"><span class="header-section-number">6.7.3</span> Indicator index maps</a></li>
<li><a class="nav-link" href="#regions---maps-and-statistics"><span class="header-section-number">6.7.4</span> Regions - maps and statistics</a></li>
<li><a class="nav-link" href="#unscaled-values-vs.-reference"><span class="header-section-number">6.7.5</span> Unscaled values vs. reference</a></li>
<li><a class="nav-link" href="#exp-fpiw"><span class="header-section-number">6.7.6</span> Eksport file (final product)</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/NINAnor/ecosystemCondition/blob/master/functional_plant_indicators_wetland.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/NINAnor/ecosystemCondition/edit/master/functional_plant_indicators_wetland.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Indicators for Ecosystem Condition in Norway</strong>" was written by Anders L. Kolstad. It was last built on 2023-12-04.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
