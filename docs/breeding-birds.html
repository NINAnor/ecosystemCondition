<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 11 Breeding bird indicators | Indicators for Ecosystem Condition in Norway</title>
<meta name="author" content="Anders L. Kolstad">
<meta name="description" content="Norwegian name: Hekkefulgindikatorer Author and date: Chloé R. Nater, Diego Pavón-Jordán Oktober 2023  .cl-901c635a{table-layout:auto;}.cl-9014e0f8{font-family:'DejaVu...">
<meta name="generator" content="bookdown 0.33 with bs4_book()">
<meta property="og:title" content="Chapter 11 Breeding bird indicators | Indicators for Ecosystem Condition in Norway">
<meta property="og:type" content="book">
<meta property="og:url" content="https://ninanor.github.io/ecosystemCondition/index.html/breeding-birds.html">
<meta property="og:image" content="https://ninanor.github.io/ecosystemCondition/index.html/images/Picture1.png">
<meta property="og:description" content="Norwegian name: Hekkefulgindikatorer Author and date: Chloé R. Nater, Diego Pavón-Jordán Oktober 2023  .cl-901c635a{table-layout:auto;}.cl-9014e0f8{font-family:'DejaVu...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 11 Breeding bird indicators | Indicators for Ecosystem Condition in Norway">
<meta name="twitter:description" content="Norwegian name: Hekkefulgindikatorer Author and date: Chloé R. Nater, Diego Pavón-Jordán Oktober 2023  .cl-901c635a{table-layout:auto;}.cl-9014e0f8{font-family:'DejaVu...">
<meta name="twitter:image" content="https://ninanor.github.io/ecosystemCondition/index.html/images/Picture1.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.2/transition.js"></script><script src="libs/bs3compat-0.4.2/tabs.js"></script><script src="libs/bs3compat-0.4.2/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><link href="libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">
<script src="libs/tabwid-1.1.3/tabwid.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.6.1/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.27/datatables.js"></script><link href="libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Indicators for Ecosystem Condition in Norway</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">About </a></li>
<li class="book-part">INDICATORS</li>
<li><a class="" href="gjengroing.html"><span class="header-section-number">1</span> Enchroachment</a></li>
<li><a class="" href="nature-index-product.html"><span class="header-section-number">2</span> Nature index product</a></li>
<li><a class="" href="slitasje.html"><span class="header-section-number">3</span> Anthropogenic disturbance to soils and vegetation (ADSV)</a></li>
<li><a class="" href="median-summer-temp.html"><span class="header-section-number">4</span> Median Summer Temperature</a></li>
<li><a class="" href="alien-species.html"><span class="header-section-number">5</span> Alien species</a></li>
<li><a class="" href="functional-plant-indicators-wetland.html"><span class="header-section-number">6</span> Functional Plant Indicators - Wetlands</a></li>
<li><a class="" href="functional-plant-indicators-seminat.html"><span class="header-section-number">7</span> Functional Plant Indicators - Semi-Natural Ecosystems</a></li>
<li><a class="" href="functional-plant-indicators-open.html"><span class="header-section-number">8</span> Functional Plant Indicators - Naturally Open Ecosystems</a></li>
<li><a class="" href="trophic-level-biomass-ratios.html"><span class="header-section-number">9</span> Trophic level biomass ratios</a></li>
<li><a class="" href="insect-indicators.html"><span class="header-section-number">10</span> Insect indicators</a></li>
<li><a class="active" href="breeding-birds.html"><span class="header-section-number">11</span> Breeding bird indicators</a></li>
<li><a class="" href="connectivity.html"><span class="header-section-number">12</span> Connectivity</a></li>
<li class="book-part">R &amp; D</li>
<li><a class="" href="NDVI-indicator-natopen.html"><span class="header-section-number">13</span> NDVI - Naturally Open Ecosystems</a></li>
<li><a class="" href="NDVI-indicator-seminat.html"><span class="header-section-number">14</span> NDVI - Semi-natural Ecosystems</a></li>
<li><a class="" href="NDVI-indicator-wetland.html"><span class="header-section-number">15</span> NDVI - wetland ecosystems</a></li>
<li><a class="" href="flood-frequency.html"><span class="header-section-number">16</span> Flood frequency</a></li>
<li class="book-part">INDICATORS FROM THE ALPINE ASSESSMENT</li>
<li><a class="" href="areal-av-isbreer.html"><span class="header-section-number">17</span> Areal av isbreer</a></li>
<li class="book-part">DEPRECATED</li>
<li><a class="" href="areal-uten-d%C3%B8d-eller-skadet-r%C3%B8sslyng-i-kystlynghei.html"><span class="header-section-number">18</span> Areal uten død eller skadet røsslyng i kystlynghei</a></li>
<li class="book-part">GENERAL TOPICS</li>
<li><a class="" href="naturtype.html"><span class="header-section-number">19</span> Nature types</a></li>
<li><a class="" href="scaling-functions.html"><span class="header-section-number">20</span> Scaling functions</a></li>
<li><a class="" href="homogeneous-impact-areas.html"><span class="header-section-number">21</span> Homogeneous Impact Areas</a></li>
<li><a class="" href="master-grid.html"><span class="header-section-number">22</span> Master grid</a></li>
<li><a class="" href="climate-indicators-explained.html"><span class="header-section-number">23</span> Climate indicators explained</a></li>
<li><a class="" href="oversikt-over-indikatorforslag.html"><span class="header-section-number">24</span> Oversikt over indikatorforslag</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/NINAnor/ecosystemCondition">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="breeding-birds" class="section level1" number="11">
<h1>
<span class="header-section-number">11</span> Breeding bird indicators<a class="anchor" aria-label="anchor" href="#breeding-birds"><i class="fas fa-link"></i></a>
</h1>
<p><br>
Norwegian name: <strong>Hekkefulgindikatorer</strong>
<br></p>
<p><em>Author and date:</em></p>
<p>Chloé R. Nater,</p>
<p>Diego Pavón-Jordán</p>
<p>Oktober 2023</p>
<p><br></p>
<!-- Load all you dependencies here -->
<div class="tabwid">
<style>.cl-901c635a{table-layout:auto;}.cl-9014e0f8{font-family:'DejaVu Sans';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-9014e102{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-901844be{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-90185c1a{background-color:rgba(173, 216, 230, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90185c24{background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90185c2e{background-color:transparent;vertical-align: middle;border-bottom: 0.75pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90185c2f{background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.75pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<div class="inline-table"><table data-quarto-disable-processing="true" class="cl-901c635a">
<thead><tr style="overflow-wrap:break-word;">
<th class="cl-90185c1a"><p class="cl-901844be"><span class="cl-9014e0f8">Ecosystem</span></p></th>
<th class="cl-90185c1a"><p class="cl-901844be"><span class="cl-9014e0f8">Økologisk egenskap</span></p></th>
<th class="cl-90185c1a"><p class="cl-901844be"><span class="cl-9014e0f8">ECT class</span></p></th>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-90185c24"><p class="cl-901844be"><span class="cl-9014e102">Skog</span></p></td>
<td class="cl-90185c24"><p class="cl-901844be"><span class="cl-9014e102">Biologisk mangfold</span></p></td>
<td class="cl-90185c24"><p class="cl-901844be"><span class="cl-9014e102">Compositional state characteristic</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-90185c2e"><p class="cl-901844be"><span class="cl-9014e102">fjell</span></p></td>
<td class="cl-90185c2e"><p class="cl-901844be"><span class="cl-9014e102">Biologisk mangfold</span></p></td>
<td class="cl-90185c2e"><p class="cl-901844be"><span class="cl-9014e102">Compositional state characteristic</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-90185c2e"><p class="cl-901844be"><span class="cl-9014e102">våtmark</span></p></td>
<td class="cl-90185c2e"><p class="cl-901844be"><span class="cl-9014e102">Biologisk mangfold</span></p></td>
<td class="cl-90185c2e"><p class="cl-901844be"><span class="cl-9014e102">Compositional state characteristic</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-90185c2f"><p class="cl-901844be"><span class="cl-9014e102">seminaturlig mark</span></p></td>
<td class="cl-90185c2f"><p class="cl-901844be"><span class="cl-9014e102">Biologisk mangfold</span></p></td>
<td class="cl-90185c2f"><p class="cl-901844be"><span class="cl-9014e102">Compositional state characteristic</span></p></td>
</tr>
</tbody>
</table></div>
</div>
<br><br><hr>
<div id="intro-bb" class="section level2" number="11.1">
<h2>
<span class="header-section-number">11.1</span> Introduction<a class="anchor" aria-label="anchor" href="#intro-bb"><i class="fas fa-link"></i></a>
</h2>
<p>The Norwegian common breeding bird monitoring scheme (“hekkefuglovervåking” in Norwegian; formerly called TOV-E) was established between 2005 and 2010. The main goal of the programme is to gather data on the abundance of the most common terrestrial bird species to assess population trends and changes across Norway (available at the website), and help proposing efficient management and conservation measures for these species and their habitats in Norway. The “hekkefuglovervåking” is coordinated by NINA and BirdLife Norway and supported financially by the Norwegian Environment Agency (Miljødirektoratet), and has replaced predecessor monitoring schemes that ran from 1996 to 2008.</p>
<p>These data collected through “hekkefuglovervåkingen” form the basis for a variety of national and international assessments including nationally reported species population trends (<a href="https://hekkefuglovervakingen.nina.no/hekkefugl" class="uri">https://hekkefuglovervakingen.nina.no/hekkefugl</a>), updates to the Red List of Birds in Norway following the IUCN protocol (<a href="https://artsdatabanken.no/lister/rodlisteforarter" class="uri">https://artsdatabanken.no/lister/rodlisteforarter</a>), indicators for the Norwegian Nature Index (<a href="https://www.naturindeks.no/" class="uri">https://www.naturindeks.no/</a>), and single- and multi-species indicators that are reported nationally (<a href="https://miljostatus.miljodirektoratet.no/tema/arter/fugler/" class="uri">https://miljostatus.miljodirektoratet.no/tema/arter/fugler/</a>) and internationally to e.g. the Pan European Bird Monitoring Scheme (PECBMS, <a href="https://pecbms.info/" class="uri">https://pecbms.info/</a>) and the OECD.</p>
<p>Workflows generating outputs and numbers for several of these reporting routes are already integrated thanks to coordination and standardization efforts by PECMBS, and the calculation of breeding bird indicators for use in ecosystem condition assessments should be incorporated into the same workflow. We therefore suggest to use the same multi-species indicators in the framework for ecosystem condition assessment as are reported nationally and internationally: the established “Farmland bird index”, “Mountain bird index”, and “Forest bird index”, as well as a corresponding index for wetland birds.</p>
</div>
<div id="underlying-bb" class="section level2" number="11.2">
<h2>
<span class="header-section-number">11.2</span> About the underlying data<a class="anchor" aria-label="anchor" href="#underlying-bb"><i class="fas fa-link"></i></a>
</h2>
<p>The data from “hekkefuglovervåkingen” are gathered mostly by experienced volunteer bird-watchers following a standardized sampling protocol (<a href="https://hekkefuglovervakingen.nina.no/Fugl/public/papirskjema/MethodologyEng.pdf" class="uri">https://hekkefuglovervakingen.nina.no/Fugl/public/papirskjema/MethodologyEng.pdf</a>). Observers will visit each route once a year between 20. May and 10. June (depending on latitude) and carry out the census in good weather conditions. The observers record any bird seen or heard during 5 minutes at each of the pre-selected counting points in the route. A total of 229 species are typically recorded during this census. After 5 minutes, the observer walks to the next point in a straight line (when possible). During this ‘transect’ the observer is requested to record also a subset of species that are considered rare or difficult to capture during the 5-minute point counts (n = 121).</p>
<p>The data are subsequently entered into a database (<a href="https://hekkefuglovervakingen.nina.no/Fugl/Default.aspx" class="uri">https://hekkefuglovervakingen.nina.no/Fugl/Default.aspx</a>) and quality-checked by NINA. Subsequently, the raw data are processed using a combination of country-specific wrangling routines and internationally standardized scripts distributed by PECBMS, which together make up the now integrated workflow below:</p>
<div class="inline-figure"><img src="images/Hekkefugl_Workflow.png" width="600"></div>
<div id="rep-in-time-and-space-bb" class="section level3" number="11.2.1">
<h3>
<span class="header-section-number">11.2.1</span> Representativity in time and space<a class="anchor" aria-label="anchor" href="#rep-in-time-and-space-bb"><i class="fas fa-link"></i></a>
</h3>
<p>“Hekkefuglovervåking” is a nation-wide monitoring scheme consisting of 492 fixed routes across all terrestrial habitats present in Norway. Each route has between 12 and 20 counting points (ca. 9000 across Norway), which typically are 300 m apart, describing a square with side 1.5 km long (the observer walks on a straight line between two consecutive points). Deviations of this typical route shape are normally due to the landscape configuration (e.g. rough terrain, presence of a lake or river, sea, glacier, etc.). Due to limited resources, only a random sample of 370 routes are surveyed every year with an aim to survey at least 80% of the routes yearly.</p>
<p>This monitoring scheme is therefore designed to gather representative samples in all (common) habitats along both latitudinal and altitudinal gradients.</p>
<p>Even though implementation of the monitoring scheme started in 2005, full coverage at the national scale was not achieved until 2010.</p>
</div>
<div id="original-units-bb" class="section level3" number="11.2.2">
<h3>
<span class="header-section-number">11.2.2</span> Original units<a class="anchor" aria-label="anchor" href="#original-units-bb"><i class="fas fa-link"></i></a>
</h3>
<p>The observers in the field record “number of individuals” seen or heard during the census. Those values are then converted into “number of pairs” by multiplying the number of individuals by a conversion factor, which is 2 or 5 depending on the species (for national reporting only).
In the first step of the workflow, the raw counts are converted into species-specific abundance indices, defined as % of the population in a given baseline year (in Norway this is typically 2008). The abundance indices then form the basis of further analyses and aggregation routines.</p>
</div>
<div id="temp-coverage-bb" class="section level3" number="11.2.3">
<h3>
<span class="header-section-number">11.2.3</span> Temporal coverage<a class="anchor" aria-label="anchor" href="#temp-coverage-bb"><i class="fas fa-link"></i></a>
</h3>
<p>The “hekkefuglovervåkingen” was established in 2005 in central Norway and expanded from there to reach full national coverage by 2010. For many species, data is already of good coverage and high quality starting in 2008. The monitoring programme is still ongoing as of 2023.</p>
<p>Predecessor monitoring schemes existed prior to the establishment of “hekkefuglovervåkingen” and led to the collection of decent data in the period from 1996 up to and including 2008.
Although the predecessor monitoring programmes and “hekkefuglovervåkingen” are not the same, the overlap for the years 2007 and 2008 makes it possible to combine abundance indices from across time using tools like “RSWAN”, which is provided by PECBMS. For a subset of 55 species, longer time-series of abundance indices (1996-2022, as of now) are therefore available.</p>
</div>
<div id="additional-comments-bb" class="section level3" number="11.2.4">
<h3>
<span class="header-section-number">11.2.4</span> Aditional comments about the dataset<a class="anchor" aria-label="anchor" href="#additional-comments-bb"><i class="fas fa-link"></i></a>
</h3>
<p>From all species recorded within the Norwegian common breeding bird monitoring scheme (n = 229), 85 have sufficient data for abundance trend analyses. Abundance indices of 71 of those species, representing those with wide distributions and high continental-scale relevance, are reported annually to PECBMS. Longer (combined) time series can be calculated for 55 species, and 54 of those serve as indicators in the Norwegian Nature Index. The established breeding bird indicators contain varying numbers of species: the farmland bird index has 7 species, the mountain bird index has 8 species, and the forest bird index has 24 species. For the new index for wetland birds, we used 7 out of the 8 species suggested for this purpose by <span class="citation">Magne Husby and John Atle Kålås<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;&lt;span&gt;“Terrestriske Fuglearter Som Indikatorer for b&lt;span&gt;æ&lt;/span&gt;rekraftig Utvikling i Norge: Tilstanden i Ulike Naturtyper Og Effekter Av Klimaendring,”&lt;/span&gt; &lt;em&gt;Utredning&lt;/em&gt;, 2011, &lt;a href="https://nordopen.nord.no/nord-xmlui/handle/11250/146439" role="doc-biblioref"&gt;https://nordopen.nord.no/nord-xmlui/handle/11250/146439&lt;/a&gt;.&lt;/p&gt;'><sup>7</sup></a></span>. The one species we dropped was the Common Crane <em>(Grus grus)</em> as it has seen strong recent population increases that are linked to anthropogenic impacts unrelated to the status of their wetland breeding habitats (Bård Stokke, pers. communication).</p>
</div>
</div>
<div id="ecosystem-characteristics-bb" class="section level2" number="11.3">
<h2>
<span class="header-section-number">11.3</span> Ecosystem characteristic<a class="anchor" aria-label="anchor" href="#ecosystem-characteristics-bb"><i class="fas fa-link"></i></a>
</h2>
<div id="norwegian-standard-4" class="section level3" number="11.3.1">
<h3>
<span class="header-section-number">11.3.1</span> Norwegian standard<a class="anchor" aria-label="anchor" href="#norwegian-standard-4"><i class="fas fa-link"></i></a>
</h3>
<p>Breeding bird indicators are regarded as indicators of biodiversity (“biologisk mangfold”).
It is important to note though that the indicators represent species abundance (trends) in this context and are <strong>not</strong> indicators of species richness or species distribution.</p>
</div>
<div id="seea-ea-un-standard-1" class="section level3" number="11.3.2">
<h3>
<span class="header-section-number">11.3.2</span> SEEA EA (UN standard)<a class="anchor" aria-label="anchor" href="#seea-ea-un-standard-1"><i class="fas fa-link"></i></a>
</h3>
<p>Breeding bird indicators are tagged as “Compositional state characteristic”.
We develop the indicators here to be as consistent as possible with the internationally reported and well-established farmland bird index (<a href="https://agridata.ec.europa.eu/Qlik_Downloads/InfoSheetEnvironmental/infoC35.html" class="uri">https://agridata.ec.europa.eu/Qlik_Downloads/InfoSheetEnvironmental/infoC35.html</a>) and common bird indices (<a href="https://www.eea.europa.eu/ims/abundance-and-distribution-of-selected" class="uri">https://www.eea.europa.eu/ims/abundance-and-distribution-of-selected</a>).</p>
</div>
</div>
<div id="collinearities-with-other-indicators-9" class="section level2" number="11.4">
<h2>
<span class="header-section-number">11.4</span> Collinearities with other indicators<a class="anchor" aria-label="anchor" href="#collinearities-with-other-indicators-9"><i class="fas fa-link"></i></a>
</h2>
<p>Several species that are part of the breeding bird indicators are also part of the Norwegian Nature Index (NI). For some ecosystems, e.g. wetlands, NI is dominated by bird indicators, potentially leading to substantial collinearity with the corresponding breeding bird index. In the chapter on NI products, we suggest to remove bird indicators from NI products when using them in ecosystem condition assessments that also make use of composite breeding bird indicators.</p>
</div>
<div id="ref-con-and-vals-bb" class="section level2" number="11.5">
<h2>
<span class="header-section-number">11.5</span> Reference condition and values<a class="anchor" aria-label="anchor" href="#ref-con-and-vals-bb"><i class="fas fa-link"></i></a>
</h2>
<div id="ref-con-bb" class="section level3" number="11.5.1">
<h3>
<span class="header-section-number">11.5.1</span> Reference condition<a class="anchor" aria-label="anchor" href="#ref-con-bb"><i class="fas fa-link"></i></a>
</h3>
<p>In general, the reference condition for breeding bird indicators should be defined along the same lines as for the other indicators in ecological condition assessments.</p>
<p>The internationally established composite bird indicators (farmland bird index, common bird index, etc.), however, are trend indicators that can be presented with a few different baseline years. It is the availability of monitoring data of sufficient quality that determines which years may be used as baselines, and the “hekkefuglovervåkingen”, the monitoring programme that supplies the data for the Norwegian breeding bird indicators, has been running since 2007/2008. For some species, predecessor monitoring schemes have been providing data since 1996. The possible baselines for the breeding bird indicators can therefore be no earlier than 1996 or 2008 depending on the species (assemblage), and using baselines consistent with the other nationally (<a href="https://miljostatus.miljodirektoratet.no/tema/arter/fugler/" class="uri">https://miljostatus.miljodirektoratet.no/tema/arter/fugler/</a>; <a href="https://hekkefuglovervakingen.nina.no/Fugl/Default.aspx" class="uri">https://hekkefuglovervakingen.nina.no/Fugl/Default.aspx</a>) and internationally reported indices (<a href="https://pecbms.info/trends-and-indicators/" class="uri">https://pecbms.info/trends-and-indicators/</a>) seems sensible.</p>
<p>We note that composite breeding bird indicators could also be built as <a href="%22nature-index-product">Nature Index (NI) product</a> (see separate chapters). For the species included in NI, reference values corresponding to “ecosystems with minimal human impacts” were determined previously, and an NI product for a selection of breeding birds would therefore be an indicator taking values between 0 and 1, where 1 = reference condition.
We refer to the chapter on NI products for more information (and implementation code) for this alternative approach.</p>
</div>
<div id="ref-vals-bb" class="section level3" number="11.5.2">
<h3>
<span class="header-section-number">11.5.2</span> Reference values, thresholds for defining <em>good ecological condition</em>, minimum and/or maximum values<a class="anchor" aria-label="anchor" href="#ref-vals-bb"><i class="fas fa-link"></i></a>
</h3>
<p>The breeding bird indicators represent average trends relative to a reference year and are therefore scaled with respect to population size in the reference year. Therefore, the indicator value in the reference year is 100 (percent). In theory, the indicators can take values between 0 (representing complete extinction of all species) and infinity (infinite population increase).
The reference value 100 represents unchanged abundance relative to the reference year.</p>
<p>Determining a threshold for what level of decrease in bird abundance is acceptable under “good ecological condition”, however, is a challenging task.
One approach to setting a threshold may be to consider thresholds of population decline used in other frameworks. The IUCN Red List of threatened species, for example, considers single species as “endangered” when a population decrease of 30% or more has been observed for the most recent decade or over the most recent 3 generations.<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;IUCN Species Survival Commission et al., &lt;span&gt;“IUCN Red List Categories and Criteria: Version3. 1,”&lt;/span&gt; &lt;em&gt;Https://Portals.iucn.org/Library/Sites/Library/Files/Documents/RL-2001-001-2nd.pdf&lt;/em&gt;, 2001.&lt;/p&gt;"><sup>8</sup></a></span> While it is unclear to what degree that can (or should) be extended to assemblages of multiple species, one may use this as a guideline to stipulate that &gt;70% of the original population (indicator value 70 when considering a recent trend over 10 years or 3 average generations) should be present (i.e. the species assemblage should not be endangered) when the ecosystem is in good condition. Another approach to determining a threshold would be to assume that bird populations should not be declining at all if an ecosystem is in good condition, i.e. that 100 is the threshold for good ecological condition instead of the reference value. In that case, however, one may need to come up with a reference value that is greater than 100, and determining what level of population increase would be ideal is a nearly impossible task.
We want to highlight here that these are very preliminary thoughts, and that the reference and threshold values have not been discussed in any more details yet. These discussions will nonetheless be needed, and possibly augmented with simulation studies, before putting the breeding bird indicators to use for ecosystem condition assessments.</p>
</div>
</div>
<div id="errors-bb" class="section level2" number="11.6">
<h2>
<span class="header-section-number">11.6</span> Uncertainties<a class="anchor" aria-label="anchor" href="#errors-bb"><i class="fas fa-link"></i></a>
</h2>
<p>There is a substantial amount of uncertainty related to which year should be considered as a baseline and how the reference and threshold values should be set (see preceeding section). This is also closely related to a second question that requires discussion: over what time period should breeding bird indicators be considered in ecosystem condition assessments? One option would be to use an average over the entire period with available data). Alternatively, averages over shorter periods leading up to the year for which ecosystem condition should be assessed. This will require some careful evaluation.</p>
<p>Another source of uncertainty comes from the assumption that multi-species abundance indices use a representative selection of species sampled in a representative set of habitats. However, due to resource- and logistic constraints, that is often not the case and non-random sampling along, for example, rural-urban gradients may bias breeding bird indices derived from data from “hekkefuglovervåkingen.”<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Magne Husby, Katrine S Hoset, and Simon Butler, &lt;span&gt;“Non-Random Sampling Along Rural–Urban Gradients May Reduce Reliability of Multi-Species Farmland Bird Indicators and Their Trends,”&lt;/span&gt; &lt;em&gt;Ibis&lt;/em&gt; 163, no. 2 (2021): 579–92.&lt;/p&gt;"><sup>9</sup></a></span></p>
</div>
<div id="refs-bb" class="section level2" number="11.7">
<h2>
<span class="header-section-number">11.7</span> References<a class="anchor" aria-label="anchor" href="#refs-bb"><i class="fas fa-link"></i></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-certain2011" class="csl-entry">
Certain, Grégoire, Olav Skarpaas, Jarle-Werner Bjerke, Erik Framstad, Markus Lindholm, Jan-Erik Nilsen, Ann Norderhaug, et al. <span>“The Nature Index: A General Framework for Synthesizing Knowledge on the State of Biodiversity.”</span> <em>Plos One</em> 6, no. 4 (2011): e18930.
</div>
<div id="ref-iucn2001" class="csl-entry">
Commission, IUCN Species Survival et al. <span>“IUCN Red List Categories and Criteria: Version3. 1.”</span> <em>Https://Portals.iucn.org/Library/Sites/Library/Files/Documents/RL-2001-001-2nd.pdf</em>, 2001.
</div>
<div id="ref-husby2021" class="csl-entry">
Husby, Magne, Katrine S Hoset, and Simon Butler. <span>“Non-Random Sampling Along Rural–Urban Gradients May Reduce Reliability of Multi-Species Farmland Bird Indicators and Their Trends.”</span> <em>Ibis</em> 163, no. 2 (2021): 579–92.
</div>
<div id="ref-husby2011" class="csl-entry">
Husby, Magne, and John Atle Kålås. <span>“Terrestriske Fuglearter Som Indikatorer for b<span>æ</span>rekraftig Utvikling i Norge: Tilstanden i Ulike Naturtyper Og Effekter Av Klimaendring.”</span> <em>Utredning</em>, 2011. <a href="https://nordopen.nord.no/nord-xmlui/handle/11250/146439">https://nordopen.nord.no/nord-xmlui/handle/11250/146439</a>.
</div>
<div id="ref-jakobsson2020" class="csl-entry">
Jakobsson, Simon, and Bård Pedersen. <span>“Naturindeks for Norge 2020. Tilstand Og Utvikling for Biologisk Mangfold.”</span> <em>NINA Rapport</em>, 2020.
</div>
<div id="ref-nybo2008b" class="csl-entry">
Nybø, Signe, and Olav Skarpaas. <span>“Naturindeks. Utpr<span>ø</span>ving Av Metode i Midt-Norge.”</span> <em>NINA Rapport</em>, 2008.
</div>
<div id="ref-nybo2008a" class="csl-entry">
Nybø, Signe, Olav Skarpaas, Erik Framstad, and John Atle Kålås. <span>“Naturindeks for Norge–Forslag Til Rammeverk.”</span> <em>NINA Rapport</em>, 2008.
</div>
<div id="ref-pedersen2015" class="csl-entry">
Pedersen, Bård, and Signe Nybø. <span>“Naturindeks for Norge 2015. <span>Ø</span>kologisk Rammeverk, Beregningsmetoder, Datalagring Og Nettbasert Formidling.”</span> <em>NINA Rapport</em>, 2015.
</div>
<div id="ref-pedersen2012" class="csl-entry">
Pedersen, Bård, and Olav Skarpaas. <span>“Statistiske Egenskaper Til Naturindeks for Norge. Usikkerhet i Datagrunnlaget Og Sensitivitet.”</span> <em>NINA Rapport</em>, 2012.
</div>
</div>
</div>
<div id="analyses-bb" class="section level2" number="11.8">
<h2>
<span class="header-section-number">11.8</span> Analyses<a class="anchor" aria-label="anchor" href="#analyses-bb"><i class="fas fa-link"></i></a>
</h2>
<div id="workflow-setup" class="section level3" number="11.8.1">
<h3>
<span class="header-section-number">11.8.1</span> Workflow setup<a class="anchor" aria-label="anchor" href="#workflow-setup"><i class="fas fa-link"></i></a>
</h3>
<p>The code for the following analyses has been developed in a separate GitHub repository: <a href="https://github.com/NINAnor/birdIndicators" class="uri">https://github.com/NINAnor/birdIndicators</a>
As a first step, we therefore need to read in all the functions from that repository. The repository has not been converted into a package yet, so we need to download the entire repository and source all function files in the “R” folder manually:</p>
<div class="sourceCode" id="cb402"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html">download.file</a></span><span class="op">(</span>url <span class="op">=</span> <span class="st">"https://github.com/NINAnor/birdIndicators/archive/refs/heads/main.zip"</span>,</span>
<span>              destfile <span class="op">=</span> <span class="st">"temp/birdIndicators_Repo.zip"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/unzip.html">unzip</a></span><span class="op">(</span>zipfile <span class="op">=</span> <span class="st">"temp/birdIndicators_Repo.zip"</span>,</span>
<span>      exdir <span class="op">=</span> <span class="st">"temp"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sourceDir</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">path</span>, <span class="va">trace</span> <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">nm</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html">list.files</a></span><span class="op">(</span><span class="va">path</span>, pattern <span class="op">=</span> <span class="st">"[.][RrSsQq]$"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span><span class="op">(</span><span class="va">trace</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">nm</span>,<span class="st">":"</span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="va">path</span>, <span class="va">nm</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span>    <span class="kw">if</span><span class="op">(</span><span class="va">trace</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"\n"</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">sourceDir</span><span class="op">(</span><span class="st">"temp/birdIndicators-main/R"</span><span class="op">)</span></span></code></pre></div>
<p>Next, we need to define a range of relative and absolute directories / file paths. The main reason for that is that many of the scripts delivered by PECBMS function by iteratively writing and reading files in a specific folder structure. Whenever possible, I have written wrapper functions around the PECBMS code that work with relative paths, but absolute paths are still necessary for the scripts involved in the RSWAN routine as that workflow toggles between different working directories using <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code> repeatedly. Additionally, the RSWAN workflow also uses some helper functions that include changing working directories that are not provided as function arguments but instead need to be globally defined.</p>
<p>While all code would ideally be rewritten to work with relative paths and without toggling working directories, PECBMS tends to distribute new versions of their scripts periodically and with no formal version control in place. This means that it is imperative to leave their core code as untouched as possible to facilitate including new versions (by copy paste) as they come.</p>
<p>Hence we set up both relative and absolute file paths (note that I construct the latter relative to the project working directory to ensure a minimum of portability):</p>
<div class="sourceCode" id="cb403"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Relative directory/file paths</span></span>
<span></span>
<span><span class="co"># Storage of raw PECBMS Trim outputs</span></span>
<span><span class="va">folder</span> <span class="op">&lt;-</span> <span class="st">"PECBMS_Files"</span> </span>
<span></span>
<span><span class="co"># Storage of processed PECBMS Trim outputs</span></span>
<span><span class="va">subFolderName</span> <span class="op">&lt;-</span> <span class="st">"Species_files"</span> </span>
<span></span>
<span><span class="co"># Relative general and working folders for RSWAN</span></span>
<span><span class="va">general_folder_rel</span> <span class="op">&lt;-</span> <span class="st">"data"</span></span>
<span><span class="va">working_folder_rel</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">folder</span>, <span class="st">"/"</span>, <span class="va">subFolderName</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Storage of MSI results</span></span>
<span><span class="va">MSI_results_folder</span> <span class="op">&lt;-</span> <span class="st">"MSI_Results"</span></span>
<span></span>
<span></span>
<span><span class="co">## Absolute directory/file paths</span></span>
<span></span>
<span><span class="co"># NINAs local storage of legacy Trim output files</span></span>
<span><span class="va">legacyFile_folder</span> <span class="op">&lt;-</span> <span class="st">"P:/41201612_naturindeks_2021_2023_database_og_innsynslosning/Hekkefugl_Dataflyt/LegacyFiles_PECBMS_Trim"</span></span>
<span></span>
<span><span class="co"># Absolute data and output paths for RSWAN </span></span>
<span><span class="va">general_folder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/"</span>, <span class="va">general_folder_rel</span><span class="op">)</span></span>
<span><span class="va">working_folder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/"</span>, <span class="va">working_folder_rel</span><span class="op">)</span></span>
<span></span>
<span><span class="va">output_folder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">working_folder</span>, <span class="st">"/output/"</span><span class="op">)</span> </span>
<span><span class="va">output_folder2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">working_folder</span>, <span class="st">"/output"</span><span class="op">)</span> </span>
<span></span>
<span></span>
<span><span class="co">## Create directories if they are not available</span></span>
<span><span class="va">dir.list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">folder</span>, <span class="va">general_folder_rel</span>, <span class="va">working_folder_rel</span>, <span class="va">output_folder2</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">dir.list</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files.html">file.exists</a></span><span class="op">(</span><span class="va">dir.list</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">{</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/files2.html">dir.create</a></span><span class="op">(</span><span class="va">dir.list</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div id="datasets-bb" class="section level3" number="11.8.2">
<h3>
<span class="header-section-number">11.8.2</span> Data sets<a class="anchor" aria-label="anchor" href="#datasets-bb"><i class="fas fa-link"></i></a>
</h3>
<p>The workflow relies on two major sources of data: the up-to-date raw data from “hekkefuglovervåkingen” and the calculated abundance indices from the predecessor monitoring schemes. Additionally, we also use a couple of lists holding information on which species (and years) are to be included in which parts of the analytical workflow.</p>
<div id="monitoring-data-from-hekkefuglovervåkingen" class="section level4" number="11.8.2.1">
<h4>
<span class="header-section-number">11.8.2.1</span> Monitoring data from “Hekkefuglovervåkingen”<a class="anchor" aria-label="anchor" href="#monitoring-data-from-hekkefugloverv%C3%A5kingen"><i class="fas fa-link"></i></a>
</h4>
<p>The route-based raw data from “hekkefuglovervåkingen” are compiled after each breeding season and stored in NINA’s database. From that database we download the data relevant for the PECBMS Trim analyses and for the specified range of years (here from 2006 up to and including 2022). The function <code>downloadData_TRIM</code> does that for a specified year range (from <code>minYear</code> up to and including <code>maxYear</code>), and requires specifying which driver is used for accessing the database (via argument <code>DriverName</code>). When running from the NINA RStudio server, we need to use “FreeTDS”. When running locally from NINA computers, we need to select “SQL Server”.
Note that downloading this data requires user-specific access privileges which can be requested from NINA.</p>
<div class="sourceCode" id="cb404"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">minYear</span> <span class="op">&lt;-</span> <span class="fl">2006</span></span>
<span><span class="va">maxYear</span> <span class="op">&lt;-</span> <span class="fl">2022</span></span>
<span></span>
<span><span class="va">Trim_data</span> <span class="op">&lt;-</span> <span class="fu">downloadData_TRIM</span><span class="op">(</span>minYear <span class="op">=</span> <span class="va">minYear</span>, maxYear <span class="op">=</span> <span class="va">maxYear</span>,</span>
<span>                               drop_negativeSpp <span class="op">=</span> <span class="cn">TRUE</span>, DriverName <span class="op">=</span> <span class="st">"FreeTDS"</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="pecbms-trim-results-from-predecessor-monitoring-programme" class="section level4" number="11.8.2.2">
<h4>
<span class="header-section-number">11.8.2.2</span> PECBMS Trim results from predecessor monitoring programme<a class="anchor" aria-label="anchor" href="#pecbms-trim-results-from-predecessor-monitoring-programme"><i class="fas fa-link"></i></a>
</h4>
<p>The abundance indices generated by the PECBMS RTRIM workflow using data from the predecessor scheme are stored in NINAs local file repositories. Unlike the Trim analyses for the data from “hekkefuglovervåkingen”, which are re-run every year after new data has been added, the old abundance indices remain unchanged as no new data are being added.
These data are needed for the RSWAN workflow, and they need to be present in the respective “working_folder”. So we copy them from their location in NINA’s local file storage into the correct folder for analyses.</p>
<div class="sourceCode" id="cb405"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">collectSpeciesFiles_Legacy</span><span class="op">(</span>origin_folder <span class="op">=</span> <span class="va">legacyFile_folder</span>,</span>
<span>                           target_folder <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">folder</span>, <span class="st">"/"</span>, <span class="va">subFolderName</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="lists-of-species-information" class="section level4" number="11.8.2.3">
<h4>
<span class="header-section-number">11.8.2.3</span> Lists of species information<a class="anchor" aria-label="anchor" href="#lists-of-species-information"><i class="fas fa-link"></i></a>
</h4>
<p>The species list files should have been downloaded together with the rest of the <code>birdIndicators</code> repository and we can use <code>makeSpeciesLists()</code> to assemble the information.</p>
<div class="sourceCode" id="cb406"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sppLists</span> <span class="op">&lt;-</span> <span class="fu">makeSpeciesLists</span><span class="op">(</span>Trim_data <span class="op">=</span> <span class="va">Trim_data</span>, spp_DataPath <span class="op">=</span> <span class="st">"temp/birdIndicators-main/data"</span><span class="op">)</span></span>
<span><span class="va">Spp_selection</span> <span class="op">&lt;-</span> <span class="va">sppLists</span><span class="op">$</span><span class="va">sppData</span></span></code></pre></div>
<p>The table <code>Spp_selection</code> contains information for each species on which reporting routes is should be included in. The multispecies indices are grouped into a single category (“MSI”) here, but we can extract the species that go into the MSI for each ecosystem via the additionally provided lists.</p>
<p>Farmland MSI species:</p>
<ul>
<li>Alauda arvensis</li>
<li>Emberiza citrinella</li>
<li>Hirundo rustica</li>
<li>Motacilla alba</li>
<li>Numenius arquata</li>
<li>Sturnus vulgaris</li>
<li>Vanellus vanellus</li>
</ul>
<p>Forest MSI species:</p>
<ul>
<li>Anthus trivialis</li>
<li>Certhia familiaris</li>
<li>Dendrocopos major</li>
<li>Dryocopus martius</li>
<li>Erithacus rubecula</li>
<li>Fringilla coelebs</li>
<li>Garrulus glandarius</li>
<li>Hippolais icterina</li>
<li>Lophophanes cristatus</li>
<li>Muscicapa striata</li>
<li>Periparus ater</li>
<li>Phoenicurus phoenicurus</li>
<li>Phylloscopus collybita</li>
<li>Phylloscopus trochilus</li>
<li>Poecile montanus</li>
<li>Prunella modularis</li>
<li>Pyrrhula pyrrhula</li>
<li>Regulus regulus</li>
<li>Sylvia atricapilla</li>
<li>Sylvia borin</li>
<li>Turdus iliacus</li>
<li>Turdus merula</li>
<li>Turdus philomelos</li>
<li>Turdus viscivorus</li>
</ul>
<p>Mountain MSI species:</p>
<ul>
<li>Anthus pratensis</li>
<li>Calcarius lapponicus</li>
<li>Lagopus lagopus</li>
<li>Lagopus muta</li>
<li>Luscinia svecica</li>
<li>Oenanthe oenanthe</li>
<li>Pluvialis apricaria</li>
<li>Turdus torquatus</li>
</ul>
<p>Wetlands MSI species:</p>
<ul>
<li>Emberiza schoeniclus</li>
<li>Gallinago gallinago</li>
<li>Motacilla flava</li>
<li>Numenius phaeopus</li>
<li>Tringa glareola</li>
<li>Tringa nebularia</li>
<li>Tringa totanus</li>
</ul>
</div>
<div id="regions-bb" class="section level4" number="11.8.2.4">
<h4>
<span class="header-section-number">11.8.2.4</span> Regions<a class="anchor" aria-label="anchor" href="#regions-bb"><i class="fas fa-link"></i></a>
</h4>
<p>As per now, the breeding bird indicators are calculated at the national scale only and the data is therefore not linked to any geofiles here.</p>
<p>We note that some species may be sufficiently common and have enough data to allow for calculating indicator values for two major regions, Northern Norway and Southern Norway, but this requires careful evaluation that needs to be planned and organized as part of a future project.</p>
</div>
</div>
<div id="pecbms-rtrim-analyses" class="section level3" number="11.8.3">
<h3>
<span class="header-section-number">11.8.3</span> PECBMS RTRIM analyses<a class="anchor" aria-label="anchor" href="#pecbms-rtrim-analyses"><i class="fas fa-link"></i></a>
</h3>
<p>In the next step, the downloaded raw data get analysed and converted into species-specific abundance indices using the RTRIM approach (“<strong>TR</strong>ends and <strong>I</strong>ndices for <strong>M</strong>onitoring data”,).<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;&lt;strong&gt;R-rtrim2020?&lt;/strong&gt;&lt;/p&gt;"><sup>10</sup></a></span> The RTRIM analyses are run for a subset of 85 species which have sufficient data for it and using the standardized scripts provided by PECBMS (more information on <a href="https://pecbms.info/methods/software/trim/" class="uri">https://pecbms.info/methods/software/trim/</a>).
For the application here, we have written wrapper function around the PECBMS code for each step of the RTRIM workflow.</p>
<div class="sourceCode" id="cb407"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Write PECBMS arguments input files for each species</span></span>
<span><span class="va">argument_file</span> <span class="op">&lt;-</span> <span class="fu">setupInputFiles_PECBMS_trimShell</span><span class="op">(</span>Spp_selection <span class="op">=</span> <span class="va">Spp_selection</span>,</span>
<span>                                                  folderPath <span class="op">=</span> <span class="va">folder</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Subset data to contain only relevant species</span></span>
<span><span class="va">PECBMS_data</span> <span class="op">&lt;-</span> <span class="fu">makeInputData_PECBMS</span><span class="op">(</span>Trim_data <span class="op">=</span> <span class="va">Trim_data</span>,</span>
<span>                                    Spp_selection <span class="op">=</span> <span class="va">Spp_selection</span>,</span>
<span>                                    convertNA <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                                    save_allSppData <span class="op">=</span> <span class="cn">TRUE</span>, returnData <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Run analyses using the PECBMS Rtrim shell</span></span>
<span><span class="fu">runRtrimShell_PECBMS</span><span class="op">(</span>folder <span class="op">=</span> <span class="va">folder</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Process results</span></span>
<span><span class="va">trimResults_PECBMS</span> <span class="op">&lt;-</span> <span class="fu">processRtrimOutput_PECBMS</span><span class="op">(</span>folder <span class="op">=</span> <span class="va">folder</span><span class="op">)</span></span></code></pre></div>
<p>The results of the the RTRIM workflow are a series of .csv and .txt files. These are delivered directly to PECBMS each year after the analyses have been run. Prior to delivery, they get copied into a designated folder:</p>
<div class="sourceCode" id="cb408"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Collect (and rename) species and summary files</span></span>
<span><span class="fu">collectSpeciesFiles_PECBMS</span><span class="op">(</span>folder <span class="op">=</span> <span class="va">folder</span>, </span>
<span>                           subFolderName <span class="op">=</span> <span class="va">subFolderName</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="combining-data-series-using-rswan" class="section level3" number="11.8.4">
<h3>
<span class="header-section-number">11.8.4</span> Combining data series using RSWAN<a class="anchor" aria-label="anchor" href="#combining-data-series-using-rswan"><i class="fas fa-link"></i></a>
</h3>
<p>For 55 of the 85 species, RTRIM analyses have also been run using data from the predecessor monitoring schemes. The RTRIM output files from both old and new analyses should now be present in the same folder.
From there, they enter into the next step of the workflow: PECBMS’ RSWAN routine. This is based on another set of scripts distributed through PECBMS which combine RTRIM outputs from different monitoring schemes / time periods.</p>
<p>Again, we have written wrapper functions around the scripts from PECBMS to make for a more streamlined and automated workflow:</p>
<div class="sourceCode" id="cb409"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Write/load schedule table</span></span>
<span><span class="fu">writeSchedule_SWAN</span><span class="op">(</span>working_folder <span class="op">=</span> <span class="va">working_folder_rel</span>, </span>
<span>                   general_folder <span class="op">=</span> <span class="va">general_folder_rel</span>,</span>
<span>                   MSI_speciesList <span class="op">=</span> <span class="va">sppLists</span><span class="op">$</span><span class="va">sppLists</span><span class="op">$</span><span class="va">MSI</span>,</span>
<span>                   loadSchedule <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Truncate first survey year where neccessary</span></span>
<span><span class="fu">correctFirstSurveyYear_SWAN</span><span class="op">(</span>general_folder <span class="op">=</span> <span class="va">general_folder_rel</span>, </span>
<span>                            working_folder <span class="op">=</span> <span class="va">working_folder_rel</span>,</span>
<span>                            maxYear <span class="op">=</span> <span class="fl">2022</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Run RSWAN</span></span>
<span><span class="fu">combineTimeSeries_SWAN</span><span class="op">(</span>general_folder_abs <span class="op">=</span> <span class="va">general_folder</span>,</span>
<span>                       working_folder_abs <span class="op">=</span> <span class="va">working_folder</span><span class="op">)</span></span></code></pre></div>
<p>Running RSWAN requires some additional files that are provided by PECBMS, currently: “Swan_schedules.csv”, “Swan_schedules_comb.csv”, “Species_Countries.csv”, and “New_notorics_2022.xlsx”.</p>
<p>(Once we turn <code>birdIndicators</code> into a package, we may add the content of these as integrated data. Although we would then need a function to write them to files as the core scripts from PECBMS need them to be files).</p>
<p>THe RSWAN routine produces output files for the selected 55 species that are equivalent to those produced by the RTRIM workflow, but have a prefix “COMB” to indicate that they are based on combined time series.</p>
</div>
<div id="aggregation-to-multi-species-indices-msis" class="section level3" number="11.8.5">
<h3>
<span class="header-section-number">11.8.5</span> Aggregation to multi-species indices (MSIs)<a class="anchor" aria-label="anchor" href="#aggregation-to-multi-species-indices-msis"><i class="fas fa-link"></i></a>
</h3>
<p>The breeding bird indicators for ecosystem condition assessments are mutli-species indices (MSIs) calculated following the guidelines from PECBMS (<a href="https://www.cbs.nl/en-gb/society/nature-and-environment/indices-and-trends--trim--/msi-tool" class="uri">https://www.cbs.nl/en-gb/society/nature-and-environment/indices-and-trends--trim--/msi-tool</a>) and using the algorithm of.<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;&lt;strong&gt;soldaat2017?&lt;/strong&gt;&lt;/p&gt;"><sup>11</sup></a></span></p>
<p>The function for calculating MSIs requires specifying whether or not to make use of combined time series generated by RSWAN (argument <code>useCombTS</code>), which year to use as a base/reference (argument <code>baseYear</code>), and which year to use as a changepoint (argument <code>changepointYear</code>). The choice of change point year does not affect index values, but specifies until and from which year additional, shorter term trends should be calculated (i.e. if <code>changepointYear = 2008</code>, the procedure will additionally provide trend estimates from starting year to 2008, and from 2008 to the last year in the data).</p>
<div class="sourceCode" id="cb410"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">useCombTS</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span><span class="va">baseYear</span> <span class="op">&lt;-</span> <span class="fl">1996</span></span>
<span><span class="va">changepointYear</span> <span class="op">&lt;-</span> <span class="fl">2008</span></span></code></pre></div>
<p>The function also requires us to provide a name (argument) and a list of EURING codes of species to include (argument ). We list these for all four ecosystem indices:</p>
<div class="sourceCode" id="cb411"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">IndexNames</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"FarmlandBirds"</span>, <span class="st">"ForestBirds"</span>, <span class="st">"MountainBirds"</span>, <span class="st">"WetlandBirds"</span><span class="op">)</span></span>
<span><span class="va">Index_sppLists</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">sppLists</span><span class="op">$</span><span class="va">sppLists</span><span class="op">$</span><span class="va">MSI_farmland</span>,</span>
<span>                       <span class="va">sppLists</span><span class="op">$</span><span class="va">sppLists</span><span class="op">$</span><span class="va">MSI_forest</span>,</span>
<span>                       <span class="va">sppLists</span><span class="op">$</span><span class="va">sppLists</span><span class="op">$</span><span class="va">MSI_mountain</span>,</span>
<span>                       <span class="va">sppLists</span><span class="op">$</span><span class="va">sppLists</span><span class="op">$</span><span class="va">MSI_wetlands</span><span class="op">)</span></span></code></pre></div>
<p>First, we will calculate the farmland and forest bird indices starting from 1996 and using that year as the reference.</p>
<div class="sourceCode" id="cb412"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MSI_longTerm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html">message</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">crayon</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/crayon/man/crayon.html">bold</a></span><span class="op">(</span><span class="st">"Calculating "</span>, <span class="va">IndexNames</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="st">" Index..."</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">calculateIndex_MultiSpecies</span><span class="op">(</span>working_folder <span class="op">=</span> <span class="va">working_folder_rel</span>, </span>
<span>                                         Spp_subset <span class="op">=</span> <span class="va">Index_sppLists</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>, </span>
<span>                                         IndexName <span class="op">=</span> <span class="va">IndexNames</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, </span>
<span>                                         results_folder <span class="op">=</span> <span class="va">MSI_results_folder</span>,</span>
<span>                                         useCombTS <span class="op">=</span> <span class="va">useCombTS</span>,</span>
<span>                                         baseYear <span class="op">=</span> <span class="va">baseYear</span>,</span>
<span>                                         changepointYear <span class="op">=</span> <span class="va">changepointYear</span><span class="op">)</span></span>
<span>  <span class="va">MSI_longTerm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">MSI_longTerm</span>, <span class="va">results</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html">message</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The MSI is provided both as point estimates (<code>MSI</code>) with associated standard error (<code>sd_MSI</code>) and confidence interval (<code>lower_CL_MSI</code> and <code>upper_CL_MSI</code>), and as a smoothed trend model fit (characterised by an average trend, <code>Trend</code>, and an associated confidence interval, <code>lower_CL_trend</code> and <code>upper_CL_trend</code>):</p>
<div class="sourceCode" id="cb413"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">MSI_longTerm</span><span class="op">)</span></span>
<span><span class="co">#&gt;   year    MSI sd_MSI lower_CL_MSI upper_CL_MSI  Trend</span></span>
<span><span class="co">#&gt; 1 1996  99.65   0.00        99.65        99.65 100.00</span></span>
<span><span class="co">#&gt; 2 1997  95.02   6.61        82.91       108.91  99.59</span></span>
<span><span class="co">#&gt; 3 1998  99.36   7.12        86.34       114.34  98.77</span></span>
<span><span class="co">#&gt; 4 1999 100.39   7.02        87.53       115.13  97.53</span></span>
<span><span class="co">#&gt; 5 2000 104.04   7.35        90.59       119.49  95.91</span></span>
<span><span class="co">#&gt; 6 2001  92.17   6.86        79.67       106.63  93.92</span></span>
<span><span class="co">#&gt;   lower_CL_trend upper_CL_trend      trend_class</span></span>
<span><span class="co">#&gt; 1          93.36         106.32 moderate_decline</span></span>
<span><span class="co">#&gt; 2          94.30         105.26 moderate_decline</span></span>
<span><span class="co">#&gt; 3          94.30         103.18 moderate_decline</span></span>
<span><span class="co">#&gt; 4          93.36         102.15 moderate_decline</span></span>
<span><span class="co">#&gt; 5          91.51         100.13 moderate_decline</span></span>
<span><span class="co">#&gt; 6          89.70          98.15 moderate_decline</span></span>
<span><span class="co">#&gt;       IndexName</span></span>
<span><span class="co">#&gt; 1 FarmlandBirds</span></span>
<span><span class="co">#&gt; 2 FarmlandBirds</span></span>
<span><span class="co">#&gt; 3 FarmlandBirds</span></span>
<span><span class="co">#&gt; 4 FarmlandBirds</span></span>
<span><span class="co">#&gt; 5 FarmlandBirds</span></span>
<span><span class="co">#&gt; 6 FarmlandBirds</span></span></code></pre></div>
<p>Additionally, the results are saved as a standardized set of files used for reporting to PECBMS.</p>
<p>We can then visualize the results both as point MSI only and as point MSI + trend fit:</p>
<div class="sourceCode" id="cb414"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">plotTimeSeries_MSI</span><span class="op">(</span>MSI <span class="op">=</span> <span class="va">MSI_longTerm</span>,</span>
<span>                   results_folder <span class="op">=</span> <span class="va">MSI_results_folder</span>,</span>
<span>                   plot_name <span class="op">=</span> <span class="st">"MSI_base1996_AllEcosystems"</span>, </span>
<span>                   displayPlots <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                   savePDF <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="birdIndicators_files/figure-html/unnamed-chunk-21-1.png" width="672"><img src="birdIndicators_files/figure-html/unnamed-chunk-21-2.png" width="672"></p>
<p>Now we’ll calculate indices for all ecosystems using the same setup, but using 2008 as a reference year. This makes the farmland and forest indices which can be calculated from 1996, and the mountain and wetland indices which can only be calculated from 2008 (due to insufficient data before) comparable:</p>
<div class="sourceCode" id="cb415"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Setting function arguments</span></span>
<span><span class="va">useCombTS</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">baseYear</span> <span class="op">&lt;-</span> <span class="fl">2008</span></span>
<span></span>
<span><span class="co">## Calculate MSI for each ecosystem</span></span>
<span><span class="va">MSI_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">IndexNames</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html">message</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">crayon</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/crayon/man/crayon.html">bold</a></span><span class="op">(</span><span class="st">"Calculating "</span>, <span class="va">IndexNames</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="st">" Index..."</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">calculateIndex_MultiSpecies</span><span class="op">(</span>working_folder <span class="op">=</span> <span class="va">working_folder_rel</span>, </span>
<span>                                         Spp_subset <span class="op">=</span> <span class="va">Index_sppLists</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>, </span>
<span>                                         IndexName <span class="op">=</span> <span class="va">IndexNames</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, </span>
<span>                                         results_folder <span class="op">=</span> <span class="va">MSI_results_folder</span>,</span>
<span>                                         useCombTS <span class="op">=</span> <span class="va">useCombTS</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>,</span>
<span>                                         baseYear <span class="op">=</span> <span class="va">baseYear</span>,</span>
<span>                                         changepointYear <span class="op">=</span> <span class="va">changepointYear</span><span class="op">)</span></span>
<span>  <span class="va">MSI_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">MSI_all</span>, <span class="va">results</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html">message</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb416"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Plot results</span></span>
<span><span class="fu">plotTimeSeries_MSI</span><span class="op">(</span>MSI <span class="op">=</span> <span class="va">MSI_all</span>,</span>
<span>        results_folder <span class="op">=</span> <span class="va">MSI_results_folder</span>,</span>
<span>        plot_name <span class="op">=</span> <span class="st">"MSI_base2008_AllEcosystems"</span>,</span>
<span>        displayPlots <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        savePDF <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="birdIndicators_files/figure-html/unnamed-chunk-23-1.png" width="672"><img src="birdIndicators_files/figure-html/unnamed-chunk-23-2.png" width="672"></p>
</div>
<div id="uncertainty-1" class="section level3" number="11.8.6">
<h3>
<span class="header-section-number">11.8.6</span> Uncertainty<a class="anchor" aria-label="anchor" href="#uncertainty-1"><i class="fas fa-link"></i></a>
</h3>
<p>Uncertainty in the point estimate MSI is provided via an associated standard error and confidence interval. Uncertainty in the smoothed trend model fit is provided via an associated confidence interval.</p>
</div>
</div>
<div id="prepare-export-bb" class="section level2" number="11.9">
<h2>
<span class="header-section-number">11.9</span> Prepare export<a class="anchor" aria-label="anchor" href="#prepare-export-bb"><i class="fas fa-link"></i></a>
</h2>
<p>Below we are preparing the output in the requested format. We are reporting the point estimate MSI here but note that we have not discussed to what degree the smoothed trend may be suitable. The breeding bird indicators exist only at the national scale as of now, so there are no spatial units associated with them.</p>
<div class="sourceCode" id="cb417"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MSI_export</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">MSI_export</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">MSI_all</span><span class="op">$</span><span class="va">IndexName</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">MSI_export</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># Get mean indicator values in wide format</span></span>
<span>  <span class="va">mean_wide</span> <span class="op">&lt;-</span> <span class="va">MSI_all</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">IndexName</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">MSI_export</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>toColNames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"v_"</span>, <span class="va">year</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">reshape2</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/reshape2/man/cast.html">dcast</a></span><span class="op">(</span><span class="va">IndexName</span> <span class="op">~</span> <span class="va">toColNames</span>, value.var <span class="op">=</span> <span class="st">"MSI"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">IndexName</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Get sd of indicator values in wide format</span></span>
<span>  <span class="va">sd_wide</span> <span class="op">&lt;-</span> <span class="va">MSI_all</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">IndexName</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">MSI_export</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>toColNames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"sd_"</span>, <span class="va">year</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">reshape2</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/reshape2/man/cast.html">dcast</a></span><span class="op">(</span><span class="va">IndexName</span> <span class="op">~</span> <span class="va">toColNames</span>, value.var <span class="op">=</span> <span class="st">"sd_MSI"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">IndexName</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Combine and add additional columns</span></span>
<span>  <span class="va">MSI_export</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">mean_wide</span>, <span class="va">sd_wide</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>reference_high <span class="op">=</span> <span class="cn">NA</span>, </span>
<span>                  reference_low <span class="op">=</span> <span class="fl">0</span>, </span>
<span>                  thr <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Notably, I have not added the `<code>i_YYYY</code> columns yet as these can only be calculated once we have discussed and come to an agreement on reference value (year), threshold value, and scaling function.</p>
<div id="export-bb" class="section level3" number="11.9.1">
<h3>
<span class="header-section-number">11.9.1</span> Eksport file (final product)<a class="anchor" aria-label="anchor" href="#export-bb"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb418"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">saveRDS</a></span><span class="op">(</span><span class="va">MSI_export</span>, file <span class="op">=</span> <span class="st">"indicators/BreedingBirdIndicators.rds"</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="tidy-up" class="section level3" number="11.9.2">
<h3>
<span class="header-section-number">11.9.2</span> Tidy-up<a class="anchor" aria-label="anchor" href="#tidy-up"><i class="fas fa-link"></i></a>
</h3>
<p>At the very end we want to remove the downloaded “birdIndicators” repository from the temp directory:</p>
<div class="sourceCode" id="cb419"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html">unlink</a></span><span class="op">(</span><span class="st">"temp/birdIndicators_Repo.zip"</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html">unlink</a></span><span class="op">(</span><span class="st">"temp/birdIndicators-main"</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>

</div>
</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="insect-indicators.html"><span class="header-section-number">10</span> Insect indicators</a></div>
<div class="next"><a href="connectivity.html"><span class="header-section-number">12</span> Connectivity</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#breeding-birds"><span class="header-section-number">11</span> Breeding bird indicators</a></li>
<li><a class="nav-link" href="#intro-bb"><span class="header-section-number">11.1</span> Introduction</a></li>
<li>
<a class="nav-link" href="#underlying-bb"><span class="header-section-number">11.2</span> About the underlying data</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#rep-in-time-and-space-bb"><span class="header-section-number">11.2.1</span> Representativity in time and space</a></li>
<li><a class="nav-link" href="#original-units-bb"><span class="header-section-number">11.2.2</span> Original units</a></li>
<li><a class="nav-link" href="#temp-coverage-bb"><span class="header-section-number">11.2.3</span> Temporal coverage</a></li>
<li><a class="nav-link" href="#additional-comments-bb"><span class="header-section-number">11.2.4</span> Aditional comments about the dataset</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#ecosystem-characteristics-bb"><span class="header-section-number">11.3</span> Ecosystem characteristic</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#norwegian-standard-4"><span class="header-section-number">11.3.1</span> Norwegian standard</a></li>
<li><a class="nav-link" href="#seea-ea-un-standard-1"><span class="header-section-number">11.3.2</span> SEEA EA (UN standard)</a></li>
</ul>
</li>
<li><a class="nav-link" href="#collinearities-with-other-indicators-9"><span class="header-section-number">11.4</span> Collinearities with other indicators</a></li>
<li>
<a class="nav-link" href="#ref-con-and-vals-bb"><span class="header-section-number">11.5</span> Reference condition and values</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#ref-con-bb"><span class="header-section-number">11.5.1</span> Reference condition</a></li>
<li><a class="nav-link" href="#ref-vals-bb"><span class="header-section-number">11.5.2</span> Reference values, thresholds for defining good ecological condition, minimum and/or maximum values</a></li>
</ul>
</li>
<li><a class="nav-link" href="#errors-bb"><span class="header-section-number">11.6</span> Uncertainties</a></li>
<li><a class="nav-link" href="#refs-bb"><span class="header-section-number">11.7</span> References</a></li>
<li>
<a class="nav-link" href="#analyses-bb"><span class="header-section-number">11.8</span> Analyses</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#workflow-setup"><span class="header-section-number">11.8.1</span> Workflow setup</a></li>
<li><a class="nav-link" href="#datasets-bb"><span class="header-section-number">11.8.2</span> Data sets</a></li>
<li><a class="nav-link" href="#pecbms-rtrim-analyses"><span class="header-section-number">11.8.3</span> PECBMS RTRIM analyses</a></li>
<li><a class="nav-link" href="#combining-data-series-using-rswan"><span class="header-section-number">11.8.4</span> Combining data series using RSWAN</a></li>
<li><a class="nav-link" href="#aggregation-to-multi-species-indices-msis"><span class="header-section-number">11.8.5</span> Aggregation to multi-species indices (MSIs)</a></li>
<li><a class="nav-link" href="#uncertainty-1"><span class="header-section-number">11.8.6</span> Uncertainty</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#prepare-export-bb"><span class="header-section-number">11.9</span> Prepare export</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#export-bb"><span class="header-section-number">11.9.1</span> Eksport file (final product)</a></li>
<li><a class="nav-link" href="#tidy-up"><span class="header-section-number">11.9.2</span> Tidy-up</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/NINAnor/ecosystemCondition/blob/master/birdIndicators.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/NINAnor/ecosystemCondition/edit/master/birdIndicators.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Indicators for Ecosystem Condition in Norway</strong>" was written by Anders L. Kolstad. It was last built on 2023-11-14.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
